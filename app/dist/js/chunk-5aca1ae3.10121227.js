(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5aca1ae3"],{"056e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"user-management-id-auth a-5-bg"},[a("p",{staticClass:"user-management-child-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("personal.idAuth.title"))+"\n  ")]),"1"===t.kycType&&t.appAuthOpen?a("div",{staticClass:"goAppAuth a-5-bg"},[a("div",{staticClass:"goAppAuthNote"},[t._v(t._s(t.$t("personal.idAuth.step1")))]),t.appDownload.app_page_url?a("div",{staticClass:"qrCode"},[a("img",{attrs:{src:t.appDownload.app_page_url,alt:""}}),a("div",[t._v(t._s(t.$t("personal.idAuth.appDownLoad")))])]):t._e(),a("div",{staticClass:"goAppAuthNote"},[t._v(t._s(t.$t("personal.idAuth.step2")))]),t._m(0)]):a("div",{staticClass:"user-management-center a-5-bg"},[a("div",{staticClass:"certification-process"},[a("div",{staticClass:"div-line a-3-bd clearfix"}),a("div",{staticClass:"step-left a-5-bg"},[a("p",{class:this.activeP1},[a("span",{staticClass:"span-mark b-8-cl clearfix a-12-bg"},[t._v("1")]),t._v("\n          "+t._s(t.$t("personal.idAuth.info"))+"\n        ")])]),a("div",{staticClass:"step-center a-5-bg"},[a("p",{class:this.activeP2},[a("span",{staticClass:"span-mark b-8-cl clearfix",class:this.activeS2},[t._v("2")]),t._v("\n          "+t._s(t.$t("personal.idAuth.uploadDocuments"))+"\n        ")])]),a("div",{staticClass:"step-right a-5-bg"},[a("p",{class:this.activeP3},[a("span",{staticClass:"span-mark b-8-cl clearfix",class:this.activeS3},[t._v("3")]),t._v("\n          "+t._s(t.$t("personal.idAuth.submitted"))+"\n        ")])])]),a("div",{staticClass:"idAuth-center clearfix"},["1"===t.active?a("div",[a("c-inputLine",{attrs:{promptText:t.$t("personal.kyc.areaTitle"),value:t.kycNationality,disabled:!0,errorHave:!0}}),"1"===t.kycType?a("c-inputLine",{attrs:{promptText:t.$t("personal.kyc.type"),value:t.$t("personal.label.idCard"),disabled:!0,errorHave:!0}}):t._e(),"2"===t.kycType?a("c-select",{attrs:{value:t.certificateType,promptText:t.$t("personal.kyc.type"),name:"certificateType",errorHave:!0,errorFlag:t.certificateTypeErrorFlag,options:t.idAuthType},on:{onChanges:t.idAuthTypeChange}}):t._e(),"1"===t.kycType?a("c-inputLine",{attrs:{maxLength:"50",name:"name",inputType:"text",promptText:t.promptText2,errorHave:!0,marginTop:"0px",value:t.checkValue2},on:{onchanges:t.inputChanges}}):t._e(),"2"===t.kycType?a("c-inputLine",{attrs:{maxLength:"50",name:"kycName",promptText:t.$t("personal.kyc.name"),errorHave:!0,value:t.kycName},on:{onchanges:t.inputChanges}}):t._e(),"2"===t.kycType?a("c-inputLine",{attrs:{maxLength:"50",name:"kycFamilyName",promptText:t.$t("personal.kyc.fName"),errorHave:!0,value:t.kycFamilyName},on:{onchanges:t.inputChanges}}):t._e(),a("c-inputLine",{attrs:{name:"idNo",maxLength:"35",inputType:"text",promptText:t.promptText1,errorHave:!0,errorText:t.errorText1,errorFlag:t.checkErrorFlag1,marginTop:"0px",value:t.checkValue1},on:{onchanges:t.inputChanges}}),a("div",{staticClass:"upload-text clearfix"},[a("p",[t._v("1、"+t._s(t.$t("personal.kyc.text1")))]),a("p",[t._v("2、"+t._s(t.$t("personal.kyc.text2")))])]),a("c-button",{attrs:{type:"solid",big:!0,disabled:t.kycStep1Disabled,marginTop:"18px",height:"40px",width:"100%"},on:{click:function(e){return t.btnLink(1)}}},[t._v(t._s(t.$t("personal.idAuth.next"))+"\n          ")])],1):t._e(),"2"===t.active?a("div",[a("div",[a("div",{staticClass:"upload1 clearfix"},[a("div",{staticClass:"upload1-left a-4-bg a-2-bd clearfix"},[t.firstPhotoLoading?a("div",[a("c-loading",{attrs:{size:"34",className:"common-button-loading a-12-bd"}}),a("p",{staticClass:"b-4-cl loading-text"},[t._v("\n                  "+t._s(t.$t("personal.prompt.uploading"))+"\n                ")])],1):a("div",{staticClass:"loading-Img"},[a("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-e_9"}})]),"1"===t.kycType?a("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.firstPhoto?t.$t("personal.idAuth.uploadIdCardPositiveAgain"):t.$t("personal.idAuth.uploadIdCardPositive"))+"\n                ")]):a("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.firstPhoto?t.$t("personal.idAuth.uploadPassportPositiveAgain"):t.$t("personal.idAuth.uploadPassportPositive"))+"\n                ")])]),""!==t.firstPhotoImg?a("div",{staticClass:"loading-mc b-2-bg"},[a("img",{staticClass:"loading-img",attrs:{src:t.firstPhotoImg}}),a("div",{staticClass:"b-2-bg"})]):t._e(),a("c-oldUploadFile",{attrs:{className:"upload_file",maxSize:"8",name:"firstPhoto",url:"common/upload_img",isOpenUploadImg:t.isOpenUploadImg,expand:[],imageType:"1"},on:{tellMessage:t.onChangeFileFun,uploadFinish:t.uploadFinish}})],1),a("div",{staticClass:"upload1-right clearfix",style:t.bg1})]),a("div",{staticClass:"upload2 clearfix"},[a("div",{staticClass:"upload2-left a-4-bg a-2-bd clearfix"},[t.secondPhotoLoading?a("div",[a("c-loading",{attrs:{size:"34",className:"common-button-loading a-12-bd"}}),a("p",{staticClass:"b-4-cl loading-text"},[t._v("\n                  "+t._s(t.$t("personal.prompt.uploading"))+"\n                ")])],1):a("div",{staticClass:"loading-Img"},[a("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-e_9"}})]),"1"===t.kycType?a("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.secondPhoto?t.$t("personal.idAuth.uploadIdCardBackAgain"):t.$t("personal.idAuth.uploadIdCardBack"))+"\n                ")]):a("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.secondPhoto?t.$t("personal.idAuth.uploadPassportBackAgain"):t.$t("personal.idAuth.uploadPassportBack"))+"\n                ")])]),""!==t.secondPhotoImg?a("div",{staticClass:"loading-mc b-2-bg"},[a("img",{staticClass:"loading-img",attrs:{src:t.secondPhotoImg}}),a("div",{staticClass:"b-2-bg"})]):t._e(),a("c-oldUploadFile",{attrs:{className:"upload_file",maxSize:"8",name:"secondPhoto",url:"common/upload_img",isOpenUploadImg:t.isOpenUploadImg,expand:[],imageType:"1"},on:{tellMessage:t.onChangeFileFun,uploadFinish:t.uploadFinish}})],1),a("div",{staticClass:"upload2-right clearfix",style:t.bg2})]),a("div",{staticClass:"upload3 clearfix"},[a("div",{staticClass:"upload2-left a-4-bg a-2-bd clearfix"},[t.thirdPhotoLoading?a("div",[a("c-loading",{attrs:{size:"34",className:"common-button-loading a-12-bd"}}),a("p",{staticClass:"b-4-cl loading-text"},[t._v("\n                  "+t._s(t.$t("personal.prompt.uploading"))+"\n                ")])],1):a("div",{staticClass:"loading-Img"},[a("svg",{staticClass:"icon icon-24",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-e_9"}})]),"1"===t.kycType?a("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.thirdPhoto?t.$t("personal.idAuth.uploadIdCardPersonalPositivAgain"):t.$t("personal.idAuth.uploadIdCardPersonalPositiv"))+"\n                ")]):a("p",{staticClass:"b-4-cl"},[t._v("\n                  "+t._s(t.thirdPhoto?t.$t("personal.idAuth.uploadPassportPersonalPositivAgain"):t.$t("personal.idAuth.uploadPassportPersonalPositiv"))+"\n                ")])]),""!==t.thirdPhotoImg?a("div",{staticClass:"loading-mc"},[a("img",{staticClass:"loading-img",attrs:{src:t.thirdPhotoImg}}),a("div",{staticClass:"b-2-bg"})]):t._e(),a("c-oldUploadFile",{attrs:{className:"upload_file",maxSize:"8",name:"thirdPhoto",url:"common/upload_img",isOpenUploadImg:t.isOpenUploadImg,expand:[],isWaterMark:!0,imageType:"1"},on:{tellMessage:t.onChangeFileFun,uploadFinish:t.uploadFinish}})],1),a("div",{staticClass:"upload2-right clearfix",style:t.bg3})]),a("div",{staticClass:"upload-text clearfix"},[a("p",[t._v("1、"+t._s(t.$t("personal.idAuth.uploadText")[0]))]),a("p",[t._v("2、"+t._s(t.$t("personal.idAuth.uploadText")[1]))]),a("p",[t._v("3、"+t._s(t.$t("personal.idAuth.uploadText")[2]))]),t.kycMetaText.length?a("p",[t._v("4、"+t._s(t.kycMetaText))]):a("p",[t._v("4、"+t._s(t.$t("personal.idAuth.uploadText")[3]))])]),a("c-button",{attrs:{type:"solid",big:!0,className:"",paddingW:"0px",loading:t.loading,disabled:t.disabled2,marginTop:"18px",height:"40px",width:"100%"},on:{click:function(e){return t.btnLink(2)}}},[t._v(t._s(t.$t("personal.tool.submit")))])],1)]):t._e(),"3"===t.active?a("div",[a("div",{staticClass:"audit-information"},[a("svg",{staticClass:"icon icon-50",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-g_3"}})]),a("p",[t._v("\n            "+t._s(t.$t("personal.idAuth.wait")[0])+" "),a("br"),t._v(t._s(t.$t("personal.idAuth.wait")[1])+"\n          ")])])]):t._e()])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"exImg"},[a("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200805194924641.png"}})])}],o=(a("7f7f"),a("6b54"),a("87b3"),a("a481"),a("28a5"),a("768b")),n=a("95d5"),r=a("89e2"),c=n["u"].kyc_idcard_a,l=n["u"].kyc_idcard_b,h=n["u"].kyc_idcard_c,u=n["u"].kyc_passport_a,d=n["u"].kyc_passport_b,p=n["u"].kyc_passport_c,y={name:"bindEmail",mixins:[r["a"]],data:function(){return{promptTextType:this.$t("personal.idAuth.promptTextType"),promptText:this.$t("personal.label.promptText"),errorText:this.$t("personal.label.errorText"),authLevel:3,text1:this.$t("personal.label.idCard"),text2:this.$t("personal.label.passport"),loading:!1,firstPhotoImg:"",secondPhotoImg:"",thirdPhotoImg:"",firstPhotoImgSrc:"",secondPhotoImgSrc:"",thirdPhotoImgSrc:"",firstPhotoLoading:!1,secondPhotoLoading:!1,thirdPhotoLoading:!1,checkValue1:"",promptText1:this.$t("personal.label.idCardNum"),errorText1:"",checkErrorFlag1:!1,checkValue2:"",promptText2:this.$t("personal.label.name"),active:"1",disabled2:!0,country:"",countryErrorFlag:!1,certificateType:2,certificateTypeErrorFlag:!1,imageType:"1",firstPhoto:"",secondPhoto:"",thirdPhoto:"",uploadName:"",idAuthType:[{code:2,value:this.$t("personal.kyc.type1")},{code:4,value:this.$t("personal.kyc.type2")},{code:3,value:this.$t("personal.kyc.type3")}],kycPhone:"",kycPhoneCode:"",kycName:"",kycFamilyName:"",kycMetaText:"",flag:!1}},watch:{interfaceSwitch:function(t){t&&this.getLang()},userInfo:function(t){t&&(this.authLevel=this.userInfo.authLevel,2===this.authLevel||3===this.authLevel?this.active="1":0===this.authLevel?this.active="3":this.$router.push("/personal/userManagement"))},publicInfo:function(t){t&&(this.isOpenUploadImg=this.publicInfo.switch.is_open_upload_img)},authRealname:function(t){null!==t&&(this.loading=!1,"success"===t.text?(this.$bus.$emit("tip",{text:t.msg,type:"success"}),this.active="3",this.$store.dispatch("resetType")):(this.$bus.$emit("tip",{text:t.msg,type:"error"}),this.firstPhotoImg="",this.secondPhotoImg="",this.thirdPhotoImg="",this.firstPhotoImgSrc="",this.secondPhotoImgSrc="",this.thirdPhotoImgSrc="",this.firstPhotoLoading=!1,this.secondPhotoLoading=!1,this.thirdPhotoLoading=!1,this.checkValue1="",this.checkValue2="",this.disabled2=!0,this.active="1",this.firstPhoto="",this.secondPhoto="",this.thirdPhoto="",this.uploadName="",this.kycName="",this.kycFamilyName="",this.$store.dispatch("resetType")))},appDownload:function(t){t&&(this.flag=!0)}},computed:{interfaceSwitch:function(){return this.$store.state.baseData.interfaceSwitch},appAuthOpen:function(){return this.$store.state.baseData.app_auth_open},publicInfo:function(){return this.$store.state.baseData.publicInfo},nameVerifiedType:function(){return this.$store.state.baseData.nameVerifiedType},bg1:function(){return"1"===this.kycType?{backgroundImage:"url(".concat(c,")")}:{backgroundImage:"url(".concat(d,")")}},bg2:function(){return"1"===this.kycType?{backgroundImage:"url(".concat(l,")")}:{backgroundImage:"url(".concat(u,")")}},bg3:function(){return"1"===this.kycType?{backgroundImage:"url(".concat(h,")")}:{backgroundImage:"url(".concat(p,")")}},authRealname:function(){return this.$store.state.personal.authRealname},userInfo:function(){return this.$store.state.baseData.userInfo},activeP1:function(){return"1"!==this.active?"":"b-2-cl"},activeP2:function(){return"2"!==this.active?"":"b-2-cl"},activeP3:function(){return"3"===this.active?"b-2-cl":""},activeS2:function(){return"1"!==this.active?"a-12-bg":"a-1-bg"},activeS3:function(){return"3"===this.active?"a-12-bg":"a-1-bg"},kycStep1Disabled:function(){var t=!0;return"1"===this.kycType?this.kycNationality.length&&this.checkValue2.length&&this.checkValue1.length&&(t=!1):this.kycNationality.length&&this.kycName.length&&this.kycFamilyName.length&&this.checkValue1.length&&(t=!1),t},kycNationality:function(){var t="",e=this.countryRealMap["+".concat(this.kycPhone)];if(this.kycPhone&&e){var a=e.value,i=a.split(" +"),s=Object(o["a"])(i,1);t=s[0]}return t},kycType:function(){return this.kycPhone&&"156"===this.kycPhone?"1":"2"},appDownload:function(){return this.$store.state.baseData.app_download}},methods:{init:function(){this.$route.query&&(this.$route.query.country?(this.kycPhone=this.$route.query.country,this.kycPhoneCode=this.$route.query.countryKeyCode):this.$route.query.countryKeyCode?(this.kycPhone=this.countryMap["+".concat(this.$route.query.countryKeyCode)].code.replace("+",""),this.kycPhoneCode=this.$route.query.countryKeyCode):(this.kycPhone="156",this.kycPhoneCode="86")),null!==this.publicInfo&&(this.isOpenUploadImg=this.publicInfo.switch.is_open_upload_img),this.userInfo&&(this.authLevel=this.userInfo.authLevel,2===this.authLevel||3===this.authLevel?this.active="1":0===this.authLevel?this.active="3":this.$router.push("/personal/userManagement")),this.interfaceSwitch&&this.getLang()},getLang:function(){var t=this;this.axios({url:"/kyc/Api/getUploadImgCopywriting"}).then((function(e){"0"===e.code.toString()?e.data.language&&(t.kycMetaText=e.data.language):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},idAuthTypeChange:function(t){var e=t.code;this.certificateType=e},uploadFinish:function(t){t.name&&(this.uploadName=t.name),t.error?this.$bus.$emit("tip",{text:t.error,type:"error"}):(this["".concat(this.uploadName,"Img")]=t.url,this["".concat(this.uploadName,"ImgSrc")]=t.imgSrc,this["".concat(this.uploadName,"Loading")]=!1,this[this.uploadName]=t.fileName,this.firstPhotoImg&&this.secondPhotoImg&&this.thirdPhotoImg&&(this.disabled2=!1))},onChangeFileFun:function(t){t.code&&"maxSize"===t.code&&this.$bus.$emit("tip",{text:this.$t("personal.exccAuthForm.text3"),type:"error"}),this.uploadName=t.name,this["".concat(this.uploadName,"Loading")]=!0},inputChanges:function(t,e){"name"===e?this.checkValue2=t:"kycFamilyName"===e?this.kycFamilyName=t:"kycName"===e?this.kycName=t:this.checkValue1=t},checkFocus:function(t){switch(t){case"email":this.checkErrorFlag1=!1,this.errorText1="";break;case"2":break;default:}},btnLink:function(t){if(1===t)this.active="2";else{this.loading=!0;var e=1;if("2"===this.kycType&&(e=this.certificateType),"02"===this.nameVerifiedType&&"1"===this.kycType){var a={countryCode:"+".concat(this.kycPhoneCode),numberCode:this.kycPhone,certificateType:e,cardNo:this.checkValue1,name:this.checkValue2||void 0,photo_front:this.firstPhotoImgSrc,photo_back:this.secondPhotoImgSrc,photo_living:this.thirdPhotoImgSrc};return void this.$store.dispatch("authRealname",{info:a,kycFlag:!0})}var i={countryCode:"+".concat(this.kycPhoneCode),numberCode:this.kycPhone,certificateType:e,certificateNumber:this.checkValue1,userName:this.checkValue2||void 0,firstPhoto:this.firstPhoto,secondPhoto:this.secondPhoto,thirdPhoto:this.thirdPhoto,familyName:this.kycFamilyName||void 0,name:this.kycName||void 0};this.$store.dispatch("authRealname",{info:i,kycFlag:!1})}}}},g=(a("da58"),{mixins:[y],mounted:function(){this.init()}}),m=g,f=a("2877"),v=Object(f["a"])(m,i,s,!1,null,null,null);e["default"]=v.exports},"89e2":function(t,e,a){"use strict";a("57e7"),a("d25f"),a("456d"),a("28a5"),a("ac6a"),a("f3e2");var i=a("95d5");e["a"]={data:function(){return{countryKeyCode:"",country:""}},watch:{countryObj:{handler:function(){var t=this.defaultCountryCode;t&&""===this.countryKeyCode&&(this.countryKeyCode=t),!this.defaultCountryCodeReal&&!this.country&&t&&this.countryMap&&this.countryMap[t]&&(this.country=this.countryMap[t].code),this.defaultCountryCodeReal&&""===this.country&&(this.country=this.defaultCountryCodeReal)}},defaultCountryCodeReal:{handler:function(t){t&&""===this.country&&(this.country=t)},immediate:!0},defaultCountryCode:{handler:function(t){t&&""===this.countryKeyCode&&(this.defaultCountryCodeReal?this.countryKeyCode=this.countryListKeyObj[this.defaultCountryCodeReal].keyCode:this.countryKeyCode=t),!this.defaultCountryCodeReal&&!this.country&&t&&this.countryMap&&this.countryMap[t]&&(this.country=this.countryMap[t].code)},immediate:!0}},computed:{countryListKeyObj:function(){var t={};return this.countryObj.list.forEach((function(e){t[e.code]={code:e.code,keyCode:e.keyCode,value:e.value.split(" ")[0]}})),t},countryList:function(){return this.countryObj.list},registerCountryList:function(){var t=this.filterCountryList(this.$t("phoneCode"));return Object(i["o"])(t).list},countryListMoy:function(){var t=[];return this.countryObj.list.forEach((function(e){t.push({code:e.code,keyCode:e.keyCode,value:e.value.split(" +")[0]})})),t},countryMap:function(){return this.countryObj.countryMap},countryRealMap:function(){return this.countryObj.countryRealMap},countryObj:function(){return this.$store.state.baseData.countryObj},defaultCountryCode:function(){return this.$store.state.baseData.defaultCountryCode},defaultCountryCodeReal:function(){return this.$store.state.baseData.defaultCountryCodeReal},limitCountryList:function(){return this.$store.state.baseData.limitCountryList}},methods:{countryChange:function(t){this.country=t.code,this.countryKeyCode=t.keyCode},filterCountryList:function(t){var e=t,a=this.limitCountryList;return a.length>0&&(a=a.join("").split("+"),Object.keys(e).forEach((function(t){e[t]=e[t].filter((function(t){var e=t.split("+");return-1===a.indexOf(e[2])}))}))),e}}}},da58:function(t,e,a){}}]);