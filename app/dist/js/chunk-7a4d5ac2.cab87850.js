(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7a4d5ac2"],{"72a6":function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("section",{staticClass:"page-creditCard a-5-bg"},[a("div",{staticClass:"otc-page-title a-5-bg a-7-bd"},[a("div",{staticClass:"page-title-bar b-1-cl"},[t._v("\n        "+t._s(t.$t("creditCard.title"))+"\n    ")])]),a("div",{staticClass:"page-creditCard-coneent"},[a("div",{staticClass:"page-creditCard-bar"},[a("div",{staticClass:"creditCard-symbolNav a-3-bd b-1-cl"},[t._v("\n          "+t._s(t.$t("creditCard.title"))+"\n          "),t._m(0)]),a("div",{staticClass:"creditCard-main"},[a("div",{staticClass:"creditCard-main-even"},[a("div",{staticClass:"creditCard-main-input"},[a("c-inputLine",{attrs:{name:"tokenInput",promptText:t.$t("creditCard.amount"),marginTop:"0px",value:t.tokenInput,errorHave:!0},on:{onchanges:t.inputChanges}},[a("div",{staticClass:"creditCard-main-inputLine a-3-bg"})])],1),a("div",{staticClass:"creditCard-main-select"},[a("c-select",{attrs:{options:t.tokenList,value:t.activeToken,errorHave:!0},on:{onChanges:t.tokenChange}})],1)]),a("div",{staticClass:"creditCard-main-even"},[a("div",{staticClass:"creditCard-main-input"},[a("c-inputLine",{attrs:{name:"fiatInput",promptText:t.$t("creditCard.num"),marginTop:"0px",errorFlag:t.inputError.show,errorText:t.inputError.text,value:t.fiatInput,errorHave:!0},on:{onchanges:t.inputChanges}},[a("div",{staticClass:"creditCard-main-inputLine a-3-bg"})])],1),a("div",{staticClass:"creditCard-main-select"},[a("c-select",{attrs:{options:t.fiatList,value:t.activeFiat,errorHave:!0},on:{onChanges:t.fiatChange}})],1)]),t.loginFlag?a("c-button",{attrs:{type:"solid",marginTop:"20px",height:"40px",width:"380px",disabled:t.buttonDisable,paddingW:"0px"},on:{click:t.submit}},[t._v("\n            "+t._s(t.$t("creditCard.buy"))+"\n          ")]):a("c-button",{attrs:{type:"solid",marginTop:"20px",height:"40px",width:"380px",paddingW:"0px"},on:{click:t.goLogin}},[t._v("\n            "+t._s(t.$t("trade.loginReg"))+"\n          ")]),a("div",{staticClass:"powered"},[a("span",{staticClass:"powered-tit"},[t._v("Powered by")]),a("img",{staticClass:"powered-img",attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142935518.png",alt:""}}),a("div",{staticClass:"creditCard-page-icon"},[a("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-a_15"}})]),a("ul",{staticClass:"creditCard-page-market a-4-bg"},[a("li",[t._v("\n                  "+t._s(t.$t("creditCard.mark"))+"\n                ")])])])]),a("div",{staticClass:"creditCard-warn"},[a("div",{staticClass:"creditCard-warn-even"},[t._v(t._s(t.$t("creditCard.warnTit"))+":")]),a("div",{staticClass:"creditCard-warn-even"},[t._v("\n              "+t._s(t.$t("creditCard.warn1")))]),a("div",{staticClass:"creditCard-warn-even",domProps:{innerHTML:t._s(t.warn2Text)}}),a("div",{staticClass:"creditCard-warn-even"},[t._v("\n              "+t._s(t.$t("creditCard.warn3"))+"\n            ")])])],1)])]),a("c-dialog",{attrs:{showFlag:t.confirmFlag,paddingBottom:"14px",confirmText:t.$t("creditCard.confirmTit"),confirmDisabled:t.dialogConfirmDisabled,confirmLoading:t.dialogConfirmLoading,titleText:t.$t("creditCard.confirmBtn")},on:{confirm:t.confirmSubmit,close:t.confirmClose}},[a("div",{staticClass:"creditCard-confirm"},[a("div",{staticClass:"creditCard-confirm-mess b-1-cl"},[t._v("\n        "+t._s(t.$t("creditCard.confirmText1"))+"\n      ")]),a("div",{staticClass:"creditCard-confirm-options clearfix"},[a("c-checkBox",{attrs:{value:t.redioFlag},on:{click:t.setRedio}}),a("div",{staticClass:"creditCard-confirm-text"},[t._v(t._s(t.$t("creditCard.confirmText2")))])],1)])]),a("c-dialog",{attrs:{showFlag:t.callBackFlag,paddingBottom:"14px",confirmText:t.$t("creditCard.callBackFalse"),titleText:t.$t("creditCard.callBackTit")},on:{confirm:t.callBackSubmit,close:t.callBackClose}},[a("ul",{staticClass:"creditCard-callBack"},[a("li",{domProps:{innerHTML:t._s(t.callBackText1)}}),a("li",[t._v(t._s(t.$t("creditCard.callBackText2")))]),a("li",[t._v(t._s(t.$t("creditCard.callBackText3")))])])])],1)},s=[function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"creditCard-imgs"},[a("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429141529768.svg"}}),a("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142925574.svg"}}),a("img",{attrs:{src:"https://saas-oss.oss-accelerate.aliyuncs.com/upload/20200429142747706.svg"}})])}],n=(a("57e7"),a("ac6a"),a("f3e2"),a("28a5"),a("95d5")),r={data:function(){return{confirmFlag:!1,redioFlag:!1,activeToken:"",activeFiat:"",tokenList:[],fiatList:[],tokenInput:"",fiatInput:"",nowRate:0,sourceID:"",spks:{},dialogConfirmLoading:!1,callBackFlag:!1}},computed:{loginFlag:function(){var t=this.$store.state.baseData,i=t.isLogin,a=t.userInfoIsReady;return!(!i||!a)},warn2Text:function(){var t=this.$t("creditCard.warn2"),i=["https://buy.moonpay.io/trade_history","/assets/flowingWater"];return this.setLocals(t,i)},callBackText1:function(){var t=this.$t("creditCard.callBackText1"),i=["https://buy.moonpay.io/trade_history"];return this.setLocals(t,i)},lan:function(){return this.$store.state.baseData?this.$store.state.baseData.lan:null},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},dialogConfirmDisabled:function(){return!this.dialogConfirmLoading&&!this.redioFlag},market:function(){return this.$store.state.baseData.market},nowSpk:function(){var t="";return this.spks[this.activeFiat]&&(t=this.spks[this.activeFiat]),t},inputError:function(){var t={flag:!1,show:!1,text:""},i=this.nowSpk,a=i.minAmount,e=i.maxAmount,s=parseFloat(this.fiatInput);return this.fiatInput&&this.nowSpk&&(a-1<s&&s<e+1?t.flag=!0:(t.show=!0,t.text="".concat(this.$t("creditCard.spk"),"ï¼š").concat(a," ").concat(this.activeFiat,"\n           ~ ").concat(e," ").concat(this.activeFiat))),t},buttonDisable:function(){var t=!0;return this.activeFiat&&this.inputError.flag&&(t=!1),t}},watch:{confirmFlag:function(t){t||(this.redioFlag=!1)}},methods:{goLogin:function(){this.$router.push("/login")},setLocals:function(t,i){var a=t,e="";if(a){var s=a.split("$<"),n=0;s.forEach((function(t){if(-1!==t.indexOf(">$")){var a=i[n];n+=1;var s=t.split(">$");e+='<a class="u-8-cl" href="'.concat(a,'" target="_block">\n              ').concat(s[0],"</a>").concat(s[1])}else e+=t}))}return e},callBackSubmit:function(){this.$router.push("/assets/exchangeAccount")},callBackClose:function(){this.callBackFlag=!1},setRedio:function(){this.redioFlag=!this.redioFlag},submit:function(){this.confirmFlag=!0},confirmClose:function(){this.confirmFlag=!1},confirmSubmit:function(){this.dialogConfirmLoading=!0,this.getD()},getD:function(){var t=this;this.axios({url:"credit/createOrder",hostType:"fe-credit-api",params:{token:this.activeToken,fiatCoin:this.activeFiat,amount:this.fiatInput},method:"post"}).then((function(i){t.dialogConfirmLoading=!1,"0"===i.code?(window.open(i.data.orderUrl),t.confirmFlag=!1,t.callBackFlag=!0):t.$bus.$emit("tip",{text:i.msg,type:"error"})}))},inputChanges:function(t,i){this[i]=t;var a=this.market.coinList,e=a[this.activeToken]&&a[this.activeToken].showPrecision||0;"tokenInput"===i?(this.tokenInput=Object(n["h"])(t,e),this.fiatInput=Object(n["f"])(this.tokenInput*this.nowRate,0)):(this.fiatInput=Object(n["h"])(t,0),this.tokenInput=Object(n["f"])(this.fiatInput/this.nowRate,e))},init:function(){this.getLogos(),this.getCoins()},getLogos:function(){},getCoins:function(){var t=this;this.axios({url:"credit/availableCoins",hostType:"fe-credit-api",params:{},method:"post"}).then((function(i){if("0"===i.code){var a=i.data,e=a.fiatList,s=a.tokenList,n=[];e.forEach((function(i){n.push({value:i.fiatCoin,code:i.fiatCoin}),i.isDefault&&(t.activeFiat=i.fiatCoin),t.spks[i.fiatCoin]=i}));var r=[];s.forEach((function(i){var a=i.coin;"EUSDT"===a&&(a="USDT(ERC20)"),r.push({value:a,code:i.coin}),i.isDefault&&(t.activeToken=i.coin)})),t.fiatList=n,t.tokenList=r,t.getMess()}}))},getMess:function(){var t=this;this.axios({url:"credit/moonPayRate",hostType:"fe-credit-api",params:{token:this.activeToken,fiatCoin:this.activeFiat},method:"post"}).then((function(i){"0"===i.code&&((t.fiatInput||t.tokenInput)&&(t.fiatInput="",t.tokenInput="",t.$bus.$emit("tip",{text:t.$t("creditCard.warningText"),type:"warning"})),t.nowRate=i.data.moonPayRate)}))},reset:function(){this.tokenInput="",this.fiatInput="",this.nowRate=0,this.getMess()},tokenChange:function(t){t.code!==this.activeToken&&(this.activeToken=t.code,this.reset())},fiatChange:function(t){t.code!==this.activeFiat&&(this.activeFiat=t.code,this.reset())}}},o=(a("eaf1"),{mixins:[r],mounted:function(){this.init()}}),c=o,d=a("2877"),l=Object(d["a"])(c,e,s,!1,null,null,null);i["default"]=l.exports},eaf1:function(t,i,a){}}]);