(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3ea0b30c"],{"075b":function(t,e,a){"use strict";var s=a("768b");a("57e7"),a("f3e2"),a("ac6a"),a("456d");e["a"]={data:function(){return{haveBranch:!1,branchArr:[],activeBranch:""}},methods:{branchInit:function(t){var e=this,a=t.coinList,i=t.followCoinList;if(this.haveBranch=!1,this.branchArr=[],this.activeBranch="",this.symbol&&a[this.symbol]&&1===a[this.symbol].mainChainType&&(this.haveBranch=!0,i[this.symbol])){var r=[],n=Object.keys(i[this.symbol]);if(n.forEach((function(t){var a=i[e.symbol][t];r.push({value:a.mainChainName,code:t})})),this.branchArr=r,-1!==n.indexOf(this.symbol))this.activeBranch=this.symbol;else{var o=Object(s["a"])(n,1),h=o[0];this.activeBranch=h}}}}}},"7c90":function(t,e,a){},"886f":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"page-withdraw"},[a("header",{staticClass:"withdraw-header b-1-cl a-3-bd"},[a("div",{staticClass:"flowingWater-nav a-3-bd"},[a("c-navTab",{attrs:{activeClassName:"b-1-cl",activeColor:"a-12-bg",className:"b-2-cl",currentTab:t.nowType,navTab:t.navTab,lineHeight:"55"},on:{currentType:t.currentType}})],1)]),2===t.nowType?[a("innerTransfer")]:[a("div",{staticClass:"withdraw-details clearfix a-7-bd"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"details-left"},[a("div",{staticClass:"symbol b-1-cl"},[t._v(t._s(t.showSymbol))]),a("div",{staticClass:"numberList clearfix"},[a("ul",{staticClass:"numberList-key"},[a("li",[t._v(t._s(t.$t("assets.withdraw.lumpSum")))]),a("li",[t._v(t._s(t.$t("assets.withdraw.Available")))]),a("li",[t._v(t._s(t.$t("assets.withdraw.freeze")))])]),a("ul",{staticClass:"numberList-value b-1-cl"},t._l(t.detailsList,(function(e,s){return a("li",{key:s},[t._v("\n            "+t._s(e.value)+"\n          ")])})),0)]),a("div",{staticClass:"details-warking b-7-cl"},[a("svg",{staticClass:"icon icon-16",staticStyle:{marginRight:"10px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-c_2"}})]),1===t.idAuth?[t._v("\n        "+t._s(t.$t("assets.withdraw.MinimumCoinLimit"))+" "+t._s(t.withdrawMin)+"，\n        ")]:t._e(),t._v("\n        "+t._s(t.$t("assets.withdraw.MaximumCoinLimit"))+" "+t._s(t.withdrawMax)+"\n        "),a("br"),1===t.switchadd?a("div",{staticClass:"dayMax"},[t._v("\n           "+t._s(t.$t("assets.withdraw.dayMaximumCoinLimit"))+" "+t._s(t.daywithdrawMax)+"\n        ")]):t._e()],2)]),a("div",{staticClass:"details-right"},[t.haveBranch?a("div",{staticClass:"details-branch"},[a("mainChain",{attrs:{branchTip:t.branchTip,branchArr:t.branchArr,activeBranch:t.activeBranch},on:{setActiveBranch:t.setActiveBranch}})],1):t._e(),a("c-select",{attrs:{promptText:t.$t("assets.withdraw.CoinAddress"),value:t.addressValue,options:t.addressList,errorHave:!0,type:"double"},on:{onChanges:t.addressChange}}),t.isHavePage?a("c-inputLine",{attrs:{errorHave:!0,promptText:t.$t("assets.withdraw.label"),disabled:!0,value:t.pagesValue}},[a("div",{staticClass:"addressBox-page-icon"},[a("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-a_15"}})]),a("div",{staticClass:"addressBox-page-market a-4-bg"},[t._v("\n            "+t._s(t.$t("assets.withdraw.pageText"))+"\n          ")])])]):t._e(),a("c-inputLine",{attrs:{name:"numberValue",errorHave:!0,promptText:t.$t("assets.withdraw.NumberOfCoins"),value:t.numberValue,errorFlag:t.numberOptions.error,errorText:t.numberOptions.text},on:{onchanges:t.inputChange}},[a("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allWithDraw}},[t._v("\n          "+t._s(t.$t("assets.withdraw.allWithdraw"))+"\n        ")])],1),a("c-inputLine",{attrs:{name:"proceduresValue",errorHave:!0,promptText:t.$t("assets.withdraw.fee"),value:t.proceduresValue,errorFlag:t.proceduresError,errorText:t.$t("assets.withdraw.feeError")},on:{onchanges:t.inputChange}},[a("div",{staticClass:"ServiceSpk"},[t._v("\n          ("+t._s(t.$t("assets.withdraw.range"))+t._s(t.feeMin)+"-"+t._s(t.feeMax)+")\n        ")])]),a("c-button",{attrs:{width:"120px",marginTop:"32px",height:"40px",disabled:t.btnDisabled},on:{click:t.withdrawClick}},[t._v(t._s(t.$t("assets.withdraw.buttonWithdraw")))]),a("span",{staticClass:"goAddress b-4-cl",on:{click:t.goAddress}},[t._v("\n        "+t._s(t.$t("assets.withdraw.addAddrss"))+"\n      ")])],1)]),t.symbol_withdraw_msg?a("div",{staticClass:"withdrawMsg b-2-cl"},[a("p",[t._v(t._s(t.$t("application.applyRegion.focus")))]),a("p",[t._v(t._s(t.symbol_withdraw_msg))])]):t._e()])],a("header",{staticClass:"withdraw-header b-1-cl a-3-bd"},[a("c-navTab",{attrs:{activeClassName:"b-1-cl",activeColor:"a-12-bg",className:"b-2-cl",currentTab:t.nowTypeTable,navTab:t.navTabTable,lineHeight:"55"},on:{currentType:t.currentTypeTable}})],1),a("div",{staticClass:"withdraw-table"},[a("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,columns:t.columns,subContent:t.subTableData,subContentId:t.subTableDataId,subColumns:t.subColumns,dataList:t.tabelList},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?a("c-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1),a("c-verifyCationc-alert",{attrs:{showFlag:t.alertFlag,imgMap:t.imgMap,titleText:t.$t("assets.withdraw.safetyWarning"),detaText:t.authTitleText,dataList:t.alertData,buttonText:t.$t("assets.withdraw.GotoOpen")},on:{close:t.alertClone,confirm:t.alertGo}}),a("c-dialog",{attrs:{showFlag:t.dialogFlag,paddingBottom:"14px",confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.$t("assets.withdraw.safetyVerification")},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[t.OpenMobile?a("c-inputLine",{attrs:{maxLength:"6",name:"phoneValue",value:t.phoneValue,promptText:t.$t("assets.withdraw.phoneCode"),errorHave:!0,errorFlag:t.phoneError,errorText:t.$t("assets.withdraw.phoneCodeError")},on:{onchanges:t.inputChange}},[a("c-getCode",{attrs:{name:"withdrawGetcode"},on:{click:t.getCodeClick}})],1):t._e(),t.OpenGoogle?a("c-inputLine",{attrs:{maxLength:"6",name:"googleValue",value:t.googleValue,promptText:t.$t("assets.withdraw.googleCode"),errorHave:!0,errorFlag:t.googleError,errorText:t.$t("assets.withdraw.googleCodeError")},on:{onchanges:t.inputChange}}):t._e()],1),a("c-alert",{attrs:{showFlag:t.notIdShowDialog,buttonText:t.$t("otcRelease.DeCertification"),imgMap:t.imgMap},on:{close:t.alertClone,confirm:t.gotoAuth}},[a("div",{staticClass:"ts-content-text"},[t._v("\n      "+t._s(t.$t("personal.exccAuthForm.text19"))+"\n    ")])])],2)},i=[],r=(a("28a5"),a("768b")),n=(a("ac6a"),a("f3e2"),a("6b54"),a("87b3"),a("c5f6"),a("57e7"),a("95d5")),o={name:"page-withdraw",data:function(){return{tabelLoading:!0,imgMap:n["u"],colorMap:n["c"],alertFlag:!1,detailsList:[{key:"sum",value:"--"},{key:"normal",value:"--"},{key:"lock",value:"--"}],withdrawMin:"--",withdrawMax:"--",daywithdrawMax:"--",feeMin:"--",feeMax:"--",tabelList:[],subTableData:[],financeListData:[],subTableDataId:null,symbol:"",addressValue:"",detailsAddressList:{},pagesValue:"",numberValue:"",proceduresValue:"",addressList:[],havePageArr:["XRP","EOS"],paginationObj:{total:0,display:10,currentPage:1},dialogFlag:!1,dialogConfirmLoading:!1,googleValue:"",phoneValue:"",revokeList:[],defaultFeeFlag:!0,defaultFee:null,symbol_withdraw_msg:null,branchTip:"",notIdShowDialog:!1,nowType:1,nowTypeTable:1}},filters:{fixDFn:function(t,e){return Object(n["f"])(t,e.showPrecision)}},watch:{userInfoIsReady:function(){this.canAlert()},exchangeData:function(t){t&&this.initDetails()},paginationObjCurrentPage:function(){this.getTableList()},symbol:function(t){t&&this.market&&(this.branchInit(this.market),this.addressInit(),this.defInit())},market:{immediate:!0,handler:function(t){t&&this.symbol&&(this.branchInit(t),this.addressInit(),this.defInit())}},proceduresValue:function(t){this.proceduresValue=Object(n["h"])(t,this.showPrecision)},numberValue:function(t){this.numberValue=Object(n["h"])(t,this.showPrecision)}},computed:{isHavePage:function(){var t=!1;if(this.market&&this.market.coinList)if(this.haveBranch){if(this.market.followCoinList[this.symbol][this.activeBranch]){var e=this.market.followCoinList[this.symbol][this.activeBranch].tagType;t=e}}else if(this.market.coinList[this.symbol]){var a=this.market.coinList[this.symbol].tagType;t=a}return t},showSymbol:function(){var t=this.symbol;return this.market&&this.market.coinList&&this.market.coinList[this.symbol]&&(t=Object(n["l"])(this.symbol,this.market.coinList)),t},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},authTitleText:function(){var t=this.enforceGoogleAuth?"assets.withdraw.enforceGoogleAuth":"assets.withdraw.safetyWarningError";return this.$t(t)},switchadd:function(){var t=this.$store.state.baseData.publicInfo,e=0;return t&&t.switch.open_txid_addr&&(e=Number(t.switch.open_txid_addr)),e},alertData:function(){var t=[{text:this.$t("assets.withdraw.bindGoogle"),flag:this.OpenGoogle}];return this.enforceGoogleAuth||t.push({text:this.$t("assets.withdraw.bindPhone"),flag:this.OpenMobile}),t},paginationObjCurrentPage:function(){return this.paginationObj.currentPage},showPrecision:function(){var t=0,e=this.$store.state.baseData.market;return e&&e.coinList&&e.coinList[this.symbol]&&(t=e.coinList[this.symbol].showPrecision),t},branchShowPrecision:function(){var t=0,e=this.$store.state.baseData.market;return e&&e.followCoinList&&e.followCoinList[this.symbol]&&e.followCoinList[this.symbol][this.activeBranch]&&(t=e.followCoinList[this.symbol][this.activeBranch].showPrecision),t},exchangeData:function(){return this.$store.state.assets.exchangeData},market:function(){return this.$store.state.baseData.market},btnDisabled:function(){var t=!0;return this.addressValue.length&&this.numberOptions.flag&&this.proceduresFlag&&(t=!1),t},columns:function(){var t=[];return 1===this.nowTypeTable?t=[{title:this.$t("assets.withdraw.withdrawTime"),width:"15%"},{title:this.$t("assets.withdraw.withdrawVolume"),width:"10%"},{title:this.$t("assets.withdraw.withdrawFee"),width:"10%"},{title:this.$t("assets.flowingWater.withdrawRemarks"),width:"15%"},{title:this.$t("assets.withdraw.withdrawStatus"),width:"10%"},{title:this.$t("assets.withdraw.withdrawOptions"),width:"15%"}]:2===this.nowTypeTable&&(t=[{title:this.$t("assets.withdraw.transferTime"),width:"15%"},{title:this.$t("assets.withdraw.sideAccount"),width:"10%"},{title:this.$t("assets.withdraw.transferNumber"),width:"10%"},{title:this.$t("assets.withdraw.withdrawFee"),width:"15%"},{title:this.$t("assets.withdraw.withdrawStatus"),width:"10%"}]),t},subColumns:function(){return[this.$t("assets.flowingWater.withdrawAddress"),this.$t("assets.flowingWater.updataAt"),this.$t("assets.flowingWater.txid")]},userInfoIsReady:function(){return this.$store.state.baseData.userInfoIsReady},OpenMobile:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.isOpenMobileCheck.toString()&&(t=!0),t},idAuth:function(){var t=this.$store.state.baseData.userInfo,e=0;return t&&(e=Number(t.authLevel)),e},OpenGoogle:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.googleStatus.toString()&&(t=!0),t},phoneValueFlag:function(){return this.$store.state.regExp.verification.test(this.phoneValue)},googleValueFlag:function(){return this.$store.state.regExp.verification.test(this.googleValue)},phoneError:function(){return 0!==this.phoneValue.length&&!this.phoneValueFlag},googleError:function(){return 0!==this.googleValue.length&&!this.googleValueFlag},dialogConfirmDisabled:function(){var t=!0,e=!0;return this.OpenMobile&&(t=this.phoneValueFlag),this.OpenGoogle&&(e=this.googleValueFlag),!(t&&e||this.dialogConfirmLoading)},that:function(){return this},numberOptions:function(){var t={text:"",flag:null,error:null},e=parseFloat(this.detailsList[1].value)||0,a=parseFloat(this.withdrawMin)||0,s=parseFloat(this.withdrawMax)||0,i=parseFloat(this.daywithdrawMax)||0,r=Object(n["f"])(this.numberValue-this.proceduresValue,this.showPrecision);return 0===this.numberValue.length||0===parseFloat(this.numberValue)?(t.text=this.$t("assets.withdraw.NumberOfCoinsError"),t.flag=!1,t.error=!1,t):parseFloat(this.numberValue)<=parseFloat(this.proceduresValue)?(t.text=this.$t("assets.withdraw.NumberOfCoinsError2"),t.flag=!1,t.error=!0,t):parseFloat(this.numberValue)>e?(t.text=this.$t("assets.withdraw.NumberOfCoinsError3"),t.flag=!1,t.error=!0,t):parseFloat(a)>r||parseFloat(s)<r?(t.text=this.$t("assets.withdraw.NumberOfCoinsError4"),t.flag=!1,t.error=!0,t):1===this.switchadd&&parseFloat(i)<r?(t.text=this.$t("assets.withdraw.NumberOfCoinsError5"),t.flag=!1,t.error=!0,t):(t.flag=!0,t.error=!1,t)},proceduresFlag:function(){var t=null;return"--"!==this.feeMin&&"--"!==this.feeMax&&(t=!(parseFloat(this.feeMin)>parseFloat(this.proceduresValue))&&(!(parseFloat(this.feeMax)<parseFloat(this.proceduresValue))&&!(this.proceduresValue.length<=0))),t},proceduresError:function(){return!(!this.proceduresValue.length||this.proceduresFlag)},baseData:function(){return this.$store.state.baseData.publicInfo},withdrawKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.withdraw_kyc_open),Number(t)},navTab:function(){var t=[{name:this.$t("assets.withdraw.withdraw"),index:1}];return this.exchangeData&&this.symbol&&this.exchangeData.allCoinMap[this.symbol].innerTransferOpen&&this.$store.state.baseData.is_inner_transfer_open&&t.push({name:this.$t("assets.withdraw.innerTranfer"),index:2}),t},navTabTable:function(){var t=[{name:this.$t("assets.withdraw.RecentWithdrawalRecords"),index:1}];return this.exchangeData&&this.symbol&&this.exchangeData.allCoinMap[this.symbol].innerTransferOpen&&this.$store.state.baseData.is_inner_transfer_open&&t.push({name:this.$t("assets.withdraw.innerList"),index:2}),t}},methods:{defInit:function(){this.exchangeData?this.initDetails():this.$store.dispatch("assetsExchangeData")},currentType:function(t){this.nowType=t.index,1===this.nowType?(this.nowTypeTable=1,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.canAlert(),this.addressInit()):2===this.nowType&&(this.nowTypeTable=2,this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.getTableList())},currentTypeTable:function(t){this.nowTypeTable=t.index,(1===this.nowTypeTable||2===this.nowTypeTable)&&(this.paginationObj.currentPage=1,this.paginationObj.total=0,this.tabelList=[],this.getTableList())},setActiveBranch:function(t){this.addressValue="",this.pagesValue="",this.numberValue="",this.defaultFee="",this.defaultFeeFlag=!0,this.proceduresValue="",this.feeMin="--",this.feeMax="--",this.activeBranch=t,this.addressList=[],this.detailsAddressList={},this.getAddress()},init:function(){var t=this;this.$route.query.symbol?this.symbol=this.$route.query.symbol.toUpperCase():this.$router.push("/assets/exchangeAccount"),this.userInfoIsReady&&this.canAlert(),this.$bus.$on("innerList",(function(){t.nowTypeTable=2,t.paginationObj.currentPage=1,t.paginationObj.total=0,t.tabelList=[],t.getTableList()}))},canAlert:function(){var t=this;this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile?this.alertFlag=!1:setTimeout((function(){t.alertFlag=!0}),100)},alertClone:function(){this.alertFlag=!1,this.notIdShowDialog=!1},alertGo:function(){this.$router.push("/personal/userManagement")},goAddress:function(){this.$router.push("/assets/addressMent")},inputChange:function(t,e){this[e]=t},addressInit:function(){this.getTableList(),this.getAddress()},initDetails:function(){var t=this.exchangeData.allCoinMap[this.symbol],e=Number(t.normal_balance)||Number(t.overcharge_balance);this.detailsList=[{key:"sum",value:Object(n["f"])(t.total_balance,this.showPrecision)},{key:"normal",value:Object(n["f"])(e,this.showPrecision)},{key:"lock",value:Object(n["f"])(t.lock_balance,this.showPrecision)}]},addressChange:function(t){if(this.addressValue=t.code,this.isHavePage){var e=this.detailsAddressList[t.code].address.split("_"),a=Object(r["a"])(e,2),s=a[1];this.pagesValue=s}},allWithDraw:function(){"--"!==this.detailsList[1].value&&(this.numberValue=this.detailsList[1].value)},pagechange:function(t){this.paginationObj.currentPage=t},getBranchAddress:function(){var t=this;this.axios({url:"cost/Getcost",params:{symbol:this.haveBranch?this.activeBranch:this.symbol}}).then((function(e){if("0"===e.code.toString()){var a=[],s={},i=e.data.userWithdrawAddrList;i.forEach((function(e){var i=e.address;if(t.isHavePage){var n=e.address.split("_"),o=Object(r["a"])(n,1);i=o[0]}a.push({code:"".concat(e.id),value:i,label:e.label}),s[e.id]=e}));var o=t.haveBranch?t.branchShowPrecision:t.showPrecision;t.feeMin=Object(n["f"])(e.data.feeMin,o),t.feeMax=Object(n["f"])(e.data.feeMax,o),t.withdrawMin=Object(n["f"])(e.data.withdraw_min,o),t.withdrawMax=Object(n["f"])(e.data.withdraw_max,o),t.defaultFeeFlag&&(t.defaultFeeFlag=!1,t.defaultFee="".concat(e.data.defaultFee),t.proceduresValue="".concat(e.data.defaultFee)),t.branchTip=e.data.mainChainNameTip,t.tabelLoading=!1,t.addressList=a,t.detailsAddressList=s}}))},getAddress:function(){var t=this,e=!0;e?this.getBranchAddress():this.axios({url:"addr/address_list",params:{coinSymbol:this.haveBranch?this.activeBranch:this.symbol}}).then((function(e){if("0"===e.code.toString()){var a=[],s={},i=e.data.addressList;i.forEach((function(e){var i=e.address;if(t.isHavePage){var n=e.address.split("_"),o=Object(r["a"])(n,1);i=o[0]}a.push({code:"".concat(e.id),value:i,label:e.label}),s[e.id]=e})),t.tabelLoading=!1,t.addressList=a,t.detailsAddressList=s}}))},getCodeClick:function(){this.sendSmsCode()},sendSmsCode:function(){var t=this;this.axios({url:"v4/common/smsValidCode",params:{operationType:"10"}}).then((function(e){"0"!==e.code.toString()?setTimeout((function(){t.$bus.$emit("getCode-clear","withdrawGetcode"),t.$bus.$emit("tip",{text:e.msg,type:"error"})}),2e3):t.$bus.$emit("tip",{text:t.$t("assets.withdraw.phoneSendSuccess"),type:"success"})}))},withdrawClick:function(){if(this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile)return this.withdrawKycOpen&&1!==this.idAuth?void(this.notIdShowDialog=!0):void(this.dialogFlag=!0);this.alertFlag=!0},dialogClose:function(){this.phoneValue="",this.googleValue="",this.dialogFlag=!1},dialogConfirm:function(){var t=this;this.dialogConfirmLoading=!0;var e=this.haveBranch?this.branchShowPrecision:this.showPrecision,a=Object(n["f"])(this.numberValue-this.proceduresValue,e);this.axios({url:"finance/do_withdraw",params:{addressId:this.addressValue,fee:this.proceduresValue,amount:a,googleCode:this.googleValue,smsAuthCode:this.phoneValue,symbol:this.haveBranch?this.activeBranch:this.symbol}}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.getTableList(),t.$store.dispatch("assetsExchangeData"),t.$bus.$emit("tip",{text:e.msg,type:"success"}),t.addressValue="",t.pagesValue="",t.numberValue="",t.proceduresValue=t.defaultFee,t.phoneValue="",t.googleValue="",t.dialogFlag=!1):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},tableClick:function(t,e){var a=this;if("revoke"===t){var s={};this.tabelList.forEach((function(t){t.id===e&&(s=t)})),-1===this.revokeList.indexOf(s.id)&&(this.revokeList.push(s.id),this.axios({url:"/finance/cancel_withdraw",headers:{},params:{withdrawId:s.id},method:"post"}).then((function(t){var e=a.revokeList.indexOf(s.id);a.revokeList.splice(e,1),"0"===t.code.toString()?(a.getTableList(),a.$store.dispatch("assetsExchangeData"),a.$bus.$emit("tip",{text:t.msg,type:"success"})):a.$bus.$emit("tip",{text:t.msg,type:"error"})})))}"subView"===t&&(this.subTableDataId=e.id,this.subTableData=[],this.financeListData.forEach((function(t){if(t.id===a.subTableDataId){var e=t.addressTo;if(a.isHavePage){var s=e.split("_"),i=Object(r["a"])(s,1),o=i[0];e=o}a.subTableData.push([e,t.walletTime?Object(n["k"])(t.walletTime):"---",t.txid||"---"])}})))},getTableList:function(){var t=this;this.axios({url:"record/new_withdraw_list",params:{pageSize:this.paginationObj.display,page:this.paginationObj.currentPage,coinSymbol:this.symbol,type:this.nowTypeTable}}).then((function(e){if("0"===e.code.toString()){var a=[];t.financeListData=e.data.financeList,e.data.financeList.forEach((function(e){1===t.nowTypeTable?a.push({id:e.id,data:[e.createdAt,Object(n["f"])(e.amount,t.showPrecision),Object(n["f"])(e.fee,t.showPrecision),e.label,e.status_text,t.handleButton(e)]}):2===t.nowTypeTable&&a.push({id:e.id,data:[e.createdAt,e.addressTo,Object(n["f"])(e.amount,t.showPrecision),Object(n["f"])(e.fee,t.showPrecision),e.status_text]})})),t.tabelList=a,t.paginationObj.total=e.data.count>30?30:e.data.count}}))},handleButton:function(t){var e=[];return 0===t.status&&e.push({type:"button",text:this.$t("assets.flowingWater.Cancel"),iconClass:[""],eventType:"revoke"}),e.push({type:"subTable",text:this.$t("trade.view"),eventType:"subView"}),e},gotoAuth:function(){this.$router.push("/personal/userManagement")}}},h=(a("7c90"),a("075b")),l=a("75a6"),c=a("ddf1"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"page-withdraw"},[a("div",{staticClass:"withdraw-details clearfix a-7-bd"},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"details-left"},[a("div",{staticClass:"symbol b-1-cl"},[t._v(t._s(t.showSymbol))]),a("div",{staticClass:"numberList clearfix"},[a("ul",{staticClass:"numberList-key"},[a("li",[t._v(t._s(t.$t("assets.withdraw.lumpSum")))]),a("li",[t._v(t._s(t.$t("assets.withdraw.Available")))]),a("li",[t._v(t._s(t.$t("assets.withdraw.freeze")))])]),a("ul",{staticClass:"numberList-value b-1-cl"},t._l(t.detailsList,(function(e,s){return a("li",{key:s},[t._v("\n            "+t._s(e.value)+"\n          ")])})),0)]),a("div",{staticClass:"details-warking b-7-cl"},[a("svg",{staticClass:"icon icon-16",staticStyle:{marginRight:"10px"},attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-c_2"}})]),1===t.idAuth?[t._v("\n        "+t._s(t.$t("assets.withdraw.MinimumCoinLimit"))+" "+t._s(t.withdrawMin)+"，\n        ")]:t._e(),t._v("\n        "+t._s(t.$t("assets.withdraw.MaximumCoinLimit"))+" "+t._s(t.withdrawMax)+"\n        "),a("br"),1===t.switchadd?a("div",{staticClass:"dayMax"},[t._v("\n           "+t._s(t.$t("assets.withdraw.dayMaximumCoinLimit"))+" "+t._s(t.daywithdrawMax)+"\n        ")]):t._e()],2)]),a("div",{staticClass:"details-right"},[a("c-inputLine",{attrs:{name:"accountValue",errorHave:!0,promptText:t.$t("assets.withdraw.account"),value:t.accountValue,"max-length":"30",errorFlag:t.accountFlag,errorText:""},on:{onchanges:t.inputChange}}),a("c-inputLine",{attrs:{name:"numberValue",errorHave:!0,promptText:t.$t("assets.withdraw.NumberOfCoins"),value:t.numberValue,errorFlag:t.numberOptions.error,errorText:t.numberOptions.text},on:{onchanges:t.inputChange}},[a("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allWithDraw}},[t._v("\n          "+t._s(t.$t("assets.withdraw.allWithdraw"))+"\n        ")])],1),a("c-inputLine",{attrs:{name:"proceduresValue",errorHave:!0,promptText:t.$t("assets.withdraw.fee"),value:t.proceduresValue,disabled:!0,errorText:t.$t("assets.withdraw.feeError")},on:{onchanges:t.inputChange}},[a("div",{staticClass:"ServiceSpk"},[t._v("\n          "+t._s(t.showSymbol)+"\n        ")])]),a("c-button",{attrs:{width:"120px",marginTop:"32px",height:"40px",disabled:t.btnDisabled},on:{click:t.withdrawClick}},[t._v(t._s(t.$t("assets.withdraw.transfer")))])],1)]),t.symbol_withdraw_msg?a("div",{staticClass:"withdrawMsg b-2-cl"},[a("p",[t._v(t._s(t.$t("application.applyRegion.focus")))]),a("p",[t._v(t._s(t.symbol_withdraw_msg))])]):t._e()]),a("c-verifyCationc-alert",{attrs:{showFlag:t.alertFlag,imgMap:t.imgMap,titleText:t.$t("assets.withdraw.safetyWarning"),detaText:t.authTitleText,dataList:t.alertData,buttonText:t.$t("assets.withdraw.GotoOpen")},on:{close:t.alertClone,confirm:t.alertGo}}),a("c-dialog",{attrs:{showFlag:t.dialogFlag,paddingBottom:"14px",confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.$t("assets.withdraw.safetyVerification")},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[t.OpenMobile?a("c-inputLine",{attrs:{maxLength:"6",name:"phoneValue",value:t.phoneValue,promptText:t.$t("assets.withdraw.phoneCode"),errorHave:!0,errorFlag:t.phoneError,errorText:t.$t("assets.withdraw.phoneCodeError")},on:{onchanges:t.inputChange}},[a("c-getCode",{attrs:{name:"withdrawGetcode"},on:{click:t.getCodeClick}})],1):t._e(),t.OpenGoogle?a("c-inputLine",{attrs:{maxLength:"6",name:"googleValue",value:t.googleValue,promptText:t.$t("assets.withdraw.googleCode"),errorHave:!0,errorFlag:t.googleError,errorText:t.$t("assets.withdraw.googleCodeError")},on:{onchanges:t.inputChange}}):t._e()],1),a("c-alert",{attrs:{showFlag:t.notIdShowDialog,buttonText:t.$t("otcRelease.DeCertification"),imgMap:t.imgMap},on:{close:t.alertClone,confirm:t.gotoAuth}},[a("div",{staticClass:"ts-content-text"},[t._v("\n      "+t._s(t.$t("personal.exccAuthForm.text19"))+"\n    ")])])],1)},d=[],g={name:"page-withdraw",data:function(){return{imgMap:n["u"],colorMap:n["c"],alertFlag:!1,detailsList:[{key:"sum",value:"--"},{key:"normal",value:"--"},{key:"lock",value:"--"}],withdrawMin:"--",withdrawMax:"--",daywithdrawMax:"--",symbol:"",numberValue:"",proceduresValue:"",dialogFlag:!1,dialogConfirmLoading:!1,googleValue:"",phoneValue:"",defaultFeeFlag:!0,defaultFee:null,symbol_withdraw_msg:null,notIdShowDialog:!1,nowType:1,accountValue:"",accountFlag:!1}},filters:{fixDFn:function(t,e){return Object(n["f"])(t,e.showPrecision)}},watch:{userInfoIsReady:function(){this.canAlert()},exchangeData:function(t){t&&this.initDetails()},symbol:function(t){t&&this.market&&this.defInit()},market:{immediate:!0,handler:function(t){t&&this.symbol&&this.defInit()}},proceduresValue:function(t){this.proceduresValue=Object(n["h"])(t,this.showPrecision)},numberValue:function(t){this.numberValue=Object(n["h"])(t,this.showPrecision)}},computed:{exchangeData:function(){return this.$store.state.assets.exchangeData},showSymbol:function(){var t=this.symbol;return this.market&&this.market.coinList&&this.market.coinList[this.symbol]&&(t=Object(n["l"])(this.symbol,this.market.coinList)),t},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},authTitleText:function(){var t=this.enforceGoogleAuth?"assets.withdraw.enforceGoogleAuth":"assets.withdraw.safetyWarningError";return this.$t(t)},switchadd:function(){var t=this.$store.state.baseData.publicInfo,e=0;return t&&t.switch.open_txid_addr&&(e=Number(t.switch.open_txid_addr)),e},alertData:function(){var t=[{text:this.$t("assets.withdraw.bindGoogle"),flag:this.OpenGoogle}];return this.enforceGoogleAuth||t.push({text:this.$t("assets.withdraw.bindPhone"),flag:this.OpenMobile}),t},showPrecision:function(){var t=0,e=this.$store.state.baseData.market;return e&&e.coinList&&e.coinList[this.symbol]&&(t=e.coinList[this.symbol].showPrecision),t},market:function(){return this.$store.state.baseData.market},btnDisabled:function(){var t=!0;return this.accountValue.length&&this.numberOptions.flag&&(t=!1),t},userInfoIsReady:function(){return this.$store.state.baseData.userInfoIsReady},OpenMobile:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.isOpenMobileCheck.toString()&&(t=!0),t},idAuth:function(){var t=this.$store.state.baseData.userInfo,e=0;return t&&(e=Number(t.authLevel)),e},OpenGoogle:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.googleStatus.toString()&&(t=!0),t},phoneValueFlag:function(){return this.$store.state.regExp.verification.test(this.phoneValue)},googleValueFlag:function(){return this.$store.state.regExp.verification.test(this.googleValue)},phoneError:function(){return 0!==this.phoneValue.length&&!this.phoneValueFlag},googleError:function(){return 0!==this.googleValue.length&&!this.googleValueFlag},dialogConfirmDisabled:function(){var t=!0,e=!0;return this.OpenMobile&&(t=this.phoneValueFlag),this.OpenGoogle&&(e=this.googleValueFlag),!(t&&e||this.dialogConfirmLoading)},that:function(){return this},numberOptions:function(){var t={text:"",flag:null,error:null},e=parseFloat(this.detailsList[1].value)||0,a=parseFloat(this.withdrawMin)||0,s=parseFloat(this.withdrawMax)||0,i=parseFloat(this.daywithdrawMax)||0,r=Object(n["f"])(this.numberValue-this.proceduresValue,this.showPrecision);return 0===this.numberValue.length||0===parseFloat(this.numberValue)?(t.text=this.$t("assets.withdraw.NumberOfCoinsError"),t.flag=!1,t.error=!1,t):parseFloat(this.numberValue)<=parseFloat(this.proceduresValue)?(t.text=this.$t("assets.withdraw.NumberOfCoinsError2"),t.flag=!1,t.error=!0,t):parseFloat(this.numberValue)>e?(t.text=this.$t("assets.withdraw.NumberOfCoinsError3"),t.flag=!1,t.error=!0,t):parseFloat(a)>r||parseFloat(s)<r?(t.text=this.$t("assets.withdraw.NumberOfCoinsError4"),t.flag=!1,t.error=!0,t):1===this.switchadd&&parseFloat(i)<r?(t.text=this.$t("assets.withdraw.NumberOfCoinsError5"),t.flag=!1,t.error=!0,t):(t.flag=!0,t.error=!1,t)},baseData:function(){return this.$store.state.baseData.publicInfo},withdrawKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.withdraw_kyc_open),Number(t)}},methods:{defInit:function(){this.exchangeData?this.initDetails():this.$store.dispatch("assetsExchangeData")},init:function(){this.$route.query.symbol?this.symbol=this.$route.query.symbol.toUpperCase():this.$router.push("/assets/exchangeAccount"),this.userInfoIsReady&&this.canAlert()},canAlert:function(){var t=this;this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile?this.alertFlag=!1:setTimeout((function(){t.alertFlag=!0}),100)},alertClone:function(){this.alertFlag=!1,this.notIdShowDialog=!1},alertGo:function(){this.$router.push("/personal/userManagement")},goAddress:function(){this.$router.push("/assets/addressMent")},inputChange:function(t,e){this[e]=t},innerInit:function(){},initDetails:function(){var t=this.exchangeData.allCoinMap[this.symbol],e=Number(t.normal_balance)||Number(t.overcharge_balance);this.detailsList=[{key:"sum",value:Object(n["f"])(t.total_balance,this.showPrecision)},{key:"normal",value:Object(n["f"])(e,this.showPrecision)},{key:"lock",value:Object(n["f"])(t.lock_balance,this.showPrecision)}],this.symbol_withdraw_msg=t.symbol_withdraw_msg||null,this.withdrawMin=Object(n["f"])(t.withdraw_min,this.showPrecision),this.withdrawMax=Object(n["f"])(t.withdraw_max,this.showPrecision),this.daywithdrawMax=Object(n["f"])(t.withdraw_max_day,this.showPrecision),this.defaultFee="".concat(t.innerTransferFee),this.proceduresValue="".concat(t.innerTransferFee)},allWithDraw:function(){"--"!==this.detailsList[1].value&&(this.numberValue=this.detailsList[1].value)},getCodeClick:function(){this.sendSmsCode()},sendSmsCode:function(){var t=this;this.axios({url:"v4/common/smsValidCode",params:{operationType:"34"}}).then((function(e){"0"!==e.code.toString()?setTimeout((function(){t.$bus.$emit("getCode-clear","withdrawGetcode"),t.$bus.$emit("tip",{text:e.msg,type:"error"})}),2e3):t.$bus.$emit("tip",{text:t.$t("assets.withdraw.phoneSendSuccess"),type:"success"})}))},withdrawClick:function(){if(this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile)return this.withdrawKycOpen&&1!==this.idAuth?void(this.notIdShowDialog=!0):void this.isExistAccount();this.alertFlag=!0},isExistAccount:function(){var t=this;this.axios({url:"inner_transfer/user_auth",params:{transferUid:this.accountValue}}).then((function(e){"0"===e.code.toString()?t.dialogFlag=!0:t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},dialogClose:function(){this.phoneValue="",this.googleValue="",this.dialogFlag=!1},dialogConfirm:function(){var t=this;this.dialogConfirmLoading=!0;var e=this.showPrecision,a=Object(n["f"])(this.numberValue-this.proceduresValue,e);this.axios({url:"inner_transfer/do_withdraw",params:{transferUid:this.accountValue,fee:this.proceduresValue,amount:a,googleCode:this.googleValue,smsAuthCode:this.phoneValue,symbol:this.symbol}}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.$bus.$emit("innerList"),t.$store.dispatch("assetsExchangeData"),t.$bus.$emit("tip",{text:e.msg,type:"success"}),t.proceduresValue="",t.numberValue="",t.phoneValue="",t.googleValue="",t.accountValue="",t.dialogFlag=!1):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},gotoAuth:function(){this.$router.push("/personal/userManagement")}}},b=(a("dcbcd"),{mixins:[g],components:{},mounted:function(){this.init(),this.market&&this.innerInit()},methods:{initDetails:function(){var t=this.exchangeData.allCoinMap[this.symbol],e=Number(t.normal_balance)||Number(t.overcharge_balance);this.detailsList=[{key:"sum",value:Object(l["f"])(t.total_balance,this.showPrecision)},{key:"normal",value:Object(l["f"])(e,this.showPrecision)},{key:"lock",value:Object(l["f"])(t.lock_balance,this.showPrecision)}],this.symbol_withdraw_msg=t.symbol_withdraw_msg||null,this.withdrawMin=Object(l["f"])(t.withdraw_min,this.showPrecision),this.withdrawMax=Object(l["f"])(t.withdraw_max,this.showPrecision),this.daywithdrawMax=Object(l["f"])(t.withdraw_max_day,this.showPrecision),this.defaultFee="".concat(t.innerTransferFee),this.proceduresValue="".concat(t.innerTransferFee)}}}),w=b,f=a("2877"),p=Object(f["a"])(w,u,d,!1,null,null,null),m=p.exports,v={mixins:[o,h["a"]],components:{mainChain:c["a"],innerTransfer:m},mounted:function(){this.init()},methods:{initDetails:function(){var t=this.exchangeData.allCoinMap[this.symbol],e=Number(t.normal_balance)||Number(t.overcharge_balance);this.detailsList=[{key:"sum",value:Object(l["f"])(t.total_balance,this.showPrecision)},{key:"normal",value:Object(l["f"])(e,this.showPrecision)},{key:"lock",value:Object(l["f"])(t.lock_balance,this.showPrecision)}],this.symbol_withdraw_msg=t.symbol_withdraw_msg||null,this.withdrawMin=Object(l["f"])(t.withdraw_min,this.showPrecision),this.withdrawMax=Object(l["f"])(t.withdraw_max,this.showPrecision),this.daywithdrawMax=Object(l["f"])(t.withdraw_max_day,this.showPrecision),this.haveBranch||(this.feeMin=Object(l["f"])(t.feeMin,this.showPrecision),this.feeMax=Object(l["f"])(t.feeMax,this.showPrecision),this.defaultFeeFlag&&(this.defaultFeeFlag=!1,this.defaultFee="".concat(t.defaultFee),this.proceduresValue="".concat(t.defaultFee)))},getBranchAddress:function(){var t=this;this.axios({url:"cost/Getcost",params:{symbol:this.activeBranch}}).then((function(e){if("0"===e.code.toString()){var a=[],s={},i=e.data.userWithdrawAddrList;i.forEach((function(e){var i=e.address;if(t.isHavePage){var n=e.address.split("_"),o=Object(r["a"])(n,1);i=o[0]}a.push({code:"".concat(e.id),value:i,label:e.label}),s[e.id]=e})),t.feeMin=Object(l["f"])(e.data.feeMin,t.branchShowPrecision),t.feeMax=Object(l["f"])(e.data.feeMax,t.branchShowPrecision),t.defaultFeeFlag&&(t.defaultFeeFlag=!1,t.defaultFee="".concat(e.data.defaultFee),t.proceduresValue="".concat(e.data.defaultFee)),t.branchTip=e.data.mainChainNameTip,t.tabelLoading=!1,t.addressList=a,t.detailsAddressList=s}}))},getAddress:function(){var t=this;this.haveBranch?this.getBranchAddress():this.axios({url:"addr/address_list",params:{coinSymbol:this.haveBranch?this.activeBranch:this.symbol}}).then((function(e){if("0"===e.code.toString()){var a=[],s={},i=e.data.addressList;i.forEach((function(e){var i=e.address;if(t.isHavePage){var n=e.address.split("_"),o=Object(r["a"])(n,1);i=o[0]}a.push({code:"".concat(e.id),value:i,label:e.label}),s[e.id]=e})),t.tabelLoading=!1,t.addressList=a,t.detailsAddressList=s}}))}}},x=v,y=Object(f["a"])(x,s,i,!1,null,null,null);e["default"]=y.exports},b07c:function(t,e,a){},dcbcd:function(t,e,a){},ddf1:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"mainChain"},[a("div",{staticClass:"mainChain-title"},[t._v("\n    "+t._s(t.$t("assets.branchName"))+"\n    "),a("div",{staticClass:"mainChain-page-icon"},[a("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-a_15"}})]),a("ul",{staticClass:"mainChain-page-market a-4-bg"},[a("li",[t._v("\n          "+t._s(t.branchTip)+"\n        ")])])])]),a("ul",{staticClass:"branchList clearfix"},t._l(t.branchArr,(function(e,s){return a("li",{key:s,class:e.code===t.activeBranch?"b-1-cl a-4-bg":"",on:{click:function(a){return t.setActiveBranch(e.code)}}},[t._v("\n      "+t._s(e.value)+"\n    ")])})),0)])},i=[],r={props:{branchArr:{type:Array,default:function(){return[]}},activeBranch:{type:String,default:""},branchTip:{type:String,default:""}},methods:{setActiveBranch:function(t){t!==this.activeBranch&&this.$emit("setActiveBranch",t)}}},n=(a("b07c"),{mixins:[r],name:"mainChain"}),o=n,h=a("2877"),l=Object(h["a"])(o,s,i,!1,null,null,null);e["a"]=l.exports}}]);