(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-179eaaa0"],{"0515":function(t,c,e){t.exports=e.p+"img/exccAuthType1.608c46fc.png"},4085:function(t,c,e){"use strict";e.r(c);var s=function(){var t=this,c=t.$createElement,e=t._self._c||c;return e("div",[e("c-dialog",{attrs:{showFlag:t.kycExccFlag,paddingBottom:"14px",titleText:t.$t("personal.exccAuth.text2"),confirmLoading:t.kycLoading},on:{close:t.kycExccClose,confirm:t.kycExccConfirm}},[e("div",{staticClass:"select-box"},[e("div",{staticClass:"select-block a-4-bg",on:{click:function(c){return t.clickSlectType("1")}}},[e("c-redio",{attrs:{value:"1"===t.exccAuthType}}),e("div",{staticClass:"img"},[e("img",{staticClass:"imgExccAuthType1",attrs:{src:t.imgExccAuthType1,alt:""}})]),e("h4",{staticClass:"b-1-cl"},[t._v(t._s(t.$t("personal.exccAuth.text3")))]),e("div",{staticClass:"text"},[e("p",[t._v(t._s(t.$t("personal.exccAuth.text5")))]),e("p",[t._v(t._s(t.$t("personal.exccAuth.text6")))])])],1),e("div",{staticClass:"select-block select-block2 a-4-bg",on:{click:function(c){return t.clickSlectType("2")}}},[e("c-redio",{attrs:{value:"2"===t.exccAuthType}}),e("div",{staticClass:"img"},[e("img",{staticClass:"imgExccAuthType2",attrs:{src:t.imgExccAuthType2,alt:""}})]),e("h4",{staticClass:"b-1-cl"},[t._v(t._s(t.$t("personal.exccAuth.text4")))]),e("div",{staticClass:"text"},[e("p",[t._v(t._s(t.$t("personal.exccAuth.text7")))]),e("p",[t._v(t._s(t.$t("personal.exccAuth.text8")))])])],1)])])],1)},i=[],o=(e("28a5"),e("95d5")),a=e("0515"),r=e.n(a),n=e("5dd0"),u=e.n(n),l=o["u"].exccAuthType1,h=o["u"].exccAuthType2,p={name:"kycAuthselect",props:{countryVal:{default:"",type:String},countryKeyCodeVal:{default:"",type:String}},data:function(){return{kycLoading:!1,imgExccAuthType1:l||r.a,imgExccAuthType2:h||u.a,kycExccFlag:!1,exccAuthType:"1",state:"KYC_AUTH"}},watch:{exccKycConfig:function(t){if(t&&t.text)if(this.kycLoading=!1,"success"===t.text){var c="idAuth";t.data&&("0"===t.data.openSingPass?("2"===t.data.verfyTemplet&&(c="exccAuthForm"),this.$router.push("/personal/".concat(c,"?country=").concat(this.countryVal,"&countryKeyCode=").concat(this.countryKeyCodeVal))):this.kycExccFlag=!0)}else this.$bus.$emit("tip",{text:t.msg,type:"error"}),this.$store.dispatch("resetType")}},computed:{exccKycConfig:function(){return this.$store.state.personal.exccKycConfig}},methods:{init:function(){var t=this.$route.path.split("/"),c=t[t.length-1];this.query=this.$route.query,this.$route.query.state===this.state&&this.$route.query.code?this.$router.push("/personal/exccAuthorization?code=".concat(this.$route.query.code)):this.$route.query.state===this.state&&this.$route.query.error?(this.$bus.$emit("tip",{text:this.$t("personal.exccAuth.errorText1"),type:"error"}),this.$router.push("/personal/userManagement?kycError=".concat(this.$route.query.error,"&state=").concat(this.state))):this.countryVal||this.countryKeyCodeVal||"kycAuth"!==c||this.$router.push("/personal/userManagement")},kycExccClose:function(){this.kycExccFlag=!1},callAuthoriseApi:function(){var t=this.exccKycConfig?this.exccKycConfig.data:null,c=t.SingPassConfig;if(c&&c.url){var e="".concat(c.url,"?client_id=").concat(c.clientId,"&attributes=").concat(c.attributes,"&purpose=").concat(c.purpose,"&state=").concat(this.state,"&redirect_uri=").concat(c.returnUrl);window.open(e)}else this.$bus.$emit("tip",{text:"接口异常，请联系管理员",type:"error"})},kycExccConfirm:function(){if("1"===this.exccAuthType){var t="idAuth";this.exccKycConfig&&this.exccKycConfig.data&&"2"===this.exccKycConfig.data.verfyTemplet&&(t="exccAuthForm"),this.$router.push("/personal/".concat(t,"?country=").concat(this.countryVal,"&countryKeyCode=").concat(this.countryKeyCodeVal))}else this.callAuthoriseApi()},clickSlectType:function(t){this.exccAuthType=t}}},y=(e("d265"),{mixins:[p],mounted:function(){this.init()}}),x=y,d=e("2877"),g=Object(d["a"])(x,s,i,!1,null,null,null);c["default"]=g.exports},"5dd0":function(t,c,e){t.exports=e.p+"img/exccAuthType2.7d536b4c.png"},d265:function(t,c,e){}}]);