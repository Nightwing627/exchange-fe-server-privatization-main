(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d70c31f0"],{1531:function(t,a,e){},"22ef":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",{staticClass:"page-exchangeAccount"},[e("div",{staticClass:"exchangeAccount-header-bg"},[e("div",{staticClass:"exchangeAccount-header",style:t.exchangeHeader},[e("div",{staticClass:"canvasBox"},[e("canvas",{ref:"canvas",attrs:{width:"100",height:"100"}})]),e("ul",{staticClass:"assetsSum f-8-cl"},[e("li",{staticClass:"text"},[t._v(t._s(t.$t("assets.exchangeAccount.TotalAssets")))]),e("li",{staticClass:"num"},[t._v("\n          "+t._s(t.totalBalance)),e("span",[t._v(t._s(t.showTotalBalanceSymbol))])]),e("li",{staticClass:"conversion"},[t._v("≈ "+t._s(t.totalRate))])]),e("ul",{staticClass:"colorList f-8-cl"},t._l(t.canvasPagesFilter,(function(a,s){return e("li",{key:s},[e("span",{style:"background: "+a.color}),t._v("\n          "+t._s(a.symbol)+"\n        ")])})),0)])]),e("div",{staticClass:"exchangeAccount-body a-7-bd a-5-bg"},[e("div",{staticClass:"exchangeAccount-title a-3-bd"},[e("div",{staticClass:"text b-1-cl medium"},[t._v("\n        "+t._s(t.$t("assets.exchangeAccount.ListOfFunds"))+"\n      ")]),e("div",{staticClass:"hide"},[e("c-switch",{attrs:{value:t.switchFlag},on:{click:t.switchChange}}),e("span",{staticClass:"hodetext"},[t._v(t._s(t.$t("assets.hideMinAssets")))])],1),e("div",{staticClass:"find"},[e("c-inputFind",{attrs:{promptText:t.$t("assets.exchangeAccount.SearchCurrency"),value:t.findValue,className:"findClass"},on:{onchanges:t.findChanges}})],1)]),e("div",{staticClass:"exchangeAccount-center",class:{"hide-smaill-account":t.switchFlag}},[e("c-table",{attrs:{loading:t.tabelLoading,imgMap:t.imgMap,colorMap:t.colorMap,lineNumber:t.tabelLength,columns:t.columns,dataList:t.search?t.searchListResult:t.dataList},on:{elementClick:t.tableClick}})],1)]),e("c-alert",{attrs:{showFlag:t.isShowDialog,buttonText:t.$t("otcRelease.DeCertification"),imgMap:t.imgMap},on:{close:t.dialogClose,confirm:t.gotoAuth}},[e("div",{staticClass:"ts-content-text"},[t._v("\n      "+t._s(t.$t("personal.exccAuthForm.text19"))+"\n    ")])])],1)},i=[],n=(e("1c01"),e("58b2"),e("8e6e"),e("7f7f"),e("28a5"),e("57e7"),e("6c7b"),e("6b54"),e("87b3"),e("456d"),e("759f"),e("bd86")),c=(e("ac6a"),e("f3e2"),e("55dd"),e("d25f"),e("75fc")),o=(e("c5f6"),e("95d5"));function l(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);a&&(s=s.filter((function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable}))),e.push.apply(e,s)}return e}function r(t){for(var a=1;a<arguments.length;a++){var e=null!=arguments[a]?arguments[a]:{};a%2?l(Object(e),!0).forEach((function(a){Object(n["a"])(t,a,e[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):l(Object(e)).forEach((function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(e,a))}))}return t}var h={name:"page-exchangeAccount",data:function(){return{tabelLoading:!0,exchangeHeader:"background: url(".concat(o["u"].zc_ex,")"),tabelLength:20,imgMap:o["u"],colorMap:o["c"],switchFlag:!1,findValue:"",dataList:[],totalBalance:"--",totalRate:"--",totalBalanceSymbol:"",colors:["rgba(255, 255, 255, 1)","rgba(255, 255, 255, 0.8)","rgba(255, 255, 255, 0.6)","rgba(255, 255, 255, 0.4)","rgba(255, 255, 255, 0.25)","rgba(255, 255, 255, 0.1)"],canvasPages:[],havePosition:!1,positionV2:!1,positionV3:!1,searchTimer:null,searchListResult:[],search:!1,isShowDialog:!1}},computed:{baseData:function(){return this.$store.state.baseData.publicInfo},isCoOpen:function(){var t=this.$store.state.baseData.publicInfo;return!(!t||!t.switch||"1"!==t.switch.indep_co_switch)},withdrawKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.withdraw_kyc_open),Number(t)},depositeKycOpen:function(){var t=0;return this.baseData&&this.baseData.kycLimitConfig&&(t=this.baseData.kycLimitConfig.deposite_kyc_open),Number(t)},userInfo:function(){return this.$store.state.baseData.userInfo},idAuth:function(){var t=0;return this.userInfo&&(t=Number(this.userInfo.authLevel)),t},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},tradeLinkUrl:function(){return this.$store.state.baseData&&this.$store.state.baseData.publicInfo?this.isCoOpen?"".concat(this.linkurl.coUrl,"/trade"):"".concat(this.linkurl.exUrl,"/trade"):""},columns:function(){var t=[];return(this.havePosition||this.positionV2||this.positionV3)&&(t=[{title:this.$t("assets.exchangeAccount.position"),width:""}]),[{title:this.$t("assets.exchangeAccount.coin"),width:"100px"},{title:this.$t("assets.exchangeAccount.lumpSum"),width:""},{title:this.$t("assets.exchangeAccount.Available"),width:""},{title:this.$t("assets.exchangeAccount.freeze"),width:""}].concat(Object(c["a"])(t),[{title:"".concat(this.$t("assets.exchangeAccount.AssetFolding"),"(").concat(this.showTotalBalanceSymbol,")"),width:""},{title:this.$t("assets.exchangeAccount.options"),width:"200px"}])},exchangeData:function(){return this.$store.state.assets.exchangeData},market:function(){return this.$store.state.baseData.market},canvasPagesFilter:function(){var t=this,a=[],e=this.canvasPages.filter((function(t){return parseFloat(t.spk)>0}));if(e.sort(this.compare("spk")),e.length<6)e.forEach((function(e,s){var i=t.market.coinList,n=Object(o["l"])(e.symbol,i);a.push(r(r({},e),{},{symbol:n,color:t.colors[s]}))}));else if(e.length>=6){var s=0;e.forEach((function(e,i){if(i<5){var n=t.market.coinList,c=Object(o["l"])(e.symbol,n);a.push(r(r({},e),{},{symbol:c,color:t.colors[i]}))}else s+=e.spk})),a.push({symbol:this.$t("assets.exchangeAccount.other"),spk:s,color:this.colors[5]})}return a},showTotalBalanceSymbol:function(){var t=this.totalBalanceSymbol;return this.market&&this.market.coinList&&this.market.coinList[this.totalBalanceSymbol]&&(t=Object(o["l"])(this.totalBalanceSymbol,this.market.coinList)),t}},watch:{exchangeData:function(t){t&&this.market&&this.setData()},market:function(t){t&&this.exchangeData&&this.setData()},canvasPagesFilter:function(t){0===t.length?this.canvasInit():this.canvasMap()}},methods:{init:function(){o["w"].get("assetsSwitch")&&(this.switchFlag=o["w"].get("assetsSwitch")),this.canvasInit(),this.$store.dispatch("assetsExchangeData"),this.exchangeData&&this.market&&this.setData()},setData:function(){var t=this.exchangeData,a=t.totalBalance,e=t.totalBalanceSymbol,s=t.platformCoin,i=t.allCoinMap;this.positionV3=Object.keys(i).some((function(t){return Number(i[t].lock_increment_amount)>0}));var n=this.market,c=n.coinList,l=n.rate,r=c[e]&&c[e].showPrecision||0;if(this.totalBalance=Object(o["f"])(a,r),this.totalBalanceSymbol=e,this.totalRate=Object(o["i"])(a,l,e),s&&s.length){var h=i[s];h&&Number(h.lock_position_balance)&&(this.havePosition=!0)}this.baseData.switch.lock_position_v2_status&&"1"===this.baseData.switch.lock_position_v2_status.toString()&&(this.positionV2=!0),this.setDataList(i,a)},compare:function(t){return function(a,e){var s=a[t],i=e[t];return i-s}},switchChange:function(){this.switchFlag=!this.switchFlag,o["w"].set("assetsSwitch",this.switchFlag),this.findChanges(this.findValue)},canvasMap:function(){var t=this.$refs.canvas.getContext("2d");this.$refs.canvas.width=100,this.$refs.canvas.height=100;var a=0;this.canvasPagesFilter.forEach((function(e){var s=a+2*e.spk;a>=2||(s>2&&(s=2),t.beginPath(),t.moveTo(50,50),t.fillStyle=e.color,t.arc(50,50,50,Math.PI*a,Math.PI*s),t.closePath(),t.fill(),a=s)})),t.beginPath(),t.moveTo(50,50),t.fillStyle="#294EBB",t.arc(50,50,35,0*Math.PI,2*Math.PI),t.closePath(),t.fill()},canvasInit:function(){var t=this.$refs.canvas.getContext("2d");this.$refs.canvas.width=100,this.$refs.canvas.height=100,t.beginPath(),t.moveTo(50,50),t.fillStyle="#e0e0e0",t.arc(50,50,50,0,2*Math.PI),t.closePath(),t.fill(),t.beginPath(),t.moveTo(50,50),t.fillStyle="#294EBB",t.arc(50,50,35,0*Math.PI,2*Math.PI),t.closePath(),t.fill()},findChanges:function(t){var a=this;this.findValue=t,this.searchTimer&&clearTimeout(this.searchTimer),""!==t?this.searchTimer=setTimeout((function(){var e=a.dataList.filter((function(e){var s=!a.switchFlag||a.switchFlag&&"smail-account"!==e.classes,i=s&&-1!==e.data[0].toUpperCase().indexOf(t.toUpperCase());return i}));a.searchListResult=e,a.search=!0}),400):this.search=!1},tableClick:function(t,a){if("withdraw"===t&&(this.withdrawKycOpen&&1!==this.idAuth?this.isShowDialog=!0:this.$router.push("withdraw?symbol=".concat(a))),"recharge"===t&&(this.depositeKycOpen&&1!==this.idAuth?this.isShowDialog=!0:this.$router.push("recharge?symbol=".concat(a))),"goTrade"===t){var e=a.code;if(-1===e.toString().indexOf("/"))return;o["w"].set("markTitle",e.split("/")[1]),o["w"].set("sSymbolName",e),window.location.href=this.tradeLinkUrl}else"goTradeIn"===t&&(window.location.href=this.tradeLinkUrl)},dialogClose:function(){this.isShowDialog=!1},gotoAuth:function(){this.$router.push("/personal/userManagement")},setDataList:function(t,a){var e=this,s=[],i=[];Object.keys(t).forEach((function(n){if(!t[n].isFiat){i.push({symbol:n,spk:t[n].allBtcValuatin/a});var l=e.market,r=l.coinList,h=l.market,u=r[n]&&r[n].showPrecision||0,b=e.totalBalanceSymbol,f=r[b]&&r[b].showPrecision||0,g=[],p=[];Object.keys(h).forEach((function(t){Object.keys(h[t]).forEach((function(a){var e=h[t][a].showName||h[t][a].name;a.split("/")[0]===n&&g.push({value:e,code:h[t][a].name}),t===n&&p.push({value:e,code:h[t][a].name})}))})),0===g.length&&(g=p);var d=[],m=t[n].lock_position_balance||"0",v=t[n].lock_position_v2_amount||"0",w=t[n].lock_increment_amount||"0";if(e.havePosition||e.positionV2||e.positionV3){var y=Number(m)+Number(v)+Number(w),k=[];Number(m)&&k.push("".concat(e.$t("assets.exchangeAccount.positionBalance"),"：\n                    ").concat(Object(o["f"])(m,u))),Number(v)&&k.push("".concat(e.$t("assets.exchangeAccount.positionV2Amount"),"：\n                  ").concat(Object(o["f"])(v,u))),Number(w)&&k.push("".concat(e.$t("assets.exchangeAccount.incomeLock"),"：").concat(Object(o["f"])(w,u))),d=[y?[{type:"select",iconSvg:'<span class="position">'.concat(Object(o["f"])(y,u),"</span>"),selectOption:k,iconClass:["aaa"],eventType:"",selectWidth:"150"}]:Object(o["f"])(y,u)]}var x=Object(o["l"])(n,r),O=!1;r[n]&&r[n].isOvercharge&&"1"===r[n].isOvercharge.toString()&&(O=!0);var _=Object(o["f"])(t[n].allBtcValuatin,f);s.push({id:n,btcValuation:_,classes:_>=1e-4?"":"smail-account",data:[x,Object(o["f"])(t[n].total_balance,u),O?[{text:Object(o["f"])(t[n].normal_balance,u),subContent:{text:"".concat(Object(o["f"])(t[n].overcharge_balance||0,u)," (").concat(e.$t("assets.exchangeAccount.limit"),")"),classes:"showUnlockSell"}}]:Object(o["f"])(t[n].normal_balance,u),Object(o["f"])(t[n].lock_balance,u)].concat(Object(c["a"])(d),[Object(o["f"])(t[n].allBtcValuatin,f),[t[n].coinName===e.baseData.financing_symbol?{type:t[n].coinName===e.baseData.financing_symbol?"link":"label",text:"去理财",links:"/manageFinances",classes:[t[n].coinName===e.baseData.financing_symbol?"":"tableNownStyle b-2-cl"]}:"",{type:t[n].depositOpen?"button":"label",text:e.$t("assets.exchangeAccount.Recharge"),links:"recharge?symbol=".concat(n),eventType:"recharge",classes:[t[n].depositOpen?"":"tableNownStyle b-2-cl"]},{type:t[n].withdrawOpen?"button":"label",text:e.$t("assets.exchangeAccount.withdraw"),links:"withdraw?symbol=".concat(n),eventType:"withdraw",classes:[t[n].withdrawOpen?"":"tableNownStyle tableTithDraw b-2-cl"]},g.length?{type:"select",iconSvg:'<svg class="icon icon-16" aria-hidden="true"><use xlink:href="#icon-c_1"></use></svg>',selectOption:g,iconClass:[""],eventType:"goTrade"}:{type:"icon",iconSvg:'<span style="display: inline-block; width: 16px; height: 16px"></span>'}]])})}})),this.canvasPages=i,this.tabelLoading=!1,this.tabelLength=s.length,this.dataList=s.sort((function(t,a){return t.id-a.id}))}}},u=(e("1531"),{mixins:[h],mounted:function(){this.init()}}),b=u,f=e("2877"),g=Object(f["a"])(b,s,i,!1,null,null,null);a["default"]=g.exports},"36bd":function(t,a,e){"use strict";var s=e("4bf8"),i=e("77f1"),n=e("9def");t.exports=function(t){var a=s(this),e=n(a.length),c=arguments.length,o=i(c>1?arguments[1]:void 0,e),l=c>2?arguments[2]:void 0,r=void 0===l?e:i(l,e);while(r>o)a[o++]=t;return a}},"6c7b":function(t,a,e){var s=e("5ca1");s(s.P,"Array",{fill:e("36bd")}),e("9c6c")("fill")}}]);