(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-65f3583c"],{"8c41":function(t,a,p){"use strict";p.r(a);var s=function(){var t=this,a=t.$createElement,p=t._self._c||a;return t.moduleShow?p("div",{staticClass:"company-application-page CompanyApplicationDetail"},[p("div",{staticClass:"company-application a-5-bg"},[p("div",{staticClass:"company-application-bar"},[p("div",{staticClass:"application-header a-3-bd"},[p("div",{staticClass:"application-step b-2-cl"},[t._l(t.stepProgress,(function(a,s){return[p("span",{key:"stepProgress"+s,staticClass:"step-icon medium",class:t.actived(a.status),staticStyle:{color:"#EDF4F8"}},[t._v("\n              "+t._s(s+1))]),t._v(t._s(a.text)+"\n            "),t.lineShow(s,t.stepProgress.length)?p("span",{key:"stepProgressLine"+s,staticClass:"setp-line a-3-bd"}):t._e()]}))],2),p("h1",{staticClass:"application-title b-1-cl"},[t._v(t._s(t.headerTitle)+"\n          "),1!==t.applyStatus?p("span",{staticClass:"b-2-cl title-desc"},[t._v(t._s(t.headerDesc))]):t._e()])]),2!==t.companyStatus||1!==t.applyRuleStatus&&3!==t.applyRuleStatus?0===t.applyRuleStatus||1===t.companyStatus?p("div",[0===t.applyStatus||0===t.applyRuleStatus&&1!==t.applyStatus?[p("div",{staticClass:"step a-3-bd"},[p("h2",{staticClass:"b-2-cl step-title"},[t._v("\n              "+t._s(t.$t("application.company.unApply.stepOne.title"))+"\n            ")]),p("p",{staticClass:"step-desc b-1-cl"},[p("span",[t._v(t._s(t.$t("application.company.unApply.stepOne.desc")[0]))]),p("a",{staticClass:"b-4-cl",attrs:{href:t.docAddr,target:"_blank"}},[t._v("\n                "+t._s(t.$t("application.company.unApply.stepOne.desc")[1]))]),p("span",[t._v(t._s(t.$t("application.company.unApply.stepOne.desc")[2]))])]),p("p",{staticClass:"b-1-cl step-desc",domProps:{innerHTML:t._s(t.$t("application.company.unApply.stepOne.desc")[3])}})]),p("div",{staticClass:"step a-3-bd"},[p("h2",{staticClass:"b-2-cl step-title"},[t._v("\n              "+t._s(t.$t("application.company.unApply.stepTwo.title"))+"\n            ")]),p("p",{staticClass:"step-desc b-4-cl"},[p("span",{staticClass:"b-1-cl"},[t._v(t._s(t.$t("application.company.unApply.stepTwo.desc")[0]))]),p("a",{staticClass:"b-4-cl",attrs:{href:"javascript:;"},on:{click:function(a){return t.copyMail(t.otcCompanyApplyEmail)}}},[t._v("\n                "+t._s(t.otcCompanyApplyEmail)+" ")]),p("span",{staticClass:"b-1-cl"},[t._v(t._s(t.$t("application.company.unApply.stepTwo.desc")[1]))])])]),p("div",{staticClass:"step a-3-bd"},[p("h2",{staticClass:"b-2-cl step-title"},[t._v("\n              "+t._s(t.$t("application.company.unApply.stepThree.title"))+"\n            ")]),p("p",{staticClass:"b-1-cl step-desc"},[t._v("\n              "+t._s(t.$t("application.company.unApply.stepThree.desc")[0])+"\n              "+t._s(t.normalCompanyMarginNum)+"\n              "+t._s(t.marginCoinSymbol)+t._s(t.$t("application.company.unApply.stepThree.desc")[1]))])]),p("div",{staticClass:"step a-3-bd"},[p("h2",{staticClass:"b-2-cl step-title"},[t._v("\n              "+t._s(t.$t("application.company.unApply.stepFour.title"))+"\n            ")]),p("p",{staticClass:"b-1-cl step-desc"},[t._v(t._s(t.$t("application.company.unApply.stepFour.desc")[0]))])])]:t._e(),1===t.applyStatus?p("div",{staticClass:"step a-3-bd"},[p("p",{staticClass:"b-1-cl step-desc sort",domProps:{innerHTML:t._s(t.$t("application.company.applying.desc"))}})]):t._e(),3===t.applyStatus&&0!==t.applyRuleStatus||1===t.applyRuleStatus&&2===t.applyStatus?p("div",{staticClass:"step a-3-bd"},[p("p",{staticClass:"b-1-cl step-desc sort",domProps:{innerHTML:t._s(t.$t("application.company.applied.desc"))}})]):t._e()],2):t._e():p("div",[0===t.applyStatus||3===t.applyStatus&&1===t.applyRuleStatus||1===t.applyRuleStatus&&2===t.applyStatus&&2===t.companyStatus?[p("div",{staticClass:"step a-3-bd"},[p("h2",{staticClass:"b-2-cl step-title"},[t._v("\n              "+t._s(t.$t("application.companySuper.unApply.stepOne.title"))+"\n            ")]),p("p",{staticClass:"b-1-cl step-desc"},[t._v("\n              "+t._s(t.$t("application.companySuper.unApply.stepOne.desc")[0])+"\n              "+t._s(t.normalCompanyMarginNum)+"\n              "+t._s(t.marginCoinSymbol)+"\n              "+t._s(t.$t("application.companySuper.unApply.stepOne.desc")[1])+"\n            ")])]),p("div",{staticClass:"step a-3-bd"},[p("h2",{staticClass:"b-2-cl step-title"},[t._v("\n              "+t._s(t.$t("application.companySuper.unApply.stepTwo.title"))+"\n            ")]),p("p",{staticClass:"b-1-cl step-desc"},[t._v("\n              "+t._s(t.$t("application.companySuper.unApply.stepTwo.desc")[0])+"\n            ")])])]:t._e(),1===t.applyStatus?p("div",{staticClass:"step a-3-bd"},[p("p",{staticClass:"b-2-cl step-desc sort"},[t._v("\n            "+t._s(t.$t("application.companySuper.applying.desc")[0])),p("br"),p("br"),t._v("\n            "+t._s(t.$t("application.companySuper.applying.desc")[1])+" "+t._s(t.normalCompanyMarginNum)+"\n            "+t._s(t.marginCoinSymbol)+t._s(t.$t("application.companySuper.applying.desc")[2])),p("br"),p("br"),t._v("\n            "+t._s(t.$t("application.companySuper.applying.desc")[3])+"\n          ")])]):t._e(),3===t.applyStatus&&3===t.applyRuleStatus||2===t.applyStatus&&3===t.applyRuleStatus?p("div",{staticClass:"step a-3-bd"},[p("p",{staticClass:"b-2-cl step-desc sort",domProps:{innerHTML:t._s(t.$t("application.companySuper.applied.desc"))}})]):t._e()],2),p("div",{staticClass:"application-region"},[t.btnShow?p("p",{staticClass:"option-region e-2-c b-2-cl"},[p("c-checkBox",{attrs:{value:t.textFlag},on:{click:t.checkoutClick}}),t._v("\n          "+t._s(t.$t("application.applyRegion.options")[0])+"\n          "),p("span",{staticClass:"b-4-cl"},[t._v("\n            "+t._s(t.normalCompanyMarginNum)+"\n            "+t._s(t.marginCoinSymbol)+"\n          ")]),t._v("\n          "+t._s(t.$t("application.applyRegion.options")[1])+"\n        ")],1):t._e(),p("div",{staticClass:"btn-region b-4-cl"},[t.btnShow?p("c-button",{attrs:{height:"40px",width:"100px",loading:t.submitLoading,disabled:t.submitDisabled,paddingW:"0px"},on:{click:t.submit}},[t._v(t._s(t.$t("application.applyRegion.applyBtn"))+"\n          ")]):t._e(),t.applying?p("c-button",{attrs:{height:"40px",width:"160px",disabled:!0,paddingW:"0px"}},[t._v(t._s(t.$t("application.applyRegion.applingBtn"))+"\n          ")]):t._e(),t.allPass?p("c-button",{attrs:{height:"40px",width:"160px",paddingW:"0px"},on:{click:t.back}},[t._v(t._s(t.fiatTradeOpen?t.$t("assets.b2c.otcShow.goHall"):t.$t("application.applyRegion.appliedBtn"))+"\n          ")]):t._e(),3===t.applyStatus&&1===t.applyRuleStatus&&2===t.companyStatus||2===t.applyStatus&&1===t.applyRuleStatus&&2===t.companyStatus||1===t.applyStatus&&0===t.applyRuleStatus||1===t.applyStatus&&1===t.applyRuleStatus?p("c-button",{attrs:{big:!0,type:"text",className:"back-btn",paddingW:"31px",height:"40px"},on:{click:t.back}},[t._v(t._s(t.fiatTradeOpen?t.$t("assets.b2c.otcShow.goHall"):t.$t("application.applyRegion.appliedBtn"))+"\n          ")]):t._e(),0!==t.applyRuleStatus||2!==t.applyStatus&&0!==t.applyStatus&&3!==t.applyStatus?t._e():p("c-button",{attrs:{big:!0,type:"text",className:"back-btn",paddingW:"31px",height:"40px"},on:{click:t.relieveClick}},[t._v(t._s(this.$t("application.applyRegion.cancelBtn"))+"\n          ")])],1)])])])]):t._e()},n=[],i=(p("6d67"),p("ac6a"),p("f3e2"),p("c5f6"),p("57e7"),p("95d5")),e={name:"CompanyApplication",data:function(){return{textFlag:!0,copyTime:0,submitLoading:!1,superCompany:!1,stepProgress:this.$t("application.stepProgress"),moduleShow:!1}},watch:{},computed:{market:function(){return this.$store.state.baseData.market},fiatTradeOpen:function(){var t=this.$store.state.baseData.publicInfo;return!(!t||!t.switch||"1"!==t.switch.fiat_trade_open)},otcCompanyInfo:function(){return this.userInfo.otcCompanyInfo||{}},userCompanyInfo:function(){return this.userInfo.userCompanyInfo||{}},headerDesc:function(){var t=this.applyStatus,a=this.applyRuleStatus,p="";switch(t){case 0:p=this.$t("application.company.head.desc");break;case 3:p=this.$t("application.company.head.descApplied"),0!==a&&1!==a||(p=this.$t("application.company.head.desc"));break;case 2:1!==a&&0!==a||(p=this.$t("application.company.head.desc"));break;default:p=""}return p},headerTitle:function(){var t=this.applyStatus,a=this.applyRuleStatus,p=this.companyStatus,s=1,n="",i={0:"",1:"Appling",3:"Applied"},e={1:"",2:"Super"},o=i[this.applyStatus];this.applySuper?o="":1===t&&0===a?o="Appling":2===t&&1===a&&1===p||2===t&&3===a?o="Applied":(2===t&&(1===a||0===a)||3===t&&0===a||3===t&&1===a&&2===p)&&(o=""),(1===a&&2===p||3===t&&3===a||2===t&&3===a||3===t&&1===a&&2===p)&&(s=2);var l=e[s];return n=this.$t("application.company".concat(l,".head.title").concat(o)),n.indexOf("undefined")>-1&&(n=""),n},applySuper:function(){var t=this.applyStatus,a=this.applyRuleStatus,p=this.companyType;return(3===t||2===t)&&1===a&&2===p},companyStatus:function(){return Number(this.otcCompanyInfo.status)},applyStatus:function(){return Number(this.userCompanyInfo.applyStatus)},marginCoinSymbol:function(){return this.otcCompanyInfo.marginCoinSymbol},normalCompanyMarginNum:function(){var t=0;return 0===this.applyRuleStatus?t=Number(this.otcCompanyInfo.normalCompanyMarginNum):1===this.applyRuleStatus&&(t=Number(this.otcCompanyInfo.superCompanyMarginNum)),t},otcCompanyApplyEmail:function(){return this.otcCompanyInfo.otcCompanyApplyEmail},applyRuleStatus:function(){return Number(this.userCompanyInfo.status)},allPass:function(){var t=this.applyStatus,a=this.applyRuleStatus,p=this.companyStatus;return 3===a&&(3===t||2===t)||(3===t||2===t)&&1===a&&1===p},applyPass:function(){var t=this.applyStatus,a=this.applyRuleStatus;return 3===a&&3===t||3===t&&1===a},applying:function(){var t=!1,a=this.applyStatus,p=this.applyRuleStatus;return 1!==a||1!==p&&3!==p&&0!==p||(t=!0),t},relieving:function(){var t=!1,a=this.applyStatus,p=this.applyRuleStatus;return 1!==a||2!==p&&4!==p||(t=!0),t},docAddr:function(){return this.otcCompanyInfo.docAddr},submitDisabled:function(){return!this.textFlag},btnShow:function(){var t=this.applyStatus,a=this.applyRuleStatus,p=this.companyStatus;return 0===t||3===t&&1===a&&2===p||2===t&&1===a&&2===p||0===a&&1!==t},userInfo:function(){return this.$store.state.baseData.userInfo||{}}},methods:{getShowCoin:function(t){var a=t;return this.market&&this.market.coinList&&(a=Object(i["l"])(t,this.market.coinList)),a},init:function(){var t=this.applyRuleStatus,a=this.applyStatus;0===this.companyStatus?this.$router.push("/"):2!==t&&4!==t||1!==a?this.moduleShow=!0:this.$router.push("/companyApplication")},relieveClick:function(){var t=window,a=t.history;a.state?a.back():this.$router.push("/companyApplication")},lineShow:function(t,a){return t+1<a},copyMail:function(t){var a=(new Date).getTime();if(a-this.copyTime>1e3){this.$bus.$emit("tip",{text:"复制成功",type:"success"});var p=function(a){a.clipboardData.setData("text/plain",t),a.preventDefault()};document.addEventListener("copy",p,!1),document.execCommand("copy"),document.removeEventListener("copy",p),this.copyTime=a}},actived:function(t){var a=this.applyStatus,p=this.applyRuleStatus,s=this.companyStatus,n=a;return(1===p&&3===a&&2===s||0===p&&1!==a||2===a&&1===p)&&(n=0),2!==a||1!==p&&3!==p||(n=3),n>=t?"a-12-bg":"a-2-bg "},checkoutClick:function(t){this.textFlag=t},back:function(){this.$router.push("/")},applyCompany:function(){var t=this,a=1;0===this.applyRuleStatus&&(a=0),1===this.applyRuleStatus&&(a=1),this.axios({url:this.$store.state.url.common.company_apply,hostType:"otc",method:"post",params:{type:a}}).then((function(a){Number(a.code)?t.$bus.$emit("tip",{text:a.msg,type:"error"}):(t.$bus.$emit("tip",{text:a.msg,type:"success"}),t.$store.dispatch("getUserInfo"),i["w"].remove("companyAppling")),t.submitLoading=!1}))},submit:function(){var t=this;this.submitLoading=!0,this.axios({url:this.$store.state.url.common.otc_account_list,hostType:"ex",method:"post"}).then((function(a){if(!Number(a.code)){var p=a.data.allCoinMap,s=!1;p.forEach((function(a){a.coinSymbol===t.marginCoinSymbol&&(s=!0,Number(a.normal)>=t.normalCompanyMarginNum?t.applyCompany():(t.$bus.$emit("tip",{text:t.fiatTradeOpen?t.$t("assets.b2c.otcShow.unEnough"):t.$t("application.unEnough"),type:"error"}),t.submitLoading=!1))})),s||Object(i["v"])({host:window.location.host,type:"marginCoinSymbol",path:window.location.href,ds:"marginCoinSymbol error",data:{marginCoinSymbol:t.marginCoinSymbol,allCoinMap:p.map((function(t){return t.coinSymbol}))},t:(new Date).getTime()})}}))}}},o=(p("d6f0"),{mixins:[e],mounted:function(){this.init()}}),l=o,c=p("2877"),u=Object(c["a"])(l,s,n,!1,null,null,null);a["default"]=u.exports},d6f0:function(t,a,p){}}]);