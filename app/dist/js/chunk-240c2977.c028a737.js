(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-240c2977"],{"075b":function(t,e,a){"use strict";var s=a("768b");a("57e7"),a("f3e2"),a("ac6a"),a("456d");e["a"]={data:function(){return{haveBranch:!1,branchArr:[],activeBranch:""}},methods:{branchInit:function(t){var e=this,a=t.coinList,i=t.followCoinList;if(this.haveBranch=!1,this.branchArr=[],this.activeBranch="",this.symbol&&a[this.symbol]&&1===a[this.symbol].mainChainType&&(this.haveBranch=!0,i[this.symbol])){var n=[],o=Object.keys(i[this.symbol]);if(o.forEach((function(t){var a=i[e.symbol][t];n.push({value:a.mainChainName,code:t})})),this.branchArr=n,-1!==o.indexOf(this.symbol))this.activeBranch=this.symbol;else{var r=Object(s["a"])(o,1),l=r[0];this.activeBranch=l}}}}}},"0de5":function(t,e,a){},df44:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"page-addressMent"},[a("header",{staticClass:"addressMent-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("assets.addressMent.addAddress"))+"\n  ")]),a("div",{staticClass:"addressBox clearfix a-7-bd"},[a("div",{staticClass:"addressBox-left",class:{autoW:t.isHavePage}},[a("div",{staticClass:"clearfix"},[a("div",{staticClass:"addressBox-select"},[a("c-select",{attrs:{promptText:t.$t("assets.addressMent.coin"),errorHave:!1,value:t.symbolValue,options:t.selectList,filterable:!0},on:{onChanges:t.selectLineChange}})],1),t.haveBranch?a("div",{staticClass:"addressBox-select",staticStyle:{"margin-left":"20px"}},[a("c-select",{attrs:{promptText:t.$t("assets.branchName"),errorHave:!1,value:t.activeBranch,options:t.branchArr,filterable:!0},on:{onChanges:t.setActiveBranch}},[a("span",{attrs:{slot:"promptExtend"},slot:"promptExtend"},[a("div",{staticClass:"mainChain-title"},[a("div",{staticClass:"mainChain-page-icon"},[a("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-a_15"}})]),a("ul",{staticClass:"mainChain-page-market a-4-bg"},[a("li",[t._v("\n                      "+t._s(t.branchTip)+"\n                    ")])])])])])])],1):t._e(),a("div",{staticClass:"addressBox-address"},[a("c-inputLine",{attrs:{name:"addressValue",promptText:t.$t("assets.addressMent.WithdrawalAddress"),errorHave:!1,value:t.addressValue},on:{onchanges:t.inputLineChange}})],1)]),a("div",[a("div",{staticClass:"addressBox-remarks"},[a("c-inputLine",{attrs:{name:"remarksValue",maxLength:"20",promptText:t.$t("assets.addressMent.Remarks"),errorHave:!1,value:t.remarksValue},on:{onchanges:t.inputLineChange}})],1),t.isHavePage?a("div",{staticClass:"addressBox-pages"},[a("c-inputLine",{attrs:{name:"pagesValue",maxLength:"64",className:"addressTag",promptText:t.$t("assets.addressMent.label"),errorHave:!1,value:t.pagesValue},on:{onchanges:t.inputLineChange}},[a("div",{staticClass:"addressBox-page-icon"},[a("svg",{staticClass:"icon icon-14",attrs:{"aria-hidden":"true"}},[a("use",{attrs:{"xlink:href":"#icon-a_15"}})]),a("div",{staticClass:"addressBox-page-market a-4-bg"},[t._v("\n                "+t._s(t.$t("assets.addressMent.pageText"))+"\n              ")])])])],1):t._e()])]),a("div",{staticClass:"addressBox-right"},[a("c-button",{attrs:{width:"120px",height:"40px",disabled:t.addressBtnDisabled},on:{click:t.addressBtnClick}},[t._v(t._s(t.$t("assets.addressMent.add")))])],1)]),a("header",{staticClass:"addressMent-header b-1-cl a-3-bd"},[t._v("\n    "+t._s(t.$t("assets.addressMent.AddressList"))+"\n    ")]),a("div",{staticClass:"addressMent-table"},[a("c-table",{attrs:{loading:t.tabelLoading,columns:t.columns,imgMap:t.imgMap,colorMap:t.colorMap,dataList:t.tableList},on:{elementClick:t.tableClick}}),t.paginationObj.total>t.paginationObj.display?a("c-pagination",{attrs:{total:t.paginationObj.total,display:t.paginationObj.display,currentPage:t.paginationObj.currentPage},on:{pagechange:t.pagechange}}):t._e()],1),a("c-verifyCationc-alert",{attrs:{showFlag:t.alertFlag,imgMap:t.imgMap,titleText:t.$t("assets.addressMent.safetyWarning"),detaText:t.authTitleText,dataList:t.alertData,buttonText:t.$t("assets.addressMent.GotoOpen")},on:{close:t.alertClone,confirm:t.alertGo}}),a("c-dialog",{attrs:{showFlag:t.dialogFlag,paddingBottom:"14px",confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.$t("assets.addressMent.safetyVerification")},on:{close:t.dialogClose,confirm:t.dialogConfirm}},[t.OpenMobile?a("c-inputLine",{attrs:{maxLength:"6",name:"phoneValue",value:t.phoneValue,promptText:t.$t("assets.addressMent.phoneCode"),errorHave:!0,errorFlag:t.phoneError,errorText:t.$t("assets.addressMent.phoneCodeError")},on:{onchanges:t.inputLineChange}},[a("c-getCode",{attrs:{name:"addressGetcode"},on:{click:t.getCodeClick}})],1):t._e(),t.OpenGoogle?a("c-inputLine",{attrs:{maxLength:"6",name:"googleValue",value:t.googleValue,promptText:t.$t("assets.addressMent.googleCode"),errorHave:!0,errorFlag:t.googleError,errorText:t.$t("assets.addressMent.googleCodeError")},on:{onchanges:t.inputLineChange}}):t._e()],1)],1)},i=[],n=(a("456d"),a("ac6a"),a("f3e2"),a("c5f6"),a("6b54"),a("87b3"),a("95d5")),o={name:"page-addressMent",data:function(){return{tabelLoading:!0,imgMap:n["u"],colorMap:n["c"],alertFlag:!1,selectList:[],remarksisRequire:!1,symbolValue:"",addressValue:"",remarksValue:"",pagesValue:"",googleValue:"",phoneValue:"",havePageArr:["XRP","EOS"],dialogFlag:!1,dialogConfirmLoading:!1,tableList:[],dialogStatus:"",deleteObj:{},paginationObj:{total:0,display:10,currentPage:1},branchTip:""}},computed:{symbol:function(){return this.symbolValue},enforceGoogleAuth:function(){return this.$store.state.baseData.is_enforce_google_auth||0},authTitleText:function(){var t=this.enforceGoogleAuth?"assets.withdraw.enforceGoogleAuth":"assets.withdraw.safetyWarningError";return this.$t(t)},alertData:function(){var t=[{text:this.$t("assets.withdraw.bindGoogle"),flag:this.OpenGoogle}];return this.enforceGoogleAuth||t.push({text:this.$t("assets.withdraw.bindPhone"),flag:this.OpenMobile}),t},exchangeData:function(){return this.$store.state.assets.exchangeData},market:function(){return this.$store.state.baseData.market},userInfoIsReady:function(){return this.$store.state.baseData.userInfoIsReady},columns:function(){return[{title:this.$t("assets.addressMent.listCoin"),width:"20%"},{title:this.$t("assets.addressMent.listAddress"),width:"47%",align:"left",styleClass:"add-text clearfix"},{title:this.$t("assets.addressMent.listRemarks"),width:"20%"},{title:this.$t("assets.addressMent.listOptions"),width:"20%"}]},OpenMobile:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.isOpenMobileCheck.toString()&&(t=!0),t},OpenGoogle:function(){var t=!1,e=this.$store.state.baseData.userInfo;return e&&"1"===e.googleStatus.toString()&&(t=!0),t},isHavePage:function(){var t=!1;if(this.market&&this.market.coinList)if(this.haveBranch){if(this.market.followCoinList[this.symbolValue][this.activeBranch]){var e=this.market.followCoinList[this.symbolValue][this.activeBranch].tagType;t=e}}else if(this.market.coinList[this.symbolValue]){var a=this.market.coinList[this.symbolValue].tagType;t=a}return t},pagesFlag:function(){var t=!1;switch(Number(this.isHavePage)){case 1:t=!0;break;case 2:this.pagesValue.length&&(t=!0);break;default:t=!0}return t},addressBtnDisabled:function(){if(!this.userInfoIsReady)return!0;var t=!0;return this.symbolValue.length&&this.addressValue.length&&this.remarksValue.length&&this.pagesFlag&&(t=!1),t},phoneValueFlag:function(){return this.$store.state.regExp.verification.test(this.phoneValue)},googleValueFlag:function(){return this.$store.state.regExp.verification.test(this.googleValue)},phoneError:function(){return 0!==this.phoneValue.length&&!this.phoneValueFlag},googleError:function(){return 0!==this.googleValue.length&&!this.googleValueFlag},dialogConfirmDisabled:function(){var t=!0,e=!0;return this.OpenMobile&&(t=this.phoneValueFlag),this.OpenGoogle&&(e=this.googleValueFlag),!(t&&e||this.dialogConfirmLoading)}},watch:{market:function(t){t&&this.exchangeData&&this.initSelectData(),t&&this.getTableList(),t&&this.symbol&&this.branchInit(this.market)},symbol:function(t){t&&this.market&&this.branchInit(this.market)},userInfoIsReady:function(){this.canAlert()},exchangeData:function(t){t&&this.market&&this.initSelectData()},symbolValue:function(){this.addressValue="",this.remarksValue="",this.pagesValue=""},activeBranch:function(t){var e=this;t&&this.axios({url:"cost/Getcost",params:{symbol:t}}).then((function(t){"0"===t.code.toString()&&(e.branchTip=t.data.mainChainNameTip)}))}},methods:{init:function(){this.exchangeData?this.market&&this.initSelectData():this.$store.dispatch("assetsExchangeData"),this.userInfoIsReady&&this.canAlert(),this.market&&this.getTableList()},canAlert:function(){var t=this;this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile?this.alertFlag=!1:setTimeout((function(){t.alertFlag=!0}),100)},alertClone:function(){this.alertFlag=!1},alertGo:function(){this.$router.push("/personal/userManagement")},pagechange:function(){},inputLineChange:function(t,e){this[e]=t},selectLineChange:function(t){this.symbolValue=t.code},setActiveBranch:function(t){this.activeBranch=t.code},initSelectData:function(){var t=this,e=[];Object.keys(this.exchangeData.allCoinMap).forEach((function(a){if(!t.exchangeData.allCoinMap[a].isFiat){var s=t.market.coinList,i=Object(n["l"])(a,s);e.push({value:i,code:a})}})),this.selectList=e},addressBtnClick:function(){if(this.OpenGoogle||!this.enforceGoogleAuth&&this.OpenMobile)return this.dialogStatus="add",void(this.dialogFlag=!0);this.alertFlag=!0},dialogClose:function(){this.dialogFlag=!1,this.googleValue="",this.phoneValue="",this.dialogStatus=""},dialogConfirm:function(){"add"===this.dialogStatus?this.addDialogConfirm():"del"===this.dialogStatus&&this.delDialogConfirm()},addDialogConfirm:function(){var t=this;this.dialogConfirmLoading=!0;var e=this.addressValue;this.isHavePage&&(e+="_".concat(this.pagesValue)),this.axios({url:"addr/add_withdraw_addr",params:{coinSymbol:this.haveBranch?this.activeBranch:this.symbolValue,address:e,label:this.remarksValue,smsValidCode:this.phoneValue,googleCode:this.googleValue}}).then((function(e){t.dialogConfirmLoading=!1,"0"!==e.code.toString()?t.$bus.$emit("tip",{text:e.msg,type:"error"}):(t.$bus.$emit("tip",{text:e.msg,type:"success"}),t.getTableList(),t.dialogFlag=!1,t.addressValue="",t.remarksValue="",t.pagesValue="",t.googleValue="",t.phoneValue="",t.dialogStatus="")}))},delDialogConfirm:function(){var t=this;this.dialogConfirmLoading=!0,this.axios({url:"addr/delete_withdraw_addr",params:{ids:[this.deleteObj.id],smsValidCode:this.phoneValue,googleCode:this.googleValue}}).then((function(e){t.dialogConfirmLoading=!1,"0"!==e.code.toString()?t.$bus.$emit("tip",{text:e.msg,type:"error"}):(t.$bus.$emit("tip",{text:e.msg,type:"success"}),t.getTableList(),t.dialogFlag=!1,t.googleValue="",t.phoneValue="",t.dialogStatus="")}))},getCodeClick:function(){this.sendSmsCode()},sendSmsCode:function(){var t=this,e="add"===this.dialogStatus?"11":"21";this.axios({url:"v4/common/smsValidCode",params:{operationType:e}}).then((function(e){"0"!==e.code.toString()?setTimeout((function(){t.$bus.$emit("getCode-clear","addressGetcode"),t.$bus.$emit("tip",{text:e.msg,type:"error"})}),2e3):t.$bus.$emit("tip",{text:t.$t("assets.addressMent.phoneSendSuccess"),type:"success"})}))},tableClick:function(t,e){if("deleteAddress"===t){var a={};this.tableList.forEach((function(t){t.id===e&&(a=t)})),this.deleteObj=a,this.dialogStatus="del",this.dialogFlag=!0}},getTableList:function(){var t=this;this.axios({url:"addr/address_list"}).then((function(e){if("0"===e.code.toString()){var a=[];e.data.addressList.forEach((function(e){var s=t.market.coinList,i=Object(n["l"])(e.symbol,s);a.push({id:e.id,data:[i,[{type:"icon",iconSvg:'<svg class="icon icon-14" aria-hidden="true">\n                      <use xlink:href="#icon-a_16"></use>\n                    </svg>\n                    '},{text:e.address}],e.label,[{type:"button",text:t.$t("assets.addressMent.delete"),iconClass:[""],eventType:"deleteAddress"}]]})})),t.tabelLoading=!1,t.tableList=a}}))}}},r=(a("0de5"),a("075b")),l={mixins:[o,r["a"]],mounted:function(){this.init()}},d=l,h=a("2877"),c=Object(h["a"])(d,s,i,!1,null,null,null);e["default"]=c.exports}}]);