(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0031d811"],{"00b6":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("c-dialog",{attrs:{paddingBottom:"14px",showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.lanText.titleText,confirmText:t.lanText.confirmText},on:{close:t.close,confirm:t.submit}},[s("div",{staticClass:"openFutures-box"},[s("div",{staticClass:"text"},[s("vue-scroll",[s("p",[t._v(t._s(t.lanText.text1))]),s("p",[t._v(t._s(t.lanText.text2))]),s("p",[t._v(t._s(t.lanText.text3))]),s("p",[t._v(t._s(t.lanText.text4))]),s("p",[t._v(t._s(t.lanText.text5))]),s("p",[t._v(t._s(t.lanText.text6))]),s("p",[t._v(t._s(t.lanText.text7))])])],1)])])},i=[],o=(s("6b54"),s("87b3"),{name:"openFuture",data:function(){return{dialogConfirmLoading:!1,dialogConfirmDisabled:!1}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function}},computed:{lanText:function(){return{titleText:this.$t("futures.openFutures.titleText"),confirmText:this.$t("futures.openFutures.confirmText"),text1:this.$t("futures.openFutures.text1"),text2:this.$t("futures.openFutures.text2"),text3:this.$t("futures.openFutures.text3"),text4:this.$t("futures.openFutures.text4"),text5:this.$t("futures.openFutures.text5"),text6:this.$t("futures.openFutures.text6"),text7:this.$t("futures.openFutures.text7")}},userInfo:function(){return this.$store.state.baseData.userInfo}},watch:{},methods:{init:function(){},selectCategory:function(t){this.currentCategory=t},submit:function(){var t=this,e=this.userInfo,s=e.mobileNumber,n=e.email,i=e.id;this.dialogConfirmLoading=!0,this.axios({url:this.$store.state.url.futures.createCoId,hostType:"co",method:"post",params:{mobileNumber:s,email:n,uid:i}}).then((function(e){var s=e.code,n=e.msg;"0"===s.toString()?(t.$store.dispatch("getUserConfig"),t.close(),t.$bus.$emit("tip",{text:n,type:"success"})):t.$bus.$emit("tip",{text:n,type:"error"}),t.dialogConfirmLoading=!1}))}}}),a=(s("e493"),{mixins:[o],mounted:function(){this.init()}}),r=a,u=s("2877"),c=Object(u["a"])(r,n,i,!1,null,null,null);e["a"]=c.exports},"3bdb":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"page-coAccount"},[s("openFutures",{attrs:{isShow:t.openFuturesDialogShow,close:t.closeDialog}}),s("div",{staticClass:"a-7-bd"},[s("div",{staticClass:"exchangeAccount-title a-3-bd"},[s("div",{staticClass:"text b-1-cl medium"},[t._v(t._s(t.$t("futures.coAccount.coAccount")))])]),s("div",{staticClass:"exchangeAccount-center"},[s("c-table",{attrs:{cellHeight:55,imgMap:t.imgMap,colorMap:t.colorMap,loading:t.tabelLoading,lineNumber:t.tableData.length,columns:t.columns,dataList:t.tableData},on:{elementClick:t.tableClick}})],1)]),s("common-transfer",{attrs:{symbol:t.symbol,isShow:t.showFlag,close:t.closeDialog}})],1)},i=[],o=(s("6b54"),s("87b3"),s("ac6a"),s("f3e2"),s("95d5")),a={name:"page-coAccount",data:function(){return{showFlag:!1,tabelInfoData:[],detailsData:{},tabelLoading:!0,imgMap:o["u"],colorMap:o["c"],transferSide:"1",transferValue:"",dialogConfirmLoading:!1,symbol:null,openFuturesDialogShow:!1}},filters:{fixDFn:function(t,e){return Object(o["f"])(t,e.detailsData.showPrecision)}},watch:{openContract:function(t){t||(this.openFuturesDialogShow=!0)}},computed:{openContract:function(){return!this.$store.state.future||this.$store.state.future.openContract},transStatus:function(){return!this.$store.state.future||this.$store.state.future.transStatus},marginCoinInfor:function(){return this.$store.state.future.marginCoinInfor?this.$store.state.future.marginCoinInfor:{}},contractList:function(){return this.$store.state.future.contractList?this.$store.state.future.contractList:[]},userInfo:function(){return this.$store.state.baseData.userInfo?this.$store.state.baseData.userInfo:{}},tableData:function(){var t=this,e=[];return this.tabelInfoData.forEach((function(s){var n=t.marginCoinInfor[s.symbol].marginCoinPrecision;e.push({id:JSON.stringify(s),data:[s.symbol,Object(o["f"])(s.canUseAmount,n),Object(o["f"])(s.totalAmount,n),Object(o["f"])(s.totalMargin,n),Object(o["f"])(s.isolateMargin,n),Object(o["f"])(s.lockAmount,n),[{type:t.transStatus?"button":"label",text:t.$t("futures.coAccount.transfer"),eventType:"clickDialog",classes:[t.transStatus?"":"tableNownStyle tableTithDraw b-2-cl"]}]]})})),e},columns:function(){return[{title:this.$t("futures.coAccount.coin"),width:"5%"},{title:this.$t("futures.coAccount.canUser"),width:"15%"},{title:this.$t("futures.coAccount.allBalance"),width:"15%"},{title:this.$t("futures.coAccount.allMargin"),width:"15%"},{title:this.$t("futures.coAccount.subMargin"),width:"15%"},{title:this.$t("futures.coAccount.lockMargin"),width:"15%"},{title:this.$t("futures.coAccount.opera"),width:"10%"}]},market:function(){return this.$store.state.baseData.market}},methods:{init:function(){this.$store.dispatch("getFutorePublicInfo"),this.openContract||(this.openFuturesDialogShow=!0),this.getDetailData()},getDetailData:function(){var t=this;this.axios({url:"position/get_assets_list",hostType:"co",params:{onlyAccount:1}}).then((function(e){"0"===e.code.toString()&&e.data.accountList.length&&(t.tabelInfoData=e.data.accountList),t.tabelLoading=!1}))},tableClick:function(t,e){"clickDialog"===t&&(this.symbol=JSON.parse(e).symbol,this.showFlag=!0)},submit:function(){this.openFuturesDialogShow=!1,this.getDetailData()},closeDialog:function(t){t&&this.getDetailData(),this.openFuturesDialogShow=!1,this.showFlag=!1}}},r=(s("8459"),s("00b6")),u=s("fbb2"),c={mixins:[a],components:{openFutures:r["a"],commonTransfer:u["a"]},mounted:function(){this.init()}},l=c,f=s("2877"),h=Object(f["a"])(l,n,i,!1,null,null,null);e["default"]=h.exports},8459:function(t,e,s){},"8b11":function(t,e,s){"use strict";s("e029")},c591:function(t,e,s){},e029:function(t,e,s){},e493:function(t,e,s){},fbb2:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("c-dialog",{attrs:{showFlag:t.isShow,titleText:t.$t("futures.transfer.transfer"),confirmLoading:t.dialogConfirmLoading,confirmText:t.confirmText,confirmDisabled:t.dialogConfirmDisabled},on:{close:t.close,confirm:t.dialogConfirm}},[s("c-select",{attrs:{promptText:t.$t("futures.transfer.coin"),value:t.axiosSymbol,options:t.symbolList,errorHave:!0,width:"100%",filterable:!0},on:{onChanges:t.symbolChange}}),s("section",{staticClass:"transfer-box"},[s("ul",{staticClass:"transfer-content a-4-bg"},[s("li",{staticClass:"transfer-page"},[s("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("futures.transfer.from")))]),s("div",{staticClass:"transfer-page-name b-1-cl"},[t._v(t._s(t.side.from))])]),s("li",{staticClass:"transfer-icon"},[s("svg",{staticClass:"icon icon-36",attrs:{"aria-hidden":"true"},on:{click:t.setTransferSide}},[s("use",{attrs:{"xlink:href":"#icon-f_4"}})])]),s("li",{staticClass:"transfer-page"},[s("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("futures.transfer.to")))]),s("div",{staticClass:"transfer-page-name b-1-cl"},[t._v(t._s(t.side.to))])])]),s("c-inputLine",{attrs:{name:"transferValue",value:t.transferValue,promptText:t.$t("futures.transfer.volume"),errorHave:!0,errorFlag:t.transferError,errorText:t.$t("futures.transfer.volumeError"),warningText:t.transferWarningText},on:{onchanges:t.inputLineChange}},[s("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allTransfer}},[t._v("\n            "+t._s(t.$t("futures.transfer.all"))+"\n          ")])],1)],1)],1)],1)},i=[],o=(s("6b54"),s("87b3"),s("c5f6"),s("ac6a"),s("f3e2"),s("95d5")),a={name:"forced-reminder",data:function(){return{dialogConfirmLoading:!1,axiosSymbol:"",transferSide:"1",transferValue:"",detailsData:{},exchangeAmount:null,contractAmount:null}},props:{isShow:{default:!1,type:Boolean},finish:{default:!1,type:Boolean},close:{default:function(){},type:Function},symbol:{default:"",type:String}},computed:{marginCoinInfor:function(){return this.$store.state.future.marginCoinInfor?this.$store.state.future.marginCoinInfor:{}},marginCoinList:function(){return this.$store.state.future.marginCoinList?this.$store.state.future.marginCoinList:[]},symbolList:function(){if(0!==this.marginCoinList.length){var t=[];return this.marginCoinList.forEach((function(e){t.push({value:e,code:e})})),t}return[]},accountBalanceMap:function(){return this.$store.state.future.futureAccountBalance?this.$store.state.future.futureAccountBalance:{}},exchangeData:function(){return this.$store.state.assets.exchangeData?this.$store.state.assets.exchangeData:null},showPrecision:function(){return this.marginCoinInfor&&this.axiosSymbol?this.marginCoinInfor[this.axiosSymbol].marginCoinPrecision:4},fundsInStatus:function(){return!(!this.marginCoinInfor||!this.axiosSymbol)&&this.marginCoinInfor[this.axiosSymbol].fundsInStatus},fundsOutStatus:function(){return!(!this.marginCoinInfor||!this.axiosSymbol)&&this.marginCoinInfor[this.axiosSymbol].fundsOutStatus},dialogConfirmDisabled:function(){if(this.dialogConfirmLoading)return!1;var t=!0;return parseFloat(this.transferValue)>0&&!this.transferError&&(t=!1),this.marginCoinInfor&&this.axiosSymbol&&("1"===this.transferSide?this.axiosSymbol&&!this.fundsInStatus&&(t=!0):"2"===this.transferSide&&this.axiosSymbol&&!this.fundsOutStatus&&(t=!0)),t},transferError:function(){var t=!1;return"1"===this.transferSide?parseFloat(this.transferValue)>parseFloat(this.exchangeAmount)&&(t=!0):"2"===this.transferSide&&parseFloat(this.transferValue)>parseFloat(this.contractAmount)&&(t=!0),t},transferWarningText:function(){var t=this.$t("futures.transfer.canTransfer"),e=null;return this.marginCoinInfor&&this.axiosSymbol?(t=this.$t("futures.transfer.canTransfer"),e="1"===this.transferSide?Object(o["f"])(this.exchangeAmount,this.showPrecision):Object(o["f"])(this.contractAmount,this.showPrecision),"".concat(t," ").concat(e," ").concat(this.axiosSymbol)):"".concat(t," ").concat(e," ").concat(this.axiosSymbol)},confirmText:function(){var t=this.$t("futures.transfer.confirm");return this.marginCoinInfor&&this.axiosSymbol&&("1"===this.transferSide&&this.axiosSymbol&&!this.fundsInStatus&&(t=this.$t("futures.transfer.cantIn")),"2"===this.transferSide&&this.axiosSymbol&&!this.fundsOutStatus&&(t=this.$t("futures.transfer.cantOut"))),t},side:function(){var t=this.$t("futures.transfer.exchangeAccount"),e=this.$t("futures.transfer.coAccount"),s="",n="";return"1"===this.transferSide?(s=t,n=e):(s=e,n=t),{from:s,to:n}}},watch:{isShow:function(t){t&&(this.axiosSymbol=this.symbol,this.getData())},exchangeData:function(t){if(t&&this.axiosSymbol)if(void 0!==t.allCoinMap[this.axiosSymbol]){var e=t.allCoinMap[this.axiosSymbol].normal_balance;this.exchangeAmount=Object(o["f"])(e,this.showPrecision)}else this.exchangeAmount=Object(o["f"])(0,this.showPrecision)},accountBalanceMap:function(t){t&&this.axiosSymbol&&(this.contractAmount=t[this.axiosSymbol].canUseAmount)},symbol:function(t){t&&this.isShow&&this.getData()},transferValue:function(t){t&&this.showPrecision&&(this.transferValue=Object(o["h"])(t,this.showPrecision))}},methods:{init:function(){},getData:function(){this.$store.dispatch("getPositionList"),this.$store.dispatch("assetsExchangeData"),this.transferValue=""},symbolChange:function(t){this.axiosSymbol=t.code,this.getData()},inputLineChange:function(t,e){this[e]=t},dialogConfirm:function(){this.dialogConfirmLoading=!0,this.toCoTransfer()},toCoTransfer:function(){var t=this;this.axios({url:"contract/co_transfer",hostType:"ex",params:{transferType:"1"===this.transferSide?"wallet_to_contract":"contract_to_wallet",amount:Number(this.transferValue),coinSymbol:this.axiosSymbol},method:"post"}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.close(!0),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},toExchange:function(){var t=this;this.axios({url:"assets/saas_trans/co_to_ex",hostType:"co",params:{amount:Number(this.transferValue),coinSymbol:this.axiosSymbol},method:"post"}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.close(!0),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},toContract:function(){var t=this;this.axios({url:"web/futures_transfer",hostType:"ex",params:{amount:Number(this.transferValue),coinSymbol:this.axiosSymbol},method:"post"}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.close(!0),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},setTransferSide:function(){"1"===this.transferSide?this.transferSide="2":"2"===this.transferSide&&(this.transferSide="1"),this.transferValue=""},allTransfer:function(){if("1"===this.transferSide){if(null===this.exchangeAmount)return;this.transferValue=this.exchangeAmount.toString()}else if("2"===this.transferSide){if(!this.contractAmount)return;this.transferValue=this.contractAmount.toString()}}}},r=(s("c591"),{mixins:[a],mounted:function(){this.init()}}),u=r,c=(s("8b11"),s("2877")),l=Object(c["a"])(u,n,i,!1,null,"4683ffc2",null);e["a"]=l.exports}}]);