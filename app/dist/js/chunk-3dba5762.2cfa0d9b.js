(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3dba5762"],{"167f":function(t,e,i){},b4e2:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"futuresData"},[i("div",{staticClass:"futuresData-content c-4-bg"},[i("div",{staticClass:"mining-tit f-2-cl c-5-bd"},t._l(t.tabList,(function(e,a){return i("span",{key:a,staticClass:"item",class:{"selected c-8-bd f-1-cl":t.tableType===e.key},on:{click:function(i){return t.switcherType(e.key)}}},[t._v(t._s(e.text))])})),0),i("div",{staticClass:"filter-box e-2-cl d-5-bd"},[1===t.tableType?i("c-select",{attrs:{value:t.symbol,promptText:t.$t("futuresData.promptText1"),width:"120px",name:"symbol",options:t.symbolOPtion,filterable:!0},on:{onChanges:t.selectOnChange}}):t._e(),t.tableType>1?i("c-select",{attrs:{value:t.type,promptText:t.$t("futuresData.promptText2"),width:"140px",name:"type",options:t.typeTabList,filterable:!0},on:{onChanges:t.selectOnChange}}):t._e(),t.tableType>1?i("c-select",{attrs:{value:t.contractId,promptText:t.$t("futuresData.promptText3"),width:"140px",name:"contractId",options:t.marketList,filterable:!0},on:{onChanges:t.selectOnChange}}):t._e()],1),1===t.tableType?i("div",{staticClass:"con-text"},[t._v("\n        "+t._s(t.$t("futuresData.text0"))+" "+t._s(t.symbol)+" "+t._s(t.$t("futuresData.text1"))+"\n        "),i("span",{staticClass:"f-1-cl"},[t._v(t._s(t.amount))]),t._v(" "+t._s(t.symbol)+"\n      ")]):t._e(),t.tableType>2?i("div",{staticClass:"echartsKline"},[i("echartsKline",{attrs:{contractId:t.contractId,tableType:t.tableType,acriveContract:t.acriveContract,contractName:t.contractName}})],1):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:t.tableType<3,expression:"tableType < 3"}],staticClass:"chartbox",attrs:{id:"chartbox"}}),i("div",{staticClass:"more-link"},[i("span",{staticClass:"x-3-cl",on:{click:function(e){return t.linkMore(t.moreText.link)}}},[t._v(" "+t._s(t.moreText.text)+" ")])])]),t.tableType<4&&t.tableType>1?i("div",{staticClass:"data-content"},[i("div",{staticClass:"mining-tit f-2-cl c-5-bd c-4-bg"},[t._v("\n      "+t._s(t.tbaleTitle)+"\n    ")]),i("c-table",{attrs:{imgMap:t.imgMap,colorMap:t.colorMap,columns:t.columns,dataList:t.dataList,loading:t.tableLoading,bodyClasses:t.bodyClasses,headClasses:t.headClasses}}),t.pagination.count/t.pagination.pageSize>1?i("c-pagination",{attrs:{total:t.pagination.count,classes:"c-4-bg","current-page":t.pagination.page,display:t.pagination.pageSize},on:{pagechange:t.pagechange}}):t._e()],1):t._e()])},s=[],n=(i("7f7f"),i("6b54"),i("87b3"),i("a481"),i("c5f6"),i("ac6a"),i("f3e2"),i("95d5")),r={name:"futuresData",data:function(){return{imgMap:n["u"],colorMap:n["c"],tableType:1,headClasses:"c-4-bg",bodyClasses:"c-4-bg",symbol:null,type:null,contractId:null,tableLoading:!1,dataList:[],brokenLineList:[],historyList:[],amount:0,pagination:{count:0,pageSize:10,page:1}}},computed:{typeTabList:function(){return[{code:"1",value:this.$t("futuresData.typeTabList1")},{code:"0",value:this.$t("futuresData.typeTabList2")},{code:"2",value:this.$t("futuresData.typeTabList3")},{code:"3",value:this.$t("futuresData.typeTabList4")}]},tbaleTitle:function(){var t=this.$t("futuresData.tabList1");return 2===this.tableType&&(t=this.$t("futuresData.tabList2")),3===this.tableType&&(t=this.$t("futuresData.tabList3")),t},moreText:function(){var t={text:this.$t("futuresData.moreText1"),link:"https://chainupfutures.zendesk.com/hc/zh-sg/articles/900003529386-%E4%BF%9D%E9%99%A9%E5%9F%BA%E9%87%91"};return 2===this.tableType&&(t={text:this.$t("futuresData.moreText2"),link:"https://chainupfutures.zendesk.com/hc/zh-sg/articles/900004402523-%E8%B5%84%E9%87%91%E8%B4%B9%E7%8E%87"}),3===this.tableType&&(t={text:this.$t("futuresData.moreText3"),link:"https://chainupfutures.zendesk.com/hc/zh-sg/articles/900004402503-%E6%8C%87%E6%95%B0%E4%BB%B7%E6%A0%BC"}),4===this.tableType&&(t={text:this.$t("futuresData.moreText4"),link:"https://chainupfutures.zendesk.com/hc/zh-sg/articles/900003490006-%E6%A0%87%E8%AE%B0%E4%BB%B7%E6%A0%BC"}),t},contractList:function(){return this.$store.state.future.contractList},acriveSymbol:function(){var t=this,e={};return this.contractList.length&&this.symbol&&this.contractList.forEach((function(i){i.marginCoin===t.symbol&&(e=i)})),e},acriveContract:function(){var t=this,e={};return this.contractList.length&&this.symbol&&this.contractList.forEach((function(i){i.id===t.contractId&&(e=i)})),e},marketList:function(){var t=this,e=[],i="";return this.contractList&&this.contractList.length&&this.contractList.forEach((function(a){if(Number(t.type)===t.filterType(a)){i="E"!==a.contractType?"-".concat(a.marginCoin):"";var s=a.symbol.replace("-","");e.push({value:"".concat(s).concat(i),code:a.id})}})),e},marginCoinList:function(){return this.$store.state.future.marginCoinList?this.$store.state.future.marginCoinList:[]},tabList:function(){return[{key:1,text:this.$t("futuresData.tabList1")},{key:2,text:this.$t("futuresData.tabList2")},{key:3,text:this.$t("futuresData.tabList3")},{key:4,text:this.$t("futuresData.tabList4")}]},symbolOPtion:function(){var t=[];return this.marginCoinList.length&&this.marginCoinList.forEach((function(e){t.push({value:e,code:e})})),t},columns:function(){return 1===this.tableType?[{title:this.$t("futuresData.columns1"),width:"33%"},{title:this.$t("futuresData.columns2"),width:"33%"},{title:this.$t("futuresData.columns3"),width:"33%"}]:2===this.tableType?[{title:this.$t("futuresData.columns1"),width:"33%"},{title:this.$t("futuresData.columns4"),width:"33%"},{title:this.$t("futuresData.columns5"),width:"33%"}]:[{title:this.$t("futuresData.columns6"),width:"50%"},{title:this.$t("futuresData.columns7"),width:"50%"}]},contractName:function(){var t=this;if(this.contractId&&this.marketList.length){var e="";return this.marketList.forEach((function(i){t.contractId===i.code&&(e=i.value)})),e}return""},publicInfo:function(){return this.$store.state&&this.$store.state.baseData?this.$store.state.baseData.publicInfo:null},documentTitle:function(){var t=Object(n["n"])("lan"),e="";if(this.publicInfo){var i=this.publicInfo,a=i.indexHeaderTitle,s=i.seo,r="";if(a)if(t)r=s.title||a[t];else{var o=this.publicInfo.lan.defLan;r=s.title||a[o]}e="合约数据 - ".concat(r)}return e}},watch:{documentTitle:function(t){setTimeout((function(){document.title=t}),200)},symbolOPtion:function(t,e){t.length&&!e.length&&this.setSymbolValue()},symbol:function(t){t&&(this.pagination.page=1,this.getData(),this.getRiskAccount())},typeTabList:function(t,e){t.length&&!e.length&&this.setTypeValue()},marketList:function(t){t.length?(this.pagination.page=1,this.setcoValue()):this.contractId=null},contractId:function(t){this.brokenLineList=[],t&&this.getData()},tableType:function(t){t&&(this.setSymbolValue(),this.typeTabList.length&&this.setTypeValue(),this.marketList.length&&this.setcoValue(),this.getData())},brokenLineList:function(){var t=this,e=[],i=[];this.brokenLineList&&this.brokenLineList.length?this.brokenLineList.forEach((function(a){e.push(Object(n["k"])(a.ctime)),i.push(Object(n["f"])(a.amount,t.acriveSymbol.mCionFix))})):(e=[0],i=[0]),this.myEcharts.setOption({xAxis:{data:e},series:[{type:"line",data:i}]})}},methods:{init:function(){this.initEachart(),this.setInitValue(),this.setSymbolValue(),document.title=this.documentTitle},setSymbolValue:function(){if(this.symbolOPtion.length){var t=this.$route.query.marginCoin;t&&this.isIndexFo(this.symbolOPtion,t)?this.symbol=t:this.isIndexFo(this.symbolOPtion,"USDT")?this.symbol="USDT":this.symbol=this.symbolOPtion[0].code}},setTypeValue:function(){if(this.typeTabList.length){var t=this.$route.query.type;t&&this.isIndexFo(this.typeTabList,t)?this.type=t:this.type=this.typeTabList[0].code}},setcoValue:function(){if(this.marketList.length){var t=this.$route.query.contractId;t&&this.isIndexFo(this.marketList,t)?this.contractId=Number(t):this.contractId=this.marketList[0].code}},isIndexFo:function(t,e){var i=!1;return t.forEach((function(t){t.code.toString()===e.toString()&&(i=!0)})),i},setInitValue:function(){this.marketList.length&&this.setcoValue(),this.typeTabList.length&&this.setTypeValue(),this.symbolOPtion.length&&this.setSymbolValue()},initEachart:function(){this.myEcharts=window.echarts.init(document.getElementById("chartbox")),this.myEcharts.setOption({animation:!1,tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{width:2,color:Object(n["q"])(n["c"]["b-2-cl"]),type:"cross"}}},grid:{show:!0,borderWidth:0,borderColor:Object(n["q"])(n["c"]["a-3-bd"]),containLabel:!0,left:5,top:40,right:5,bottom:0},xAxis:{data:[],axisPointer:{show:!0,type:"line"},axisLine:{show:!0,lineStyle:{width:1,color:Object(n["q"])(n["c"]["a-3-bd"])}},axisTick:{lineStyle:{color:Object(n["q"])(n["c"]["a-3-bd"])}},axisLabel:{color:Object(n["q"])(n["c"]["b-2-cl"]),formatter:function(t){return t}},splitLine:{lineStyle:{width:1,color:Object(n["q"])(n["c"]["a-3-bd"])}}},yAxis:[{type:"value",axisLine:{show:!0,lineStyle:{width:1,color:Object(n["q"])(n["c"]["a-3-bd"])}},axisTick:{lineStyle:{color:Object(n["q"])(n["c"]["a-3-bd"])}},axisLabel:{color:Object(n["q"])(n["c"]["b-2-cl"])},splitLine:{lineStyle:{width:1,color:Object(n["q"])(n["c"]["a-3-bd"])}}}],series:[{data:[],type:"line"}]})},filterType:function(t){return"E"===t.contractType&&1===t.contractSide?1:"E"===t.contractType&&0===t.contractSide?0:"S"===t.contractType?3:2},switcherType:function(t){this.pagination.page=1,this.tableType=t,1===t&&this.getRiskAccount()},selectOnChange:function(t,e){this[e]=t.code},getData:function(){var t=this,e=this.$store.state.url.futures.riskBalanceList,i={symbol:this.symbol,page:this.pagination.page,limit:this.pagination.pageSize};2===this.tableType&&(e=this.$store.state.url.futures.fundingRateList,i={contractId:this.contractId,page:this.pagination.page,limit:this.pagination.pageSize}),3===this.tableType&&(e=this.$store.state.url.futures.indexPriceWeightList,i={contractId:this.contractId,page:this.pagination.page,limit:this.pagination.pageSize}),this.brokenLineList=[],this.axios({url:e,hostType:"co",params:i}).then((function(e){var i=e.data,a=e.code;t.tableLoading=!1,"0"===a&&(t.historyList=i.historyList,t.brokenLineList=i.brokenLineList||[],3===t.tableType?t.setData(i.records):t.setData(t.historyList),1===t.tableType&&(t.pagination.count=i.hisCount),2===t.tableType&&(t.pagination.count=i.count))}))},setData:function(t){var e=this,i=[];t&&t.length&&(1===this.tableType&&t.forEach((function(t){i.push({id:t.id,data:[Object(n["k"])(t.ctime),1===t.type?e.$t("futuresData.text2"):e.$t("futuresData.text3"),Object(n["f"])(t.hisAmount,e.acriveSymbol.mCionFix)]})})),2===this.tableType&&t.forEach((function(t){i.push({id:t.id,data:[Object(n["k"])(t.ctime),t.contractName,"".concat(Object(n["f"])(100*t.amount,5),"%")]})})),3===this.tableType&&t.forEach((function(t){i.push({id:t.id,data:[t.name,"".concat(Object(n["f"])(100*t.weightRate,2),"%")]})}))),this.dataList=i},getRiskAccount:function(){var t=this,e=this.$store.state.url.futures.getRiskAccount,i={coinSymbol:this.symbol};this.axios({url:e,hostType:"co",params:i}).then((function(e){var i=e.data,a=e.code;t.tableLoading=!1,"0"===a&&(t.amount=Object(n["f"])(i.amount,t.acriveSymbol.mCionFix))}))},pagechange:function(t){this.pagination.page=t,this.getData()},linkMore:function(t){window.open(t)}}},o=(i("cd28"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"tv_chart_container",staticClass:"future-canter-echart-box",class:{"canter-echart-full":t.isfullTv},style:{height:t.TvBoxHeight}},[i("div",{staticClass:"top-menu b-3-cl"},[i("div",{staticClass:"top-menu-bar"},[i("div",{staticClass:"top-menu-box"},[i("span",{staticClass:"time-line  a-4-cl-h",class:{"a-4-bg b-1-cl":"Line"===t.lastTimeS},on:{click:function(e){return t.timeClike("Line")}}},[i("i",{staticClass:"hoverHide"},[t._v("Line")]),i("i",{staticClass:"b-1-cl hoverShow"},[t._v("Line")])]),t._l(t.baseTimeArry,(function(e){return i("span",{key:e,staticClass:"time-line a-4-cl-h",class:{"a-4-bg b-1-cl":t.lastTimeS===e},on:{click:function(i){return t.timeClike(e)}}},[i("i",{staticClass:"hoverHide"},[t._v(t._s(e))]),i("i",{staticClass:"b-1-cl hoverShow"},[t._v(t._s(e))])])})),i("span",{staticClass:"time-line full-btn c-5-bd a-4-cl-h",on:{click:t.fullTv}},[t.isfullTv?[i("i",{staticClass:"hoverHide"},[t._v(t._s(t.$t("trade.outFull")))]),i("i",{staticClass:"b-1-cl hoverShow"},[t._v(t._s(t.$t("trade.outFull")))])]:[i("i",{staticClass:"hoverHide"},[t._v(t._s(t.$t("trade.full")))]),i("i",{staticClass:"b-1-cl hoverShow"},[t._v(t._s(t.$t("trade.full")))])]],2)],2)])]),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isshowLoading,expression:"isshowLoading"}],staticClass:"loading"},[i("c-loading",{attrs:{size:"50"}})],1)]),i("p",{staticClass:"c-5-bd inline"}),t.klineLogo?i("div",{staticClass:"kline-bg"},[i("img",{staticClass:"kline-img",attrs:{src:t.klineLogo,alt:""}})]):t._e(),i("div",{staticClass:"slide",class:{selected:1===t.chartType}},[i("div",{staticClass:"tv_chart_container",attrs:{id:"tv_chart_container"}})])],1)}),c=[],l=(i("2397"),i("b0b4")),u=i("d225"),h=i("4e2b"),d=i("308d"),m=i("6bb5");i("57e7"),i("28a5");function p(t){var e=f();return function(){var i,a=Object(m["a"])(t);if(e){var s=Object(m["a"])(this).constructor;i=Reflect.construct(a,arguments,s)}else i=a.apply(this,arguments);return Object(d["a"])(this,i)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var b={name:"tradingView",data:function(){return{TvBoxHeight:"472px",theme:"theme_default",chartType:1,MywebSocket:null,lastTimeS:"1min",language:Object(n["n"])("lan")?Object(n["n"])("lan").split("_")[0]:"",lTime:null,fTime:0,isCreateWidget:!1,isshowLoading:!1,maskBg:!0,chartTypeHove:null,isfullTv:!1,isfullTvsd:null,echartLoaded:!1,lanArry:["ar","zh_TW","zh","cs","da_DK","nl_NL","en","et_EE","fr","de","el","he_IL","hu_HU","id_ID","it","ja","ko","ms_MY","no","fa","pl","pt","ro","ru","sk_SK","es","sv","th","tr","vi"],coSymbolAll:null,isMobile:window.isMobile,disabled_features_arr:["header_symbol_search","timeframes_toolbar","header_saveload","header_resolutions","header_compare","header_screenshot","header_undo_redo","adaptive_logo","header_fullscreen_button","timezone_menu","scales_context_menu","legend_context_menu","symbol_search_hot_key"],beginTime:null,lastTime:0,newDateflag:2,timer:null,getReqNumber:0,setTimeoutear:null,getMinutes:null}},props:{contractId:{type:Number,default:1},tableType:{type:Number,default:1},contractName:{type:String,default:""},acriveContract:{type:Object,default:function(){return{}}}},computed:{pricefix:function(){return this.acriveContract&&this.acriveContract.priceFix||8},klineLogo:function(){return n["u"].tradingViewLogo||""},templateLayoutType:function(){return this.$store.state.baseData.templateLayoutType},baseTimeArry:function(){return["1min"]},timeArry:function(){var t=[];return this.baseTimeArry.length&&this.baseTimeArry.forEach((function(e){var i=[];e.indexOf("min")>-1?i.push(e,parseFloat(e)):e.toLowerCase().indexOf("h")>-1&&e.indexOf("month")<0?i.push(e,60*parseFloat(e)):e.indexOf("day")>-1?i.push(e,24*parseFloat(e)*60):e.indexOf("week")>-1?i.push(e,7*parseFloat(e)*24*60):e.indexOf("month")>-1&&i.push(e,30*parseFloat(e)*24*60),t.push(i)})),t},symbolAll:function(){return this.$store.state.baseData.symbolAll},themeTV:function(){var t=Object(n["n"])("cusSkin")||Object(n["n"])("defSkin")||"1",e="1"===t.toString()?"Dark":"Light";return e}},watch:{contractName:function(t){var e=this;t&&(this.getReqNumber=0,this.beginTime=null,1===this.chartType&&(this.isshowLoading=!0),window.tvWidget&&window.tvWidget.setSymbol(t,this.getTimeMin(!0,this.lastTimeS),(function(){e.widget.chart().executeActionById("chartReset")})))},tableType:function(t,e){var i=this;t&&e&&t>2&&(this.getReqNumber=0,1===this.chartType&&(this.isshowLoading=!0),"Line"===this.lastTimeS&&(this.lastTimeS="1min"),window.tvWidget&&(this.widget.setLanguage(this.language),setTimeout((function(){i.creatMA()}),1e3)))}},methods:{init:function(){var t=this;document.removeEventListener("fullscreenchange",this.quitfullTv),document.addEventListener("fullscreenchange",this.quitfullTv),this.lanArry.indexOf(this.language)<=-1&&(this.language="en"),"el_GR"===Object(n["n"])("lan")&&(this.language="zh_TW"),n["w"].get("lastTimeS")||(n["w"].set("lastTimeS","1day"),this.lastTimeS="1day"),this.isCreateWidget=!1,this.initTradingView(),this.$bus.$on("HIDE_LOADING",(function(){t.isshowLoading=!1}))},udf_datafeed:function(){var t=this;return{onReady:function(e){var i={supported_resolutions:t.getTimeMin(!1,1),supports_group_request:!1,supports_marks:!0,supports_search:!1,supports_timescale_marks:!1};setTimeout((function(){e(i)}),0)},resolveSymbol:function(e,i){setTimeout((function(){i({name:e,"exchange-traded":"","exchange-listed":"",minmov:1,minmov2:0,pointvalue:1,session:"0000-2400:1234567",has_intraday:!0,has_no_volume:!1,volume_precision:1,description:e.toUpperCase(),type:"bitcoin",supported_resolutions:t.getTimeMin(!1,1),pricescale:t.fixDepthNumber(),ticker:e.toUpperCase(),timezone:window.jstz.determine().name()})}),0)},calculateHistoryDepth:function(){},getBars:function(e,i,a,s,n){t.getReqNumber+=1,t.getDatas(!0,n)},subscribeBars:function(e,i,a){t.intgGetDatas(a)},unsubscribeBars:function(e){var i=e.split("_"),a="".concat(i[0],"_").concat(i[1]);t.$bus.$emit("WEBSOCKET_KLINE_SEND",{type:"unsub",symbol:a.toLowerCase(),lastTimeS:t.getTimeMin(!0,parseFloat(i[2]))})}}},initTradingView:function(){var t=function(t){Object(h["a"])(i,t);var e=p(i);function i(){return Object(u["a"])(this,i),e.apply(this,arguments)}return Object(l["a"])(i)}(window.TradingView.widget);this.contractName&&(window.tvWidget=new t({debug:!1,autosize:!0,timezone:window.jstz.determine().name(),symbol:this.contractName,interval:this.getTimeMin(!0,this.lastTimeS),container_id:"tv_chart_container",datafeed:this.udf_datafeed(),library_path:"/static/charting_library/",locale:this.language,disabled_features:this.disabled_features_arr,enabled_features:["hide_left_toolbar_by_default"],charts_storage_url:"".concat(window.location.protocol,"//saveload.tradingview.com"),charts_storage_api_version:"1.1",client_id:"tradingview.com",user_id:"public_user",theme:this.themeTV,studies_overrides:{"volume.volume.color.0":Object(n["q"])(n["c"]["u-4-bg"]),"volume.volume.color.1":Object(n["q"])(n["c"]["u-1-bg"]),"volume.volume.transparency":50},overrides:{volumePaneSize:"small","scalesProperties.fontSize":12,"scalesProperties.textColor":Object(n["q"])(n["c"]["b-3-cl"]),"scalesProperties.lineColor":Object(n["q"])(n["c"]["a-3-bd"]),"paneProperties.background":"rgba(0,0,0,0)","paneProperties.vertGridProperties.color":"#fff","paneProperties.horzGridProperties.color":"#fff","paneProperties.crossHairProperties.color":Object(n["q"])(n["c"]["b-2-bg"]),"paneProperties.legendProperties.showLegend":!0,"mainSeriesProperties.candleStyle.upColor":Object(n["q"])(n["c"]["u-1-cl"]),"mainSeriesProperties.candleStyle.downColor":Object(n["q"])(n["c"]["u-4-cl"]),"mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":"","mainSeriesProperties.candleStyle.borderUpColor":Object(n["q"])(n["c"]["u-1-cl"]),"mainSeriesProperties.candleStyle.borderDownColor":Object(n["q"])(n["c"]["u-4-cl"]),"mainSeriesProperties.candleStyle.wickUpColor":Object(n["q"])(n["c"]["u-1-cl"]),"mainSeriesProperties.candleStyle.wickDownColor":Object(n["q"])(n["c"]["u-4-cl"]),"mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.areaStyle.color1":n["c"]["a-15-bg"],"mainSeriesProperties.areaStyle.color2":n["c"]["a-17-bg"],"mainSeriesProperties.areaStyle.linecolor":Object(n["q"])(n["c"]["a-12-bd"]),"mainSeriesProperties.areaStyle.linestyle":0,"mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"}}),this.widget=window.tvWidget)},getTimeMin:function(t,e){if(t){var i=null;return this.timeArry.length&&this.timeArry.forEach((function(t){var a=t.indexOf(e);a>-1&&(i=0===a?t[1]:t[0])})),i}var a=[];return this.timeArry.forEach((function(t){a.push(t[e])})),a},fixDepthNumber:function(){var t=Math.pow(10,this.pricefix);return parseFloat(t.toString())},widget_onChartReady:function(){var t=this;this.isCreateWidget=!0,this.creatMA();var e=document.createElement("style"),i=document.createTextNode(".apply-common-tooltip,.wrap-1GG7GnNO- svg{fill:"+n["c"]["b-3-cl"]+"!important;color:"+n["c"]["b-3-cl"]+"!important;cursor: pointer;}.textColor .wrap-18oKCBRc- div,.wrap-18oKCBRc- .apply-common-tooltip:hover,.wrap-1GG7GnNO- svg:hover,.button-263WXsg--.isActive-2mI1-NUL- .icon-1Y-3MM9F-,.button-263WXsg-- .icon-1Y-3MM9F-,.button-263WXsg-- .icon-1Y-3MM9F-:hover{fill:"+n["c"]["a-1-cl"]+"!important;color:"+n["c"]["a-1-cl"]+"!important;}.container-3_8ayT2Q- .background-Q1Fcmxly-{fill: "+n["c"]["b-2-cl"]+"; stroke: "+n["c"]["b-2-cl"]+";}.container-3_8ayT2Q- .arrow-WcYWFXUn-, html.theme-dark .container-3_8ayT2Q- .arrow-WcYWFXUn-{stroke: "+n["c"]["b-1-cl"]+";}.feature-no-touch .container-3_8ayT2Q-:hover .background-Q1Fcmxly-{fill: "+n["c"]["a-1-cl"]+";stroke: "+n["c"]["a-1-cl"]+";}");e.append(i),this.widget.headerReady().then((function(){t.widget.createButton().append(e)}))},creatMA:function(){this.widget.chart().createStudy("Moving Average",!1,!1,[5],null,{"plot.color":"#F5CB89"}),this.widget.chart().createStudy("Moving Average",!1,!1,[10],null,{"plot.color":"#5FCFBF"}),this.widget.chart().createStudy("Moving Average",!1,!1,[30],null,{"plot.color":"#DD89F5"})},setMAShow:function(){var t=this.widget.chart().getAllStudies();this.widget.chart().setEntityVisibility(t[0].id,!0),this.widget.chart().setEntityVisibility(t[1].id,!0),this.widget.chart().setEntityVisibility(t[2].id,!0)},setMAHide:function(){var t=this.widget.chart().getAllStudies();this.widget.chart().setEntityVisibility(t[0].id,!1),this.widget.chart().setEntityVisibility(t[1].id,!1),this.widget.chart().setEntityVisibility(t[2].id,!1)},timeClike:function(t){var e=this;if("Line"!==t&&"1min"!==t&&t!==this.lastTimeS&&(this.isshowLoading=!0),t!==this.lastTimeS&&(this.lastTimeS=t,"Line"===t?n["w"].set("lastTimeS","1min"):n["w"].set("lastTimeS",t),this.$bus.$emit("LAST-TIMES",t),this.isCreateWidget)){var i=this.widget.chart().resolution();if("Line"===t)"1"!==i?this.widget.chart().setResolution("1",(function(){e.widget.chart().setChartType(3)})):"1"===i&&this.widget.chart().setChartType(3),this.setMAHide();else{if("1"===i&&"1min"===t)this.widget.chart().setChartType(1);else{var a=this.getTimeMin(!0,t);this.widget.chart().setResolution(a.toString(),(function(){e.widget.chart().setChartType(1),e.widget.chart().executeActionById("chartReset")}))}this.setMAShow()}}},setData:function(t){return{time:new Date(t.mtime).getTime(),close:t.close,open:t.open,high:t.high,low:t.low}},setChartType:function(t){this.chartType=t},switchChartType:function(t){var e=this;2===t?window.echarts||this.loadingEchart?this.setChartType(t):(this.loadingEchart=!0,Object(n["s"])("".concat("/","static/js/echarts.min.js")).then((function(){e.loadingEchart=!1,e.isshowLoading=!1,e.echartLoaded=!0,e.setChartType(t)}))):this.setChartType(t)},quit:function(t){if(this.isfullTv=!1,this.isfullTv){var e=t.keyCode;27===e&&(this.isfullTv=!1)}},fullTv:function(){if(this.isfullTv)this.isfullTv=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{this.isfullTv=!0;var t=this.$refs.tv_chart_container;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},quitfullTv:function(){this.isfullTv&&(this.isfullTv=window.fullScreen||document.webkitIsFullScreen||document.msFullscreenElement)},getDatas:function(t,e){var i=this,a=e,s=this.$store.state.url.futures.indexPriceKline;if(4===this.tableType&&(s=this.$store.state.url.futures.tagPriceKline),this.contractId&&a){var n={contractId:this.contractId};t&&(this.isshowLoading=!1,n.beginTime=this.beginTime||(new Date).getTime()),(1===this.getReqNumber&&t||!t)&&this.axios({url:s,hostType:"co",params:n}).then((function(s){var n=s.data,r=s.code;if("0"===r)if(i.newDateflag=0,i.kLinwReqData=[],n.records&&n.records.length){i.kLinwReqData=n.records;var o=[],c=[];i.kLinwReqData.forEach((function(e){var a=i.setData(e);(a.time>i.lastTime&&!t||t)&&o.push(a)})),o.length&&(c=o.reverse(),i.beginTime=c[0].time,i.lastTime=c[c.length-1].time,t?(a(c),i.isCreateWidget||(i.widget_onChartReady(),i.widget.chart().setChartType(1)),i.getReqNumber>0?(clearTimeout(i.setTimeoutear),i.setTimeoutear=null,i.setTimeoutear=setTimeout((function(){i.newDateflag=2,i.getReqNumber-=1,i.getDatas(t,e)}),100)):(clearTimeout(i.setTimeoutear),i.setTimeoutear=null)):a(c[0]),a=null,i.isshowLoading=!1)}else t&&(a([],{noData:!0}),a=null);else t&&(a([],{noData:!0}),a=null)}))}},intgGetDatas:function(t){var e=this;clearInterval(this.timer),this.timer=null,this.getDatas(!1,t),this.getMinutes=(new Date).getMinutes(),this.timer=setInterval((function(){e.getMinutes!==(new Date).getMinutes()&&(e.getDatas(!1,t),e.getMinutes=(new Date).getMinutes())}),1e3)}}},g=(i("167f"),{mixins:[b],mounted:function(){this.init()}}),y=g,v=i("2877"),T=Object(v["a"])(y,o,c,!1,null,null,null),w=T.exports,_={mixins:[r],components:{echartsKline:w},mounted:function(){this.init()}},L=_,C=Object(v["a"])(L,a,s,!1,null,null,null);e["default"]=C.exports},cd28:function(t,e,i){}}]);