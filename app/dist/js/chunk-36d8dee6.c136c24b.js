(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36d8dee6"],{"0d94":function(t,e,a){},3574:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"free-staking"},[a("China")],1)},s=[],n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.pageData?a("div",{staticClass:"pos-history c-4-bg"},[a("div",{staticClass:"pos-history-title f-1-cl"},[t._v(t._s(t.pageData.tipMine))]),a("div",{staticClass:"nav-tab c-5-bd"},[a("c-navTab",{staticClass:"c-5-bd",attrs:{minWidth:"90px",activeClassName:"f-1-cl",activeColor:"c-8-bg",currentTab:t.currentType,navTab:t.navTabList,lineHeight:"55"},on:{currentType:t.selectType}}),a("div",{staticClass:"clearfix"})],1),a("div",{staticClass:"date-select-cont"},[t.startTime?a("c-calendar",{staticClass:"date-selecter",attrs:{width:"120px",name:"start-time",value:t.startTime,futureDayHide:t.endTimeNum,promptText:t.startTimeText,inputLineStyle:"c-1-bd",showDateInfo:!0,dateInfoTilteClass:"f-8-cl"},on:{onChanges:t.setStartTime}}):t._e(),t.endTime?a("c-calendar",{staticClass:"date-selecter",attrs:{width:"120px",name:"end-time",value:t.endTime,agoDayHide:t.startTimeNum,promptText:t.endTimeText,inputLineStyle:"c-1-bd",showDateInfo:!0,dateInfoTilteClass:"f-8-cl"},on:{onChanges:t.setEndTime}}):t._e(),a("div",{staticClass:"clearfix"})],1),a("div",{staticClass:"date-table-cont"},[a("c-table",{staticClass:"c-4-bg",attrs:{imgMap:t.imgMap,colorMap:t.colorMap,loading:t.loading,columns:t.columns,dataList:t.posData,subColumns:t.subColumns,subContent:t.subTableData,subContentId:t.subTableDataId,subClass:"c-5-bg"},on:{elementClick:t.tableClick}}),t.paginationData.total>t.paginationData.display?a("c-pagination",{staticClass:"c-4-bg",attrs:{total:t.paginationData.total,display:t.paginationData.display,currentPage:t.paginationData.currentPage},on:{pagechange:t.pagechange}}):t._e()],1)]):t._e()},o=[],r=(a("6d67"),a("2caf"),a("a481"),a("6b54"),a("87b3"),a("95d5")),c={data:function(){return{colorMap:r["c"],imgMap:r["u"],currentType:0,startTime:"",endTime:"",posData:[],paginationData:{total:100,display:10,currentPage:1},subTableData:null,subTableDataId:null,subPosData:[],loading:!1,pageData:{}}},computed:{startTimeNum:function(){return(new Date(this.startTime.replace(/-/g,"/")).getTime()/1e3).toString()},endTimeNum:function(){return(new Date(this.endTime.replace(/-/g,"/")).getTime()/1e3).toString()},columns:function(){var t=[{title:this.$t("freeStaking.myPos.lockPosTable[0]"),width:"10%"},{title:this.$t("manageFinances.startTime"),width:"20%"},{title:this.$t("freeStaking.myPos.lockPosTable[2]"),width:"15%"},{title:this.$t("freeStaking.myPos.lockPosTable[3]"),width:"20%"},{title:this.$t("freeStaking.myPos.lockPosTable[4]"),width:"20%"},{title:this.pageData.tipStatus,width:"15%"}],e=[{title:this.$t("freeStaking.myPos.unLockPosTable[0]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[1]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[2]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[3]"),width:"20%"},{title:this.$t("freeStaking.myPos.unLockPosTable[4]"),width:"20%"}];return this.currentType?e:t},subColumns:function(){var t=[{text:this.$t("freeStaking.detail.incomeTime"),class:"table-custom-class"},{text:this.$t("freeStaking.detail.incomeNum"),class:"table-custom-class"}];return this.currentType?[]:t},navTabList:function(){return[{name:this.pageData.tipLock,index:0},{name:this.pageData.tipNormal,index:1}]},startTimeText:function(){return this.$t("broker.startTime")},endTimeText:function(){return this.$t("freeStaking.myPos.endTime")}},methods:{init:function(){this.startTime=this.getNowTime(this.getMonth(-3)),this.endTime=this.getNowTime(this.getMonth(3)),this.getUserPosData(this.currentType)},getMonth:function(t){var e=new Date;return e.setMonth(e.getMonth()+t)},getUserPosData:function(t){var e=this,a=this.paginationData,i=a.currentPage,s=a.display;this.loading=!0,this.axios({url:this.$store.state.url.freeStaking.pos_history,headers:{},params:{page:i,pageSize:s,projectType:t?1:3,strTime:this.startTime,entTime:this.endTime},method:"post"}).then((function(a){if("0"===a.code&&t===e.currentType){var i=a.data,s=i.count,n=i.posList;e.pageData=a.data,e.paginationData.total=s,e.posData=e.initPosData(n),e.loading=!1}}))},reducePost:function(){var t=this;this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.getUserPosData(t.currentType)}),500)},initPosData:function(t){var e=this;if(!Array.isArray(t))return!1;var a=[],i=t.map((function(t,i){var s=[t.baseCoin,t.ltime,t.totalAmount,"".concat(t.gainRate,"%"),[{text:t.totalUserGainAmount},{type:"subTable"}],e.countStatusText(t.projectStatus)],n=[t.baseCoin,t.revenueTime,t.baseAmount,t.gainRate,t.gainAmount],o=!e.currentType&&Array.isArray(t.userGainList)?t.userGainList:[],r=o.map((function(t){return[{text:t.gainTime,class:"table-custom-class"},{text:t.gainAmount,class:"table-custom-class"}]}));return a.push(r),{id:i,data:e.currentType?n:s}}));return this.subPosData=a,i},getNowTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=new Date(t),a=e.getFullYear(),i=e.getMonth()+1,s=e.getDate();return"".concat(a,"-").concat(i,"-").concat(s)},selectType:function(t){this.loading||(this.currentType=t.index,this.subTableDataId=null,this.getUserPosData(this.currentType))},setStartTime:function(t){this.startTime=t,this.reducePost()},setEndTime:function(t){this.endTime=t,this.reducePost()},countStatusText:function(t){var e={0:this.$t("freeStaking.home.status[0]"),1:this.$t("freeStaking.home.status[1]"),2:this.$t("freeStaking.home.status[2]"),3:this.$t("freeStaking.home.status[3]"),4:this.$t("freeStaking.home.status[4]"),5:this.$t("freeStaking.home.status[5]"),6:this.$t("freeStaking.home.status[6]")};return e[t]},pagechange:function(t){this.loading||(this.paginationData.currentPage=t,this.subTableDataId=null,this.getUserPosData(this.currentType))},tableClick:function(t,e){this.currentType||(this.subTableData=this.subPosData[e.id],this.subTableDataId=e.id)}}},u=(a("0d94"),{mixins:[c],mounted:function(){this.init()}}),l=u,h=a("2877"),m=Object(h["a"])(l,n,o,!1,null,null,null),d=m.exports,g={components:{China:d}},T=g,p=Object(h["a"])(T,i,s,!1,null,"73b0cfd4",null);e["default"]=p.exports}}]);