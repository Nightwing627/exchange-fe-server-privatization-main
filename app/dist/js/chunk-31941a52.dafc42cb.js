(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-31941a52"],{"00b6":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-dialog",{attrs:{paddingBottom:"14px",showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.lanText.titleText,confirmText:t.lanText.confirmText},on:{close:t.close,confirm:t.submit}},[i("div",{staticClass:"openFutures-box"},[i("div",{staticClass:"text"},[i("vue-scroll",[i("p",[t._v(t._s(t.lanText.text1))]),i("p",[t._v(t._s(t.lanText.text2))]),i("p",[t._v(t._s(t.lanText.text3))]),i("p",[t._v(t._s(t.lanText.text4))]),i("p",[t._v(t._s(t.lanText.text5))]),i("p",[t._v(t._s(t.lanText.text6))]),i("p",[t._v(t._s(t.lanText.text7))])])],1)])])},a=[],n=(i("6b54"),i("87b3"),{name:"openFuture",data:function(){return{dialogConfirmLoading:!1,dialogConfirmDisabled:!1}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function}},computed:{lanText:function(){return{titleText:this.$t("futures.openFutures.titleText"),confirmText:this.$t("futures.openFutures.confirmText"),text1:this.$t("futures.openFutures.text1"),text2:this.$t("futures.openFutures.text2"),text3:this.$t("futures.openFutures.text3"),text4:this.$t("futures.openFutures.text4"),text5:this.$t("futures.openFutures.text5"),text6:this.$t("futures.openFutures.text6"),text7:this.$t("futures.openFutures.text7")}},userInfo:function(){return this.$store.state.baseData.userInfo}},watch:{},methods:{init:function(){},selectCategory:function(t){this.currentCategory=t},submit:function(){var t=this,e=this.userInfo,i=e.mobileNumber,s=e.email,a=e.id;this.dialogConfirmLoading=!0,this.axios({url:this.$store.state.url.futures.createCoId,hostType:"co",method:"post",params:{mobileNumber:i,email:s,uid:a}}).then((function(e){var i=e.code,s=e.msg;"0"===i.toString()?(t.$store.dispatch("getUserConfig"),t.close(),t.$bus.$emit("tip",{text:s,type:"success"})):t.$bus.$emit("tip",{text:s,type:"error"}),t.dialogConfirmLoading=!1}))}}}),r=(i("e493"),{mixins:[n],mounted:function(){this.init()}}),o=r,c=i("2877"),u=Object(c["a"])(o,s,a,!1,null,null,null);e["a"]=u.exports},"05d3":function(t,e,i){},"0681":function(t,e,i){},"092b":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contract-trade-container"},[i("currentSymbol"),i("div",{staticClass:"content-box",on:{click:t.onclickfun}},[i("div",{staticClass:"left"},[i("market",{attrs:{isShow:""}})],1),i("div",{staticClass:"center"},[i("div",{staticClass:"center-top"},[i("trading-view",{attrs:{moduleType:"co"}})],1),i("div",{staticClass:"center-bottom"},[i("trade-form")],1)]),i("div",{staticClass:"right"},[i("Depth")],1)]),i("div",{staticClass:"content-bottom"},[i("orderList")],1),i("openFutures",{attrs:{isShow:t.openFuturesDialogShow,close:t.closeDialog}}),i("setFutures",{attrs:{isShow:t.setFuturesDialogShow,close:t.closeDialog}}),i("calculator",{attrs:{isShow:t.calculatorDialogShow,close:t.closeDialog}})],1)},a=[],n=(i("a55d"),i("57e7"),i("cb39")),r=null;function o(){return r||(r=new Worker("/static/web-worker/".concat(n["a"].futureWebsocket,"?fileMap=").concat(JSON.stringify(n["a"])))),r}n["a"].baseUrl="/";var c=o,u={name:"trade",data:function(){return{marketData:null,MywebSocket:null,depthValue:0,coverKlineBox:null,openFuturesDialogShow:!1,setFuturesDialogShow:!1,calculatorDialogShow:!1,getPositionTimer:null,subOtderTypeShow:null}},computed:{worker:function(){return c()},isLogin:function(){return this.$store.state.baseData.isLogin},wsUrl:function(){return this.$store.state.future.wsUrl||null},userConfig:function(){return this.$store.state.future.futureUserConfig},contractSymbolList:function(){return this.$store.state.future.contractSymbolList},openContract:function(){return this.$store.state.future.openContract},symbolCurrent:function(){return this.$store.state.future.coTypeSymbol},contractName:function(){return this.$store.state.future.contractName||""}},watch:{wsUrl:function(t,e){t&&!e&&this.worker.postMessage({type:"CREAT_WEBSOCKET",data:{wsUrl:t,lan:this.$store.state.baseData.lan,rate:"",symbolAll:{}}})},openContract:function(t){t||(this.openFuturesDialogShow=!0)},contractName:function(t){t&&(this.$router.push("/trade/".concat(t)),this.$bus.$emit("SYMBOL_CURRENT",t))},symbolCurrent:function(t,e){e&&this.MywebSocket&&(this.webSocketSend("Trade","unsub",e),this.webSocketSend("Trade","req",t),this.webSocketSend("Trade","sub",t),this.webSocketSend("Depth","unsub",e,this.depthValue),this.webSocketSend("Depth","sub",t,this.depthValue))},MywebSocket:function(t){t&&(this.webSocketSend("Review"),this.webSocketSend("Market","sub",this.symbolCurrent,this.contractSymbolList),this.webSocketSend("Depth","sub",this.symbolCurrent,this.depthValue),this.webSocketSend("Trade","req",this.symbolCurrent),this.webSocketSend("Trade","sub",this.symbolCurrent))},depthValue:function(t,e){e&&this.webSocketSend("Depth","unsub",this.symbolCurrent,e),this.webSocketSend("Depth","sub",this.symbolCurrent,t)}},methods:{init:function(){var t=this;this.intervalGetData(),this.worker.onmessage=function(e){var i=e.data;"WEBSOCKET_ON_OPEN"===i.type&&(t.MywebSocket=null,t.MywebSocket=i.data.type,t.$bus.$emit("WEBSOCKET_ON_OPEN",t.MywebSocket)),"WEBSOCKET_DATA"===i.type&&t.listenWSData(i.data)},this.listenBusEvent()},listenBusEvent:function(){var t=this;this.wsUrl&&this.worker.postMessage({type:"CREAT_WEBSOCKET",data:{wsUrl:this.wsUrl,lan:this.$store.state.baseData.lan,rate:"",symbolAll:{}}}),this.$bus.$on("OPEN_FUTURE",(function(){t.openFuturesDialogShow=!0})),this.$bus.$on("SET_FUTURE_CONFIG",(function(){t.isLogin&&t.openContract&&t.$store.dispatch("getUserConfig"),t.setFuturesDialogShow=!0})),this.$bus.$on("OPEN_CALCULATOR_DIALOG",(function(){t.calculatorDialogShow=!0})),this.$bus.$on("DEPTH_VALUE",(function(e){t.depthValue=e})),this.$bus.$on("WEBSOCKET_KLINE_SEND",(function(e){t.worker.postMessage({type:"WEBSOCKET_KLINE_SEND",data:e})}))},listenWSData:function(t){var e=t.type,i=t.WsData;this.$bus.$emit(e,i)},webSocketSend:function(t,e,i,s){this.worker.postMessage({type:"WEBSOCKET_SEND",data:{type:t,sendType:e,symbolData:i,symbolList:s,depthValue:0}})},ondblclick:function(){return!1},onclickfun:function(t){"coverKlineBox"===t.target.className&&(this.coverKlineBox=t.target),"coverKlineBox"===t.target.className?this.coverKlineBox.style.display="none":this.coverKlineBox&&(this.coverKlineBox.style.display="block",this.coverKlineBox=null),t.target&&t.target.className&&t.target.className.indexOf&&t.target.className.indexOf("ac-type")>-1?this.subOtderTypeShow=t.target.nextElementSibling:this.subOtderTypeShow&&(this.subOtderTypeShow.style.display="none",this.subOtderTypeShow=null)},closeDialog:function(){this.openFuturesDialogShow=!1,this.setFuturesDialogShow=!1,this.calculatorDialogShow=!1},intervalGetData:function(){var t=this;clearInterval(this.getPositionTimer),this.getPositionTimer=setInterval((function(){t.isLogin&&t.openContract?(t.$store.dispatch("getPositionList"),t.$store.dispatch("getUserOrderCount")):(clearInterval(t.getPositionTimer),t.getPositionTimer=null)}),5e3)}},destroyed:function(){this.$bus.$off("OPEN_FUTURE"),this.$bus.$off("SET_FUTURE_CONFIG"),this.$bus.$off("OPEN_CALCULATOR_DIALOG"),this.$bus.$off("DEPTH_VALUE"),this.$bus.$off("WEBSOCKET_KLINE_SEND"),clearInterval(this.getPositionTimer),this.getPositionTimer=null}},l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"currentSymbol"},[i("div",{staticClass:"operations-btn"},[i("div",{staticClass:"symbol-total",on:{click:function(e){return e.stopPropagation(),t.showMarket.apply(null,arguments)}}},[i("i",{staticClass:"hoverHide",class:{"b-4-cl":t.isShowMarket}},[t._v("\n        "+t._s(t.activeContractName)+"\n        ")]),i("i",{staticClass:"hoverShow"},[t._v(" "+t._s(t.activeContractName)+"\n        ")])]),i("div",{staticClass:"info-item activePrice-item"},[i("span",{staticClass:"tit activePrice",class:t.activePriceClass},[t._v("\n        "+t._s(t.thousandsComma(t.activeWsData.close))+"\n        "),i("i",{staticClass:"rose",class:t.activeWsData.roseClass},[t._v("\n          "+t._s(t.activeWsData.rose)+"%\n        ")])])])]),i("div",{staticClass:"symbol-info"},[i("div",{staticClass:"info-item"},[i("span",{staticClass:"tit explain"},[t._v(" "+t._s(t.$t("futures.currentSymbol.title1"))+" ")]),i("span",{staticClass:"vla b-1-cl"},[t._v(" "+t._s(t.thousandsComma(t.publicMarkertInfo.tagPrice))+" ")]),i("div",{staticClass:"explain-text a-5-bg a-3-bd b-1-cl"},[i("i",{staticClass:"triangle a-5-bg a-3-bd"}),i("p",{domProps:{innerHTML:t._s(t.lantext.explain1)}})])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"tit explain"},[t._v(" "+t._s(t.$t("futures.currentSymbol.title2"))+"  ")]),i("span",{staticClass:"vla b-1-cl"},[t._v(" "+t._s(t.thousandsComma(t.publicMarkertInfo.indexPrice))+" ")]),i("div",{staticClass:"explain-text a-5-bg a-3-bd b-1-cl"},[i("i",{staticClass:"triangle a-5-bg a-3-bd"}),i("p",[t._v("\n          "+t._s(t.$t("futures.currentSymbol.explain2"))+"\n        ")])])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"tit explain"},[t._v("\n        "+t._s(t.$t("futures.currentSymbol.title3"))+"/"+t._s(t.capitalFrequency)+"H\n      ")]),i("span",{staticClass:"vla b-1-cl"},[t._v(" "+t._s(t.publicMarkertInfo.currentFundRate)+"% /\n        "+t._s(t.countDownTime)+" ")]),i("div",{staticClass:"explain-text a-5-bg a-3-bd b-1-cl"},[i("i",{staticClass:"triangle a-5-bg a-3-bd"}),i("p",[t._v("\n          "+t._s(t.activeTimer)+t._s(t.$t("futures.currentSymbol.explain3"))+"\n        ")]),i("p",{domProps:{innerHTML:t._s(t.lantext.explain4)}})])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"tit explain"},[t._v(t._s(t.$t("futures.currentSymbol.title4"))+" ")]),i("span",{staticClass:"vla b-1-cl"},[t._v(" "+t._s(t.publicMarkertInfo.nextFundRate)+"%")]),i("div",{staticClass:"explain-text a-5-bg a-3-bd b-1-cl"},[i("i",{staticClass:"triangle a-5-bg a-3-bd"}),i("p",[t._v("\n          "+t._s(t.nextTimer)+t._s(t.$t("futures.currentSymbol.explain5"))+"\n        ")]),i("p",[t._v("\n          "+t._s(t.$t("futures.currentSymbol.explain6"))+"\n        ")])])]),i("div",{staticClass:"info-item"},[i("span",{staticClass:"tit"},[t._v(t._s(t.$t("futures.currentSymbol.title5")))]),i("span",{staticClass:"vla b-1-cl"},[t._v(" "+t._s(t.thousandsComma(t.activeWsData.vol))+" "+t._s(t.coUnit)+"  ")])])]),t.isShowMarket?i("div",{staticClass:"market-shade u-7-bg",on:{click:t.onClickOutside}}):t._e()])},h=[],f=i("785b"),d=(i("6b54"),i("87b3"),i("4917"),i("c5f6"),i("a481"),i("95d5")),m={name:"currentSymbol",components:{},data:function(){return{WsData:{},isShowMarket:!1,setFuturesIsShow:!1,nextStartTime:null,countDownTime:null,setIntervalTimer:null,activePriceClass:"",timer:null,activeTimer:null,nextTimer:null,contractSide:d["w"].get("futuresMarketCurrent")}},computed:{lantext:function(){return{explain1:this.$t("futures.currentSymbol.explain1"),explain4:this.$t("futures.currentSymbol.explain4")}},isLogin:function(){return this.$store.state.baseData.isLogin},contractInfo:function(){return this.$store.state.future.contractInfo},capitalFrequency:function(){return this.contractInfo?this.contractInfo.capitalFrequency:1},activeContractName:function(){var t="",e="";if(this.contractInfo){var i=this.contractInfo.symbol?this.contractInfo.symbol.replace("-",""):"";"E"!==this.contractInfo.contractType&&(e="-".concat(this.contractInfo.marginCoin)),t="".concat(i).concat(e)}return t},multiplier:function(){return Number(this.$store.state.future.multiplier)},coUnit:function(){return this.$store.state.future.coUnit},coUnitType:function(){return this.$store.state.future.coUnitType},volfix:function(){return this.$store.state.future.volfix},pricefix:function(){return this.$store.state.future.pricefix},contractTypeText:function(){return this.$store.state.future.contractTypeText},userConfig:function(){return this.$store.state.future.futureUserConfig},marginModel:function(){return this.userConfig?1===this.userConfig.marginModel?this.$t("futures.currentSymbol.marginModel1"):this.$t("futures.currentSymbol.marginModel2"):this.$t("futures.currentSymbol.marginModel1")},nowLevel:function(){return this.userConfig&&this.userConfig.nowLevel||"20"},serveTimeDiff:function(){return this.$store.state.future.serveTimeDiff},publicMarkertInfo:function(){var t=this.$store.state.future.publicMarkertInfo;return t?{tagPrice:this.fixPrice(t.tagPrice),nextFundRate:this.fundRate(t.nextFundRate),indexPrice:this.fixPrice(t.indexPrice),currentFundRate:this.fundRate(t.currentFundRate)}:{tagPrice:"--",nextFundRate:"--",currentFundRate:"--",indexPrice:"--"}},activeWsData:function(){var t={close:"--",rose:"--",vol:"--",roseClass:""};if(this.contractInfo&&this.WsData){var e=this.contractInfo.wsDatakey;if(this.WsData[e]){var i=this.WsData[e];this.$bus.$emit("ACTIVE_CONTRACT_PRICE",i.close);var s=i.vol,a="",n="",r=parseFloat(i.rose,0);r>0&&(a="u-1-bg",n="+"),r<0&&(a="u-4-bg",n="-"),0===r&&(a="b-2-bg",n="-"),1===this.coUnitType&&(s=Object(d["f"])(Object(d["x"])(s,this.multiplier),0)),t={close:this.fixPrice(i.close),rose:"".concat(n).concat(this.fixdRose(i.rose)),vol:s,roseClass:a}}}return t},publicInfo:function(){return this.$store.state&&this.$store.state.baseData?this.$store.state.baseData.publicInfo:null},typeTabList:function(){return 1===this.contractSide?this.$t("futures.market.text4"):0===this.contractSide?this.$t("futures.market.text5"):2===this.contractSide?this.$t("futures.market.text6"):this.$t("futures.market.text7")},documentTitle:function(){var t=Object(d["n"])("lan"),e="";if(this.publicInfo){var i=this.publicInfo,s=i.indexHeaderTitle,a=i.seo,n="";if(s)if(t)n=a.title||s[t];else{var r=this.publicInfo.lan.defLan;n=a.title||s[r]}e="".concat(this.activeWsData.close,"-").concat(this.activeContractName," ").concat(this.typeTabList," | ").concat(n)}return e}},watch:{documentTitle:function(t){document.title=t},activeWsData:function(t,e){if(t&&e)if("--"!==t.close||"--"!==e.close){var i=parseFloat(t.close,0),s=parseFloat(e.close,0);i>s?this.activePriceClass="u-1-cl":i<s?this.activePriceClass="u-4-cl":i!==s&&(this.activePriceClass="")}else t!==e&&(this.activePriceClass="");this.$bus.$emit("activeWsData",{close:t.close,class:this.activePriceClass})},contractInfo:function(t){t&&this.setNextStartTime()}},methods:{fixPrice:function(t){return t?Object(d["f"])(t,this.pricefix):"--"},fixVol:function(t){return t?Object(d["f"])(t,this.volfix):"--"},fixdRose:function(t){if(t){var e=Math.abs(1e4*t/100);return"".concat(Number(e.toString().match(/^\d+(?:\.\d{0,2})?/)))}return"00.00"},fundRate:function(t){if(0===t)return t;if(t){var e,i=parseFloat(t,0);i>0&&(e="+"),i<0&&(e="-");var s=Math.abs(1e4*t/100);return"".concat(e).concat(Object(d["f"])(s,5))}return"--"},setNextStartTime:function(){if(this.contractInfo){for(var t=this.contractInfo.capitalStartTime,e=Object(d["e"])(24,this.capitalFrequency),i=(new Date).getTime()+this.serveTimeDiff,s=new Date(i).getHours(),a=new Date(new Date(i).toLocaleDateString()).getTime(),n=0;n<e;n+=1)s>=t&&(t+=this.capitalFrequency);this.activeTimer=t>9?"".concat(t,":00"):"0".concat(t,":00");var r=t+this.capitalFrequency;r>24&&(r-=24),r<9&&(r="0".concat(r)),this.nextTimer="".concat(r,":00"),this.nextStartTime=Object(d["x"])(t,36e5)+a,this.countdown()}},countdown:function(){var t=this;clearInterval(this.setIntervalTimer),this.setIntervalTimer=setInterval((function(){var e=(new Date).getTime()+t.serveTimeDiff,i=t.nextStartTime-e;if(i>0){var s=Math.floor(Object(d["e"])(i,36e5)%24),a=Math.floor(Object(d["e"])(i,6e4)%60),n=Math.floor(Object(d["e"])(i,1e3)%60);s=s<10?"0".concat(s):s,a=a<10?"0".concat(a):a,n=n<10?"0".concat(n):n,t.countDownTime="".concat(s,":").concat(a,":").concat(n)}else t.setNextStartTime()}),1e3)},showDialog:function(t){return this.userConfig&&!this.userConfig.openContract?(this.$bus.$emit("OPEN_FUTURE"),!1):(this.isLogin&&this.$store.dispatch("getUserConfig"),this[t]=!0,!1)},closeDialog:function(){this.isShowMarket=!1,this.setFuturesIsShow=!1,this.leverageDialogShow=!1,this.depositDialogShow=!1},onClickOutside:function(){this.isShowMarket=!1},showMarket:function(){this.isShowMarket=!this.isShowMarket},init:function(){var t=this;clearInterval(this.timer),this.timer=setInterval((function(){t.$store.dispatch("getPublicMarkertInfo")}),5e3),this.$bus.$on("FUTURE_MARKET_DATA",(function(e){t.WsData=JSON.parse(e)})),this.$bus.$on("futuresMarketCurrent",(function(e){t.contractSide=e})),this.setNextStartTime()},thousandsComma:function(t){return t?Object(d["F"])(t):t}},destroyed:function(){this.$bus.$off("FUTURE_MARKET_DATA"),clearInterval(this.timer),this.timer=null}},p=(i("7c5c"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"input-box"},[s("img",{attrs:{src:i("2934"),alt:""}}),s("c-inputFind",{ref:"tradeFind",attrs:{promptText:t.$t("futures.market.text8"),value:t.listfilterVal,name:"trade",className:"search-input spot-search"},on:{onchanges:t.inputchanges}})],1),s("div",{staticClass:"left-content"},[s("ul",{staticClass:"coin-tabs"},t._l(t.coinTabs,(function(e,i){return s("li",{key:i,staticClass:"coin-item",class:{active:t.activeExchange===e.value},on:{click:function(i){return t.handlerChangeTab(e)}}},[t._v("\n        "+t._s(e.label)+"\n      ")])})),0),s("div",{staticClass:"coin-container"},[s("div",{staticClass:"co-market-box a-21-bg"},[s("div",{staticClass:"market-tab"},[s("div",{staticClass:"category-select-box"},[t._l(t.typeTabList,(function(e,i){return[e.isShow?s("span",{key:i,staticClass:"tab",class:e.classes,on:{click:function(i){return t.changeTypeTab(e.id)}}},[s("i",{staticClass:"h"},[t._v(t._s(e.text))])]):t._e()]}))],2)]),s("div",{staticClass:"co-market-symbol b-2-cl"},[s("div",{staticClass:"thead a-3-bd"},[s("span",{staticClass:"td-symbol"},[t._v("\n              "+t._s(t.$t("futures.market.text1"))+"\n            ")]),s("span",{staticClass:"td-price",on:{click:function(e){return t.sorteEvent("close")}}},[t._v("\n              "+t._s(t.$t("futures.market.text2"))+"\n              "),s("div",{staticClass:"sorte",class:{selected:"close"===t.sortName}},["close"===t.sortName&&"down"===t.sortType?s("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-a_17_1"}})]):"close"===t.sortName&&"up"===t.sortType?s("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-a_17_2"}})]):s("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-a_17"}})])])]),s("span",{staticClass:"td-rose",on:{click:function(e){return t.sorteEvent("rose")}}},[t._v("\n              "+t._s(t.$t("futures.market.text3"))+"\n              "),s("div",{staticClass:"sorte",class:{selected:"rose"===t.sortName}},["rose"===t.sortName&&"down"===t.sortType?s("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-a_17_1"}})]):"rose"===t.sortName&&"up"===t.sortType?s("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-a_17_2"}})]):s("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-a_17"}})])])])]),s("div",{staticClass:"tbody"},[s("vue-scroll",[s("div",[t._l(t.marketList,(function(e,i){return[e.type===t.contractSide?s("div",{key:i,staticClass:"tr a-3-bd",class:{"a-4-bg":e.contractName===t.contractName},on:{click:function(i){return t.switchSymbol(e.contractName)}}},[s("div",{staticClass:"bg a-4-bg"}),s("span",{staticClass:"td-symbol"},[t._v(" "+t._s(e.symbol))]),s("span",{staticClass:"td-price"},[t._v("\n                    "+t._s(t.fixPrice(e.close,e.priceFix))+"\n                  ")]),s("span",{staticClass:"td-rose",class:t.roseClasses(e.rose)},[t._v("\n                    "+t._s(t._f("fixdRose")(e.rose))+"%\n                  ")])]):t._e()]}))],2)])],1)])])])])])}),x=[],b=(i("d25f"),i("3b2b"),i("55dd"),i("ac6a"),i("f3e2"),{name:"market",components:{},props:{close:{default:function(){},type:Function},isShow:{default:!1,type:Boolean}},data:function(){return{marketCurrent:null,WsData:{},currentTypeTab:1,contractSide:1,listfilterVal:null,sortName:null,sortType:"",showTypeTabList0:!1,showTypeTabList1:!1,showTypeTabList2:!1,showTypeTabList3:!1}},computed:{isLogin:function(){return this.$store.state.baseData.isLogin},typeTabList:function(){return[{id:1,text:this.$t("futures.market.text4"),isShow:this.showTypeTabList1,classes:1===this.contractSide?"u-8-bg b-1-cl":"a-3-bg b-2-cl"},{id:0,text:this.$t("futures.market.text5"),isShow:this.showTypeTabList0,classes:0===this.contractSide?"u-8-bg b-1-cl":"a-3-bg b-2-cl"},{id:2,text:this.$t("futures.market.text6"),isShow:this.showTypeTabList2,classes:2===this.contractSide?"u-8-bg b-1-cl":"a-3-bg b-2-cl"},{id:3,text:this.$t("futures.market.text7"),isShow:this.showTypeTabList3,classes:3===this.contractSide?"u-8-bg b-1-cl":"a-3-bg b-2-cl"}]},contractList:function(){return this.$store.state.future.contractList},contractName:function(){return this.$store.state.future.contractName},contractInfo:function(){return this.$store.state.future.contractInfo},pricefix:function(){return this.$store.state.future.pricefix},contractTypeText:function(){return this.$store.state.future.contractTypeText},marketList:function(){var t=this,e=[],i="";if(this.contractList&&this.contractList.length&&this.contractList.forEach((function(s){i="E"!==s.contractType?"-".concat(s.marginCoin):"";var a=s.symbol.replace("-","");e.push({type:t.filterType(s),key:s.wsDatakey,symbol:"".concat(a).concat(i),contractName:s.contractName,sort:s.sort,close:t.WsData[s.wsDatakey]?t.WsData[s.wsDatakey].close:"--",rose:t.WsData[s.wsDatakey]?t.WsData[s.wsDatakey].rose:"--",priceFix:s.priceFix})})),this.listfilterVal){var s=new RegExp(this.listfilterVal,"gim");e=e.filter((function(t){return t.symbol.match(s)}))}return"down"===this.sortType&&e.sort((function(e,i){return parseFloat(i[t.sortName])-parseFloat(e[t.sortName])})),"up"===this.sortType&&e.sort((function(e,i){return parseFloat(e[t.sortName])-parseFloat(i[t.sortName])})),this.sortType||e.sort((function(t,e){return parseFloat(t.sort)-parseFloat(e.sort)})),e},userConfig:function(){return this.$store.state.future.futureUserConfig}},watch:{isShow:function(){this.listfilterVal=null},contractInfo:function(t,e){t&&!e&&(this.contractSide=this.filterType(t))}},filters:{fixdRose:function(t){if(t&&"--"!==t){var e="",i=parseFloat(t,0);i>0&&(e="+"),i<0&&(e="-");var s=Math.abs(1e4*t/100);return"".concat(e).concat(Number(s.toString().match(/^\d+(?:\.\d{0,2})?/)))}return t}},methods:{filterType:function(t){return"E"===t.contractType&&1===t.contractSide?(this.showTypeTabList1=!0,1):"E"===t.contractType&&0===t.contractSide?(this.showTypeTabList0=!0,0):"S"===t.contractType?(this.showTypeTabList3=!0,3):(this.showTypeTabList2=!0,2)},fixPrice:function(t,e){return Object(d["f"])(t,e)},changeTypeTab:function(t){this.contractSide=t,this.getReceiveCoupon()},inputchanges:function(t){this.listfilterVal=t},sorteEvent:function(t){var e=this;this.$nextTick((function(){e.sortName?"down"===e.sortType?(e.sortName=t,e.sortType="up"):"up"===e.sortType&&(e.sortName=null,e.sortType=null):(e.sortName=t,e.sortType="down")}))},switchSymbol:function(t){var e;this.contractList&&this.contractList.length&&this.contractList.forEach((function(i){t===i.contractName&&(e=i.id)})),d["w"].set("contractId",e),d["w"].set("contractName",t),d["w"].set("futuresMarketCurrent",this.contractSide),this.$bus.$emit("futuresMarketCurrent",this.contractSide),this.$store.dispatch("setActivePublicInfo"),this.isLogin&&this.$store.dispatch("getUserConfig"),this.close()},roseClasses:function(t){if(t&&"--"!==t){var e=parseFloat(t,0);return 0===e?"":e>0?"u-1-cl":"u-4-cl"}return""},init:function(){var t=this;this.$bus.$on("FUTURE_MARKET_DATA",(function(e){t.WsData=JSON.parse(e)})),this.contractInfo&&(this.contractSide=this.filterType(this.contractInfo)),this.getReceiveCoupon()},getReceiveCoupon:function(){this.isLogin&&this.userConfig&&3===this.contractSide&&1===this.userConfig.openContract&&0===this.userConfig.couponTag&&this.$store.dispatch("getReceiveCoupon")}}}),g=(i("0681"),{mixins:[b],data:function(){return{coinTabs:[{label:this.$t("pageTitle.spot"),value:"spot"},{label:this.$t("pageTitle.futures"),value:"futures"}],activeExchange:"futures"}},mounted:function(){this.init()},computed:{linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}}},methods:{handlerChangeTab:function(t){var e="",i="";e=this.linkurl.exUrl?"".concat(this.linkurl.exUrl,"/").concat(this.$store.state.baseData.lan,"/trade"):"",i=this.linkurl.coUrl?"".concat(this.linkurl.coUrl,"/").concat(this.$store.state.baseData.lan,"/trade"):"",window.location.href="spot"===t.value?e:i}}}),v=g,C=(i("eaae"),i("2877")),_=Object(C["a"])(v,p,x,!1,null,"7d8bbf96",null),T=_.exports,y={mixins:[m],components:{Market:T},directives:{clickOutside:f["directive"]},mounted:function(){this.init()}},$=y,w=(i("b80d"),Object(C["a"])($,l,h,!1,null,"a39ce46c",null)),D=w.exports,S=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-inputFind",{ref:"tradeFind",attrs:{promptText:t.$t("trade.searchSy"),value:t.listfilterVal,name:"trade",className:"search-input spot-search"},on:{onchanges:t.inputchanges}})},L=[],O={mixins:[b]},k=O,A=(i("7c23"),Object(C["a"])(k,S,L,!1,null,null,null)),I=A.exports,M=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"tv_chart_container",staticClass:"future-canter-echart-box a-6-bg",class:{"canter-echart-full":t.isfullTv},style:{height:t.TvBoxHeight}},[i("div",{staticClass:"chart-tab"},[i("tabs",{staticClass:"tabs",attrs:{list:t.chartTabs,tabItemWidth:"133px"},on:{click:t.handlerClickChart},model:{value:t.activeChart,callback:function(e){t.activeChart=e},expression:"activeChart"}}),"price"===t.activeChart?i("timeSelect",{staticClass:"time-select",attrs:{options:t.baseTimeArry},on:{change:t.timeClike},model:{value:t.timeLabel,callback:function(e){t.timeLabel=e},expression:"timeLabel"}}):t._e()],1),i("transition",{attrs:{name:"fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isshowLoading,expression:"isshowLoading"}],staticClass:"loading"},[i("c-loading",{attrs:{size:"50"}})],1)]),t.klineLogo?i("div",{staticClass:"kline-bg"},[i("img",{staticClass:"kline-img",attrs:{src:t.klineLogo,alt:""}})]):t._e(),i("div",{staticClass:"coverKlineBox"}),i("div",{staticClass:"slide",class:{selected:1===t.chartType}},[i("div",{staticClass:"tv_chart_container",attrs:{id:"tv_chart_container"}})]),i("div",{staticClass:"slide",class:{selected:2===t.chartType}},[i("div",{staticClass:"echarts",staticStyle:{height:"100%"}},[i("Echarts",{attrs:{chartType:t.chartType}})],1)])],1)},P=[],F=(i("2397"),i("b0b4")),N=i("d225"),j=i("4e2b"),E=i("308d"),U=i("6bb5"),V=i("768b");i("7f7f"),i("28a5");function B(t){var e=R();return function(){var i,s=Object(U["a"])(t);if(e){var a=Object(U["a"])(this).constructor;i=Reflect.construct(s,arguments,a)}else i=s.apply(this,arguments);return Object(E["a"])(this,i)}}function R(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var W={name:"tradingView",data:function(){return{TvBoxHeight:"697px",theme:"theme_default",chartType:1,MywebSocket:null,lastTimeS:d["w"].get("lastTimeS"),timeLable:d["w"].get("lastTimeS"),language:Object(d["n"])("lan")?Object(d["n"])("lan").split("_")[0]:"",lTime:null,fTime:0,isCreateWidget:!1,isshowLoading:!0,maskBg:!0,chartTypeHove:null,loadingEchart:!1,isfullTv:!1,isfullTvsd:null,echartLoaded:!1,slidePosition:0,maxPosition:0,lanArry:["ar","zh_TW","zh","cs","da_DK","nl_NL","en","et_EE","fr","de","el","he_IL","hu_HU","id_ID","it","ja","ko","ms_MY","no","fa","pl","pt","ro","ru","sk_SK","es","sv","th","tr","vi"],coSymbolAll:null,isMobile:window.isMobile,disabled_features_arr:["header_symbol_search","timeframes_toolbar","volume_force_overlay","header_saveload","header_resolutions","header_compare","header_screenshot","header_undo_redo","adaptive_logo","header_fullscreen_button","timezone_menu","scales_context_menu","legend_context_menu","symbol_search_hot_key"]}},computed:{symbolCurrent:function(){return this.$store.state.future.coTypeSymbol},coUnitType:function(){return this.$store.state.future.coUnitType},multiplier:function(){return Number(this.$store.state.future.multiplier)},pricefix:function(){return this.$store.state.future.pricefix},klineLogo:function(){return d["u"].tradingViewLogo||""},templateLayoutType:function(){return this.$store.state.baseData.templateLayoutType},baseTimeArry:function(){try{return this.$store.state.baseData.market.klineScale}catch(t){return["1min","5min","15min","30min","60min","4h","1day","1week","1month"]}},timeArry:function(){var t=[];return this.baseTimeArry.length&&this.baseTimeArry.forEach((function(e){var i=[];e.indexOf("min")>-1?i.push(e,parseFloat(e)):e.toLowerCase().indexOf("h")>-1&&e.indexOf("month")<0?i.push(e,60*parseFloat(e)):e.indexOf("day")>-1?i.push(e,24*parseFloat(e)*60):e.indexOf("week")>-1?i.push(e,7*parseFloat(e)*24*60):e.indexOf("month")>-1&&i.push(e,30*parseFloat(e)*24*60),t.push(i)})),t},symbolAll:function(){return this.$store.state.baseData.symbolAll},themeTV:function(){var t=Object(d["n"])("cusSkin")||Object(d["n"])("defSkin")||"1";t.toString();return"Light"}},watch:{symbolCurrent:function(t,e){var i=this;if(t&&e&&(1===this.chartType&&(this.isshowLoading=!0),window.tvWidget)){var s=this.symbolCurrent.split("_"),a=s[1];s&&s.length&&"e"!==s[0]&&"s"!==s[0]&&(a="".concat(s[1],"-").concat(s[0])),window.tvWidget.setSymbol(a,this.getTimeMin(!0,this.lastTimeS),(function(){i.widget.chart().executeActionById("chartReset")}))}},coUnitType:function(t,e){var i=this;t&&e&&(1===this.chartType&&(this.isshowLoading=!0),"Line"===this.lastTimeS&&(this.lastTimeS="1min"),window.tvWidget&&(this.widget.setLanguage(this.language),setTimeout((function(){i.creatMA()}),1e3)))}},methods:{init:function(){var t=this;document.removeEventListener("fullscreenchange",this.quitfullTv),document.addEventListener("fullscreenchange",this.quitfullTv),this.lanArry.indexOf(this.language)<=-1&&(this.language="en"),"el_GR"===Object(d["n"])("lan")&&(this.language="zh_TW"),d["w"].get("lastTimeS")||(d["w"].set("lastTimeS","1day"),this.lastTimeS="1day"),this.$bus.$on("WEBSOCKET_ON_OPEN",(function(e){t.MywebSocket=JSON.parse(JSON.stringify(e)),t.MywebSocket&&(t.isCreateWidget=!1,t.initTradingView())})),this.$bus.$on("HIDE_LOADING",(function(){t.isshowLoading=!1}))},enter:function(t){this.chartTypeHove=t},leave:function(){this.chartTypeHove=null},chartTypeShow:function(t){return this.chartType===t||this.chartTypeHove===t},initTradingView:function(){this.createWidget()},udf_datafeed:function(){var t=this;return{onReady:function(e){var i={supported_resolutions:t.getTimeMin(!1,1),supports_group_request:!1,supports_marks:!0,supports_search:!1,supports_timescale_marks:!1};setTimeout((function(){e(i)}),0)},resolveSymbol:function(e,i){setTimeout((function(){i({name:e,"exchange-traded":"","exchange-listed":"",minmov:1,minmov2:0,pointvalue:1,session:"0000-2400:1234567",has_intraday:!0,has_no_volume:!1,volume_precision:1,description:e.toUpperCase(),type:"bitcoin",supported_resolutions:t.getTimeMin(!1,1),pricescale:t.fixDepthNumber(),ticker:e.toUpperCase(),timezone:window.jstz.determine().name()})}),0)},calculateHistoryDepth:function(){},getBars:function(e,i,s,a,n,r,o){o&&(t.lTime=!1);var c="Line"===t.lastTimeS?"1min":t.lastTimeS;t.MywebSocket&&t.$bus.$emit("WEBSOCKET_KLINE_SEND",{type:"req",symbol:t.symbolCurrent,lastTimeS:c,lTime:t.lTime,number:50}),t.$bus.$off("KLINE_DATA_REQ"),t.$bus.$on("KLINE_DATA_REQ",(function(u){var l=JSON.parse(u);t.fTime=0;var h=l.channel.split("_"),f=h[h.length-1],m=l.channel.split("_"),p=Object(V["a"])(m,3),x=p[1],b=p[2],g="".concat(x,"_").concat(b);if(g===t.symbolCurrent&&c===f){var v=l.data,C=[];if(v&&v.length)v.forEach((function(e){C.push(t.setData(e))})),o&&(t.fTime=C[C.length-1].time),t.lTime===v[0].id?(n([],{noData:!0}),Object(d["v"])({host:window.location.host,type:"onHistoryCallback",path:window.location.href,ds:"onHistoryCallback noDate",data:{symbol:t.symbolCurrent},t:(new Date).getTime()})):(t.lTime=v[0].id,n(C));else{if(t.secend<3)return t.udf_datafeed().getBars(e,i,s,a,n,r,o),void(t.secend+=1);t.lTime||Object(d["v"])({host:window.location.host,type:"tradingView",path:window.location.href,ds:"first onHistoryCallback noData",data:u,t:(new Date).getTime()}),n([],{noData:!0})}}})),t.isCreateWidget||(t.widget_onChartReady(),t.widget.chart().setChartType(1))},subscribeBars:function(e,i,s){t.isshowLoading=!1,t.maskBg=!1;var a="Line"===t.lastTimeS?"1min":t.lastTimeS;t.MywebSocket&&t.$bus.$emit("WEBSOCKET_KLINE_SEND",{type:"sub",symbol:t.symbolCurrent,lastTimeS:a}),t.$bus.$off("KLINE_DATA_SUB"),t.$bus.$on("KLINE_DATA_SUB",(function(e){var i=JSON.parse(e),n=i.channel.split("_"),r=n[n.length-1],o=i.channel.split("_"),c=Object(V["a"])(o,3),u=c[1],l=c[2],h="".concat(u,"_").concat(l);if(i.tick&&r===a&&h===t.symbolCurrent){var f=t.setData(i.tick);t.fTime<f.time&&s(f)}}))},unsubscribeBars:function(e){var i=e.split("_"),s="".concat(i[0],"_").concat(i[1]);t.$bus.$emit("WEBSOCKET_KLINE_SEND",{type:"unsub",symbol:s.toLowerCase(),lastTimeS:t.getTimeMin(!0,parseFloat(i[2]))})}}},createWidget:function(){var t=function(t){Object(j["a"])(i,t);var e=B(i);function i(){return Object(N["a"])(this,i),e.apply(this,arguments)}return Object(F["a"])(i)}(window.TradingView.widget);if(this.symbolCurrent){var e=this.symbolCurrent.split("_")[1];window.tvWidget=new t({debug:!1,autosize:!0,timezone:window.jstz.determine().name(),symbol:e,interval:this.getTimeMin(!0,this.lastTimeS),container_id:"tv_chart_container",datafeed:this.udf_datafeed(),library_path:"/static/charting_library/",locale:this.language,disabled_features:this.disabled_features_arr,enabled_features:["hide_left_toolbar_by_default"],charts_storage_url:"".concat(window.location.protocol,"//saveload.tradingview.com"),charts_storage_api_version:"1.1",client_id:"tradingview.com",user_id:"public_user",toolbar_bg:"#fff",theme:this.themeTV,studies_overrides:{"volume.volume.color.0":Object(d["q"])(d["c"]["u-4-bg"]),"volume.volume.color.1":Object(d["q"])(d["c"]["u-1-bg"]),"volume.volume.transparency":50},overrides:{volumePaneSize:"small","scalesProperties.fontSize":12,"scalesProperties.textColor":"#A7B4CB","scalesProperties.lineColor":"#A7B4CB","paneProperties.background":"#fff","paneProperties.vertGridProperties.color":"#fff","paneProperties.horzGridProperties.color":"#fff","paneProperties.crossHairProperties.color":Object(d["q"])(d["c"]["b-2-bg"]),"paneProperties.legendProperties.showLegend":!0,"mainSeriesProperties.candleStyle.upColor":"#52CC8A","mainSeriesProperties.candleStyle.downColor":"#FF4E4E","mainSeriesProperties.candleStyle.drawWick":!0,"mainSeriesProperties.candleStyle.drawBorder":!0,"mainSeriesProperties.candleStyle.borderColor":"","mainSeriesProperties.candleStyle.borderUpColor":"#52CC8A","mainSeriesProperties.candleStyle.borderDownColor":"#FF4E4E","mainSeriesProperties.candleStyle.wickUpColor":"#52CC8A","mainSeriesProperties.candleStyle.wickDownColor":"#FF4E4E","mainSeriesProperties.candleStyle.barColorsOnPrevClose":!1,"mainSeriesProperties.areaStyle.color1":d["c"]["a-15-bg"],"mainSeriesProperties.areaStyle.color2":d["c"]["a-17-bg"],"mainSeriesProperties.areaStyle.linecolor":Object(d["q"])(d["c"]["a-12-bd"]),"mainSeriesProperties.areaStyle.linestyle":0,"mainSeriesProperties.areaStyle.linewidth":2,"mainSeriesProperties.areaStyle.priceSource":"close"}}),this.widget=window.tvWidget}},getTimeMin:function(t,e){if(t){var i=null;return this.timeArry.length&&this.timeArry.forEach((function(t){var s=t.indexOf(e);s>-1&&(i=0===s?t[1]:t[0])})),i}var s=[];return this.timeArry.forEach((function(t){s.push(t[e])})),s},fixDepthNumber:function(){var t=Math.pow(10,this.pricefix);return parseFloat(t.toString())},widget_onChartReady:function(){var t=this;this.isCreateWidget=!0,this.creatMA();var e=document.createElement("style"),i=document.createTextNode(".apply-common-tooltip,.wrap-1GG7GnNO- svg{fill:"+d["c"]["b-3-cl"]+"!important;color:"+d["c"]["b-3-cl"]+"!important;cursor: pointer;}.textColor .wrap-18oKCBRc- div,.wrap-18oKCBRc- .apply-common-tooltip:hover,.wrap-1GG7GnNO- svg:hover,.button-263WXsg--.isActive-2mI1-NUL- .icon-1Y-3MM9F-,.button-263WXsg-- .icon-1Y-3MM9F-,.button-263WXsg-- .icon-1Y-3MM9F-:hover{fill:"+d["c"]["a-1-cl"]+"!important;color:"+d["c"]["a-1-cl"]+"!important;}.container-3_8ayT2Q- .background-Q1Fcmxly-{fill: "+d["c"]["b-2-cl"]+"; stroke: "+d["c"]["b-2-cl"]+";}.container-3_8ayT2Q- .arrow-WcYWFXUn-, html.theme-dark .container-3_8ayT2Q- .arrow-WcYWFXUn-{stroke: "+d["c"]["b-1-cl"]+";}.feature-no-touch .container-3_8ayT2Q-:hover .background-Q1Fcmxly-{fill: "+d["c"]["a-1-cl"]+";stroke: "+d["c"]["a-1-cl"]+";}.wrap-3tiHesTk- {position: absolute; right: 0;height: 66px !important;background: none !important;}.layout__area--top, .overflowWrap-PWdgT-U_-{height: 66px!important;}");e.append(i),this.widget.headerReady().then((function(){t.widget.createButton().append(e)}))},creatMA:function(){this.widget.chart().createStudy("Moving Average",!1,!1,[5],null,{"plot.color":"#F5CB89"}),this.widget.chart().createStudy("Moving Average",!1,!1,[10],null,{"plot.color":"#5FCFBF"}),this.widget.chart().createStudy("Moving Average",!1,!1,[30],null,{"plot.color":"#DD89F5"})},setMAShow:function(){var t=this.widget.chart().getAllStudies();this.widget.chart().setEntityVisibility(t[0].id,!0),this.widget.chart().setEntityVisibility(t[1].id,!0),this.widget.chart().setEntityVisibility(t[2].id,!0)},setMAHide:function(){var t=this.widget.chart().getAllStudies();this.widget.chart().setEntityVisibility(t[0].id,!1),this.widget.chart().setEntityVisibility(t[1].id,!1),this.widget.chart().setEntityVisibility(t[2].id,!1)},timeClike:function(t){var e=this;if("Line"!==t&&"1min"!==t&&t!==this.lastTimeS&&(this.isshowLoading=!0),t!==this.lastTimeS&&(this.lastTimeS=t,"Line"===t?d["w"].set("lastTimeS","1min"):d["w"].set("lastTimeS",t),this.$bus.$emit("LAST-TIMES",t),this.isCreateWidget)){var i=this.widget.chart().resolution();if("Line"===t)"1"!==i?this.widget.chart().setResolution("1",(function(){e.widget.chart().setChartType(3)})):"1"===i&&this.widget.chart().setChartType(3),this.setMAHide();else{if("1"===i&&"1min"===t)this.widget.chart().setChartType(1);else{var s=this.getTimeMin(!0,t);this.widget.chart().setResolution(s.toString(),(function(){e.widget.chart().setChartType(1),e.widget.chart().executeActionById("chartReset")}))}this.setMAShow()}}},setData:function(t){var e=t.vol;return 1===this.coUnitType&&(e=Object(d["x"])(t.vol,this.multiplier)),{time:1e3*t.id,close:t.close,open:t.open,high:t.high,low:t.low,volume:e}},setChartType:function(t){var e=this;this.chartType=t,setTimeout((function(){var t=e.$refs,i=t.topMenuBox,s=void 0===i?null:i,a=t.topMenuBar,n=void 0===a?null:a;e.maxPosition=s.offsetWidth-n.offsetWidth}),500)},switchChartType:function(t){var e=this;2===t?window.echarts||this.loadingEchart?this.setChartType(t):(this.loadingEchart=!0,Object(d["s"])("".concat("/","static/js/echarts.min.js")).then((function(){e.loadingEchart=!1,e.isshowLoading=!1,e.echartLoaded=!0,e.setChartType(t)}))):this.setChartType(t)},quit:function(t){if(this.isfullTv=!1,this.isfullTv){var e=t.keyCode;27===e&&(this.isfullTv=!1)}},fullTv:function(){if(this.isfullTv)this.isfullTv=!1,document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen();else{this.isfullTv=!0;var t=this.$refs.tv_chart_container;t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}},quitfullTv:function(){this.isfullTv&&(this.isfullTv=window.fullScreen||document.webkitIsFullScreen||document.msFullscreenElement)},slideMarket:function(t){var e=parseFloat(this.slidePosition);if(this.$refs.topMenuBar){if("left"===t)e+=this.$refs.topMenuBar.offsetWidth/2,e>0&&(e=0);else{var i=this.$refs,s=i.topMenuBox,a=void 0===s?null:s,n=i.topMenuBar,r=void 0===n?null:n;this.maxPosition=a.offsetWidth-r.offsetWidth,e-=this.$refs.topMenuBar.offsetWidth/2,e<-this.maxPosition&&(e=-this.maxPosition)}this.slidePosition="".concat(e,"px")}}}},H=(i("8c63"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),z=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"echart-box",attrs:{id:"myEcharts"}})])}],Y=(i("1c01"),i("58b2"),i("8e6e"),i("456d"),i("bd86"));function J(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function G(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?J(Object(i),!0).forEach((function(e){Object(Y["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):J(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var K={name:"chartsDepth",components:{},props:{chartType:{default:0,type:Number}},watch:{chartType:function(t){2===t?(this.intervalGetdata(),this.eachart()):(clearInterval(this.intervalData),this.intervalData=null)},contractId:function(t){t&&2===this.chartType&&this.getData()},coUnitType:function(t){t&&2===this.chartType&&this.getData()}},data:function(){return{symbolCurrent:d["w"].get("sSymbolName"),isshowLoading:!0,myEcharts:null,loading:!0,destory:!1,echartsData:{minval:0,maxval:0,buysArr:[],asksArr:[]},styleObject:{height:"630px"},interval:5e3,intervalData:null,deptValue:8}},methods:{init:function(){var t=this;this.$bus.$on("WINFOW_ON_RESIIZE",(function(){t.myEcharts&&t.myEcharts.resize()}))},intervalGetdata:function(){var t=this;this.getData(!0),clearInterval(this.intervalData),this.intervalData=setInterval((function(){t.getData()}),this.interval)},getData:function(t){var e=this;this.axios({url:this.$store.state.url.futures.depthMap,hostType:"co",params:{contractId:this.contractId}}).then((function(i){if(t&&(e.loading=!1),i.code&&"0"===i.code.toString()){if(i.data&&i.data.buys&&i.data.buys.length){var s=i.data.buys.length,a=i.data.buys[s-1],n=Object(V["a"])(a,1);e.echartsData.minval=n[0];var r=[];i.data.buys.forEach((function(t){r.push([t[0],e.setNumber(t[2])])})),e.echartsData.buysArr=r.reverse()}else e.echartsData.buysArr=[];if(i.data&&i.data.asks&&i.data.asks.length){var o=i.data.asks.length,c=i.data.asks[o-1],u=Object(V["a"])(c,1);e.echartsData.maxval=u[0],e.echartsData.asksArr=[],i.data.asks.forEach((function(t){e.echartsData.asksArr.push([t[0],e.setNumber(t[2])])}))}else e.echartsData.asksArr=[];e.eachart()}else e.clearData()}))},setNumber:function(t){return 1===this.coUnitType?Object(d["f"])(Object(d["x"])(t,this.multiplier),this.volfix):t},clearData:function(){this.echartsData={minval:0,maxval:0,yminval:0,ymaxval:0,buysArr:[],asksArr:[]},this.eachart()},eachart:function(){if(!this.destory){this.myEcharts&&this.myEcharts.dispose(this.myEcharts),this.initEachart();var t=JSON.parse(JSON.stringify(this.echartsData));this.myEcharts.resize(),this.isshowLoading=!1;var e=[];e=[G(G({},this.seriesTypes.buy),{},{data:t.buysArr,type:"line"}),G(G({},this.seriesTypes.ask),{},{data:t.asksArr,type:"line"})],this.myEcharts.setOption({xAxis:[{min:t.minval,max:t.maxval}],series:e})}},initEachart:function(){var t=this;this.myEcharts=window.echarts.init(document.getElementById("myEcharts")),this.myEcharts.setOption({animation:!1,tooltip:{trigger:"axis",axisPointer:{type:"cross",crossStyle:{width:2,color:Object(d["q"])(d["c"]["b-2-cl"]),type:"cross"}}},grid:{show:!0,borderWidth:0,borderColor:Object(d["q"])(d["c"]["a-3-bd"]),containLabel:!0,left:5,top:67,right:5,bottom:0},xAxis:{type:"value",axisPointer:{show:!0,type:"line",lineStyle:{color:Object(d["q"])(d["c"]["b-2-cl"]),width:2,type:"dotted"}},axisLine:{show:!0,lineStyle:{width:1,color:Object(d["q"])(d["c"]["a-3-bd"])}},axisTick:{lineStyle:{color:Object(d["q"])(d["c"]["a-3-bd"])}},axisLabel:{color:Object(d["q"])(d["c"]["b-2-cl"]),showMaxLabel:!1,showMinLabel:!1,formatter:function(e){return e.toFixed(t.pricefix)}},splitLine:{lineStyle:{width:1,color:Object(d["q"])(d["c"]["a-3-bd"])}}},yAxis:[{min:"dataMin",type:"value",axisLine:{show:!0,lineStyle:{width:1,color:Object(d["q"])(d["c"]["a-3-bd"])}},axisTick:{lineStyle:{color:Object(d["q"])(d["c"]["a-3-bd"])}},axisLabel:{color:Object(d["q"])(d["c"]["b-2-cl"])},splitLine:{lineStyle:{width:1,color:Object(d["q"])(d["c"]["a-3-bd"])}}}]})}},computed:{contractId:function(){return this.$store.state.future.contractId},pricefix:function(){return this.$store.state.future.pricefix},coUnitType:function(){return this.$store.state.future.coUnitType},multiplier:function(){return Number(this.$store.state.future.multiplier)||1},volfix:function(){return 1===this.coUnitType?this.$store.state.future.volfix:0},seriesTypes:function(){var t={type:"line",symbol:"none",itemStyle:{normal:{color:d["c"]["a-18-bg"]}},lineStyle:{normal:{color:d["c"]["a-18-bg"],width:2}},areaStyle:{normal:{color:new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:d["c"]["a-18-bg"]},{offset:1,color:d["c"]["u-2-bg"]}])}},data:[]},e={type:"line",symbol:"none",lineStyle:{normal:{color:d["c"]["a-19-bg"],width:2}},itemStyle:{normal:{color:d["c"]["a-19-bg"]}},areaStyle:{normal:{color:new window.echarts.graphic.LinearGradient(0,0,0,1,[{offset:0,color:d["c"]["a-19-bg"]},{offset:1,color:d["c"]["u-5-bg"]}])}},data:[]},i=G(G({},t),{},{lineStyle:{normal:{width:0}}}),s=G(G({},e),{},{lineStyle:{normal:{width:0}}});return{buy:t,ask:e,autoBuy:i,autoAsk:s}}},destroyed:function(){this.$bus.$off("SYMBOL_CURRENT"),this.$bus.$off("WINFOW_ON_RESIIZE"),this.$bus.$off("DEPTH_VALUE"),clearInterval(this.intervalData),this.intervalData=null,this.destory=!0}},q=(i("db04"),{mixins:[K],mounted:function(){this.init()}}),X=q,Z=Object(C["a"])(X,H,z,!1,null,null,null),Q=Z.exports,tt=i("26c0"),et=i("1204"),it={mixins:[W],components:{tabs:tt["a"],timeSelect:et["a"],Echarts:Q},data:function(){return{chartTabs:[{label:this.$t("pageTitle.priceChart"),value:"price"},{label:this.$t("pageTitle.deepChart"),value:"deep"}],activeChart:"price",timeLabel:"30min"}},mounted:function(){this.init()},destroyed:function(){this.$bus.$off("SYMBOL_LIST_ALL"),this.$bus.$off("WEBSOCKET_ON_OPEN"),this.$bus.$off("SYMBOL_CURRENT")},beforeDestroy:function(){this.MywebSocket=!1},methods:{handlerClickChart:function(t){"price"===t?this.switchChartType(1):this.switchChartType(2)}}},st=it,at=(i("23c4"),Object(C["a"])(st,M,P,!1,null,"7df4b48a",null)),nt=at.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"codepath-container"},[i("div",{staticClass:"block-header title-tab a-3-bd a-21-bg"},[i("span",{staticClass:"tab",class:{"a-12-bd b-1-cl":"D"===t.shrinksDdpthNewShow},on:{click:function(e){return t.switchBlock("D")}}},[t._v("\n      "+t._s(t.$t("futures.depth.text1"))+"\n    ")]),"D"===t.shrinksDdpthNewShow?i("div",{staticClass:"depath-class h-2-bd"},[i("span",{staticClass:"hoverHide"},[t._v("\n          "+t._s(t.$t("futures.depth.text4"))+"\n          "+t._s(t.fixDepthNumber(t.depathList[t.activeDepat]))+"\n          "),i("span",{staticClass:"triangle-down"})]),i("span",{staticClass:"hoverShow b-4-cl"},[t._v("\n          "+t._s(t.$t("futures.depth.text4"))+"\n          "+t._s(t.fixDepthNumber(t.depathList[t.activeDepat]))+"\n          "),i("span",{staticClass:"triangle-down b-4-bd"})]),i("ul",{staticClass:"type-item a-21-bg"},[t._l(t.depathList,(function(e,s){return i("li",{key:s,class:t.activeDepat===s||t.depatHover===s?"a-3-bg b-1-cl":"",on:{mouseenter:function(e){return t.handMouseenter(s)},mouseout:function(e){return t.handMouseleave(s)},click:function(e){return e.stopPropagation(),t.switchDepat(s)}}},[t._v("\n            "+t._s(t.fixDepthNumber(e))+"\n          ")])}))],2)]):t._e()]),i("div",{staticClass:"tab-item",class:{"is-show":"D"===t.shrinksDdpthNewShow}},[i("div",{staticClass:"block-header a-3-bd a-21-bg e-2-cl"},[i("span",{staticClass:"h4 b-1-cl"},[t._v("\n        "+t._s(t.$t("futures.depth.text1"))+"\n      ")]),"D"===t.shrinksDdpthNewShow?i("div",{staticClass:"depath-class h-2-bd",on:{click:function(e){e.stopPropagation(),t.isShowDepat=!t.isShowDepat}}},[i("span",{staticClass:"hoverHide"},[t._v("\n          "+t._s(t.$t("futures.depth.text4"))+"\n          "+t._s(t.fixDepthNumber(t.depathList[t.activeDepat]))+"\n          "),i("span",{staticClass:"triangle-down"})]),i("span",{staticClass:"hoverShow b-4-cl"},[t._v("\n          "+t._s(t.$t("futures.depth.text4"))+"\n          "+t._s(t.fixDepthNumber(t.depathList[t.activeDepat]))+"\n          "),i("span",{staticClass:"triangle-down b-4-bd"})]),t.isShowDepat?i("ul",{staticClass:"type-item a-21-bg"},[t._l(t.depathList,(function(e,s){return i("li",{key:s,class:t.activeDepat===s||t.depatHover===s?"a-3-bg b-1-cl":"",on:{mouseenter:function(e){return t.handMouseenter(s)},mouseout:function(e){return t.handMouseleave(s)},click:function(e){return e.stopPropagation(),t.switchDepat(s)}}},[t._v("\n              "+t._s(t.fixDepthNumber(e))+"\n            ")])}))],2):t._e()]):t._e()]),i("div",{staticClass:"block-content a-6-bg"},[i("tableList",{attrs:{type:"asks",theadList:t.theadList,dataList:t.dataList.asksData,maxValue:t.dataList.depthMaxNumber,cellWidth:t.cellWidth,lineNumber:t.sellLineNumber,bodyHeight:t.sellHeight}}),i("div",{staticClass:"current-price a-21-bg"},[i("div",{staticClass:"price-box"},[i("span",{staticClass:"indexPrice",class:t.priceClsss},[t._v(t._s(t.thousandsComma(t.activePrice))+"\n           "),"u-1-cl"===t.priceClsss?i("i",[t._v("")]):t._e(),"u-4-cl"===t.priceClsss?i("i",[t._v("")]):t._e()]),i("span",{staticClass:"tagPrice"},[i("i",{staticClass:"b-1-cl"},[t._v("\n              "+t._s(t.thousandsComma(t.publicMarkertInfo.tagPrice))+"\n            ")]),t._v("\n            "+t._s(t.$t("futures.depth.text5"))+"\n          ")])])]),i("tableList",{attrs:{type:"buy",dataList:t.dataList.buyData,maxValue:t.dataList.depthMaxNumber,lineNumber:t.buyLineNumber,cellWidth:t.cellWidth,bodyHeight:t.buyHeight}})],1)]),i("new-trade")],1)},ot=[],ct={name:"market",data:function(){return{wsData:{},activeDepat:0,depatHover:0,isShowDepat:!1,cellWidth:[120,90,90],shrinksDdpthNewShow:"D",sellHeight:235,buyHeight:210,sellLineNumber:10,buyLineNumber:10,activePrice:null,priceClsss:null}},computed:{templateLayoutType:function(){return this.$store.state.baseData.templateLayoutType},theadList:function(){return[this.$t("futures.depth.theadList1"),"".concat(this.$t("futures.depth.theadList2")," (").concat(this.coUnit,")"),"".concat(this.$t("futures.depth.theadList3")," (").concat(this.coUnit,")")]},contractInfo:function(){return this.$store.state.future.contractInfo},depathList:function(){if(this.contractInfo){var t=this.contractInfo.coinResultVo.depth;return t===["0","0","0"]?["0"]:this.contractInfo.coinResultVo.depth}return["3","2","1"]},symbolCurrent:function(){return this.$store.state.future.coTypeSymbol},multiplier:function(){return Number(this.$store.state.future.multiplier)},coUnit:function(){return this.$store.state.future.coUnit},coUnitType:function(){return this.$store.state.future.coUnitType},volfix:function(){return this.$store.state.future.volfix},pricefix:function(){return this.$store.state.future.pricefix},publicMarkertInfo:function(){var t=this.$store.state.future.publicMarkertInfo;return t?{tagPrice:this.fixPrice(t.tagPrice),indexPrice:this.fixPrice(t.indexPrice)}:{indexPrice:"--"}},dataList:function(){var t=this;if(this.wsData){var e=this.wsData,i=Object.keys(e),s={},a=0;if(i.length){i.forEach((function(i){var n=e[i],r=0,o=0,c=[],u=null;u="asks"===i?Object.keys(n).sort((function(t,e){return t-e})):Object.keys(n).sort((function(t,e){return e-t})),u.forEach((function(i){var s=n[i];if(c.length<10){o=o<s[1]?s[1]:o,r+=s[1];var a=r,u=s[1];1===t.coUnitType&&r&&t.multiplier&&(a=Object(d["f"])(Object(d["x"])(r,t.multiplier),t.volfix),u=Object(d["f"])(Object(d["x"])(u,t.multiplier),t.volfix));var l={total:a,price:Object(d["f"])(s[0],t.pricefix),vol:u,diff:s[2]};e.newData&&e.newData.indexOf(s[0])<0&&(l.diff=0),u>0&&c.push(l)}})),s[i]=c,a<o&&(a=o)}));var n=0,r=0;if(s.asks&&s.asks.length){var o=s.asks.length-1;n=s.asks[o].total}if(s.buys&&s.buys.length){var c=s.buys.length-1;r=s.buys[c].total}var u=Math.max(n,r);return{depthMaxNumber:u,asksData:s.asks.reverse(),buyData:s.buys}}}return{asksData:[],buyData:[],depthMaxNumber:null}},buyOne:function(){return this.dataList&&this.dataList.buyData.length?this.swNumber(this.dataList.buyData[0].price):0},sellOne:function(){return this.dataList&&this.dataList.asksData.length?this.swNumber(this.dataList.asksData[0].price):0},activeNewPrice:function(){var t=0;if(this.buyOne&&this.sellOne&&this.activePrice)t=this.medianValue(this.buyOne,this.sellOne,this.activePrice);else if(!this.buyOne&&this.sellOne&&this.activePrice)t=this.meanValue(this.sellOne,this.activePrice);else if(this.buyOne&&!this.sellOne&&this.activePrice)t=this.meanValue(this.buyOne,this.activePrice);else if(this.buyOne&&this.sellOne&&!this.activePrice)t=this.meanValue(this.buyOne,this.sellOne);else{var e=[this.buyOne,this.sellOne,this.activePrice];e.forEach((function(e){e&&(t=e)}))}return t}},watch:{activeNewPrice:function(t){this.$bus.$emit("ACTIVE_NEW_PRICE",t)}},methods:{init:function(){var t=this;this.$bus.$on("DEPTH_DATA",(function(e){t.wsData=e})),this.$bus.$on("activeWsData",(function(e){e.close&&"--"!==e.close?t.activePrice=Number(e.close):t.activePrice="--",t.priceClsss=e.class}))},fixPrice:function(t){return t?Object(d["f"])(t,this.pricefix):"--"},fixDepthNumber:function(t){if(0===t||"0"===t)return 1;if(1===t||"1"===t)return.1;var e=Number(t)-1,i=0,s=i.toFixed(e);return"".concat(s,"1")},switchBlock:function(t){this.shrinksDdpthNewShow=t},handMouseenter:function(t){this.depatHover=t},switchDepat:function(t){this.activeDepat=t,this.isShowDepat=!1,this.$bus.$emit("DEPTH_VALUE",this.activeDepat)},handMouseleave:function(){this.depatHover=""},swNumber:function(t){return"NaN"!==parseFloat(t).toString()&&parseFloat(t)},medianValue:function(t,e,i){return(e-t)*(t-i)>=0?t:(t-e)*(e-i)>=0?e:i},meanValue:function(t,e){return Object(d["e"])(t+e,2)},thousandsComma:function(t){return t?Object(d["F"])(t):t}}},ut=(i("3fe7"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tableList-container"},[t.theadList&&t.theadList.length?i("div",{staticClass:"thead a-3-bd b-2-cl"},t._l(t.theadList,(function(e,s){return i("span",{key:"thead"+s,style:{width:t.cellWidth[s]+"px"}},[t._v("\n      "+t._s(e)+"\n    ")])})),0):t._e(),i("div",{staticClass:"tbody",style:t.tbodyStyle},[i("vue-scroll",{ref:"vs",attrs:{ops:t.ops},on:{"handle-resize":t.handleResize}},[i("div",{staticClass:"tbodyBar",style:t.tbodyStyle},[t.differNUmber>0&&"asks"===t.type?t._l(t.differNUmber,(function(e,s){return i("div",{key:s+"diff",staticClass:"symbol-item a-5-bg-h b-2-cl"},[i("span",{staticClass:"td-symbol",class:t.priceClass,style:{width:t.cellWidth[0]+"px"}},[t._v("\n              --\n            ")]),i("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n              --\n            ")]),i("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n              --\n            ")])])})):t._e(),t._l(t.dataList,(function(e,s){return[t.isShow(s)?i("div",{key:s+"item",staticClass:"symbol-item a-5-bg-h b-2-cl",class:{"change-item":e.diff}},[i("div",{staticClass:"bg a-21-bg"}),i("span",{staticClass:"td-symbol",class:t.priceClass,style:{width:t.cellWidth[0]+"px"},on:{click:function(i){return t.handelPrice(e.price)}}},[t._v("\n              "+t._s(t.thousandsComma(e.price))+"\n            ")]),i("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n              "+t._s(t.thousandsComma(e.vol))+"\n              "),t.flashSwitchs?i("div",{staticClass:"change",class:t.trBgClass(e.diff)}):t._e()]),i("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n              "+t._s(t.thousandsComma(e.total))+"\n              "),i("b",{staticClass:"tr-bg",class:t.trBgClass_two,style:t.setWidth(e.total)})])]):t._e()]})),t.differNUmber>0&&"buy"===t.type?t._l(t.differNUmber,(function(e,s){return i("div",{key:s+"diff",staticClass:"symbol-item a-5-bg-h b-2-cl"},[i("span",{staticClass:"td-symbol",class:t.priceClass,style:{width:t.cellWidth[0]+"px"}},[t._v("\n              --\n            ")]),i("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n              --\n            ")]),i("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n              --\n            ")])])})):t._e()],2)])],1)])}),lt=[],ht={name:"tableList",components:{},data:function(){return{ops:{scrollPanel:{scrollingY:!0,initialScrollY:0}}}},props:{type:{type:String,default:""},theadList:{type:Array,default:function(){return[]}},dataList:{type:Array,default:function(){return[]}},cellWidth:{type:Array,default:function(){return[]}},bodyHeight:{type:Number,default:0},lineNumber:{type:Number,default:10},maxValue:{type:Number}},computed:{tbodyStyle:function(){return{height:"".concat(this.bodyHeight,"px")}},priceClass:function(){return"buy"===this.type?"u-1-cl":"u-4-cl"},trBgClass_two:function(){return"buy"===this.type?"u-3-bg":"u-6-bg"},differNUmber:function(){return this.lineNumber-this.dataList.length>0?this.lineNumber-this.dataList.length:0},flashSwitchs:function(){return this.$store.state.baseData.trade_depth_is_flash}},watch:{theadList:function(t){this.scrollTo(t)},bodyHeight:function(t,e){e&&t&&"asks"===this.type&&t>500&&this.scrollTo()},dataList:function(t,e){var i=this;"asks"!==this.type||e.length||setTimeout((function(){i.scrollTo()}))}},methods:{init:function(){this.scrollTo()},isShow:function(t){if("asks"===this.type){var e=this.dataList.length-this.lineNumber;return e<=t}return t<this.lineNumber},trBgClass:function(t){return 1===t?"u-2-bg":"u-5-bg"},handelPrice:function(t){this.$bus.$emit("HANDEL_PRICE",t)},scrollTo:function(){this.$refs.vs&&this.$refs.vs.scrollTo({y:99999},!1)},handleResize:function(){var t=this;"asks"===this.type&&setTimeout((function(){t.scrollTo()}),100)},setWidth:function(t){var e=0;return"--"===t||"--"===this.maxValue?0:(e=parseFloat(t)/parseFloat(this.maxValue)*100+5,e>105&&(e=105),{width:"".concat(e,"%")})},thousandsComma:function(t){return t?Object(d["F"])(t):t}}},ft=(i("30d6"),{mixins:[ht],mounted:function(){this.init()}}),dt=ft,mt=Object(C["a"])(dt,ut,lt,!1,null,null,null),pt=mt.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"coNewTrade-container"},[i("div",{staticClass:"block-header a-3-bd a-21-bg"},[i("span",{staticClass:"h4 b-1-cl"},[t._v("\n      "+t._s(t.$t("futures.newTrade.text1"))+"\n    ")])]),i("div",{staticClass:"block-content a-6-bg"},[t.theadList&&t.theadList.length?i("div",{staticClass:"thead a-3-bd e-2-cl"},t._l(t.theadList,(function(e,s){return i("span",{key:"thead"+s,style:{width:t.cellWidth[s]+"px"}},[t._v("\n        "+t._s(e)+"\n      ")])})),0):t._e(),i("div",{staticClass:"tbody"},[i("vue-scroll",[t._l(t.dataList,(function(e,s){return i("div",{key:t.kyes(e,s),staticClass:"symbol-item a-21-bg-h e-2-cl",class:{"change-item":e.change}},[i("div",{staticClass:"bg a-21-bg"}),i("span",{staticClass:"td-symbol",class:e.side,style:{width:t.cellWidth[0]+"px"},on:{click:function(i){return t.handelPrice(e.price)}}},[t._v("\n            "+t._s(t.thousandsComma(e.price))+"\n            ")]),i("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n            "+t._s(t.thousandsComma(e.vol))+"\n          ")]),i("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n            "+t._s(e.time)+"\n          ")])])})),t._l(t.differNUmber,(function(e){return i("div",{key:e+"diff",staticClass:"symbol-item a-21-bg-h e-2-cl"},[i("span",{staticClass:"td-symbol",style:{width:t.cellWidth[0]+"px"}},[t._v("\n            --\n          ")]),i("span",{staticClass:"td-price",style:{width:t.cellWidth[1]+"px"}},[t._v("\n            --\n          ")]),i("span",{staticClass:"td-rose",style:{width:t.cellWidth[2]+"px"}},[t._v("\n            --\n          ")])])}))],2)],1)])])},bt=[],gt={name:"newTrade",components:{},data:function(){return{wsData:[],dataList:[],cellWidth:[120,90,90],differNUmber:29,bodyHeight:"700px",symbolCurrent:null}},computed:{multiplier:function(){return Number(this.$store.state.future.multiplier)},coUnit:function(){return this.$store.state.future.coUnit},coUnitType:function(){return this.$store.state.future.coUnitType},volfix:function(){return this.$store.state.future.volfix},pricefix:function(){return this.$store.state.future.pricefix},theadList:function(){return[this.$t("futures.newTrade.text2"),"".concat(this.$t("futures.newTrade.text3")," (").concat(this.coUnit,")"),this.$t("futures.newTrade.text4")]}},watch:{coUnitType:function(t,e){t&&e&&this.setDataList(JSON.stringify(this.wsData),"req")}},methods:{init:function(){var t=this;this.$bus.$on("TRADE_DATA_REQ",(function(e){t.setDataList(e,"req")})),this.$bus.$on("TRADE_DATA_SUB",(function(e){t.setDataList(e,"sub")})),this.$bus.$on("SYMBOL_CURRENT",(function(e){t.symbolCurrent=e}))},setDataList:function(t,e){var i=this,s=JSON.parse(t),a=[];"req"===e&&(this.dataList=[],this.wsData=[]),s&&s.length&&s.forEach((function(t,s){var n=t.vol;1===i.coUnitType&&(n=Object(d["f"])(Object(d["x"])(n,i.multiplier),i.volfix));var r={side:"SELL"===t.side?"u-4-cl":"u-1-cl",time:Object(d["k"])(t.ts).split(" ")[1],ts:t.ts,price:Object(d["f"])(t.price,i.pricefix),vol:n,date:(new Date).getTime()+s};"sub"===e?(i.dataList.unshift(r),i.wsData.unshift(t),i.dataList.length>150&&(i.dataList.pop(),i.wsData.pop())):a.push(r)})),"req"===e&&(this.dataList=a,this.wsData=s),this.differNUmber=29-this.dataList.length>0?29-this.dataList.length:0},handelPrice:function(t){this.$bus.$emit("HANDEL_PRICE",t)},kyes:function(t,e){return t.change?(new Date).getTime():e},thousandsComma:function(t){return t?Object(d["F"])(t):t}}},vt=(i("49bf"),{mixins:[gt],mounted:function(){this.init()}}),Ct=vt,_t=(i("5c6b"),Object(C["a"])(Ct,xt,bt,!1,null,"b82f1654",null)),Tt=_t.exports,yt={mixins:[ct],components:{tableList:pt,newTrade:Tt},mounted:function(){this.init()}},$t=yt,wt=(i("7d9f"),Object(C["a"])($t,rt,ot,!1,null,"a42f539c",null)),Dt=wt.exports,St=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"co-trade-box e-2-cl",attrs:{id:"coTradeBox"}},[i("div",{staticClass:"title-block a-21-bg a-3-bd"},[i("span",{staticClass:"show-dialog-btn b-4-cl a-16-bg",class:"depositDialogShow"===t.showClassType?"a-14-bd":"a-12-bd",on:{mouseenter:function(e){return t.evenHandMouseenter("showClassType","depositDialogShow")},mouseleave:function(e){return t.evenHandMouseleave("showClassType")},click:function(e){return t.setShowDialog("depositDialogShow")}}},[t._v("\n      "+t._s(t.marginModelText)+"\n    ")]),i("span",{staticClass:"show-dialog-btn b-4-cl a-16-bg",class:"leverageDialogShow"===t.showClassType?"a-14-bd":"a-12-bd",on:{mouseenter:function(e){return t.evenHandMouseenter("showClassType","leverageDialogShow")},mouseleave:function(e){return t.evenHandMouseleave("showClassType")},click:function(e){return t.setShowDialog("leverageDialogShow")}}},[t._v("\n      "+t._s(t.nowLevel)+"X\n    ")]),i("div",{staticClass:"counter-and-set"},[i("i",{staticClass:"set-btn-icon",on:{click:function(e){return t.showDialog("OPEN_CALCULATOR_DIALOG")}}},[i("svg",{staticClass:"icon icon-18 hover-show",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-b_39_1"}})]),i("svg",{staticClass:"icon icon-18 hover-hide",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-b_39"}})])]),i("i",{staticClass:"set-btn-icon",on:{click:function(e){return t.showDialog("SET_FUTURE_CONFIG")}}},[i("svg",{staticClass:"icon icon-18 hover-show",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-b_2_1"}})]),i("svg",{staticClass:"icon icon-18 hover-hide",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-b_2"}})])])])]),i("div",{staticClass:"trade-form"},[2===t.positionModel?i("div",{staticClass:"category-select-box"},t._l(t.switchTradeTypeList,(function(e,s){return i("span",{key:s,staticClass:"tab",class:e.classes,on:{click:function(i){return t.switchTradeType(e.id)}}},[i("i",{staticClass:"h"},[t._v(t._s(e.text))]),i("i",{staticClass:"s b-1-cl"},[t._v(t._s(e.text))])])})),0):t._e(),i("div",{staticClass:"category-select-box"},t._l(t.categoryList,(function(e,s){return i("span",{key:s,staticClass:"tab",class:e.classes,on:{click:function(i){return t.selectCategory(e.id)}}},[i("i",{staticClass:"h"},[t._v(t._s(e.text))]),i("i",{staticClass:"s b-1-cl"},[t._v(t._s(e.text))])])})),0),t.formData_1.isShow?i("form-input",{attrs:{promptText:t.formData_1.promptText,fix:t.formData_1.fix,unit:t.formData_1.units,title:t.formData_1.title,default:t.formData_1.value,isPercentage:t.formData_1.percentageVlaue,isError:t.formData_1.errorText},on:{clearPercentage:t.clearPercentage,tradeChangeValue:function(e){return t.changeInput("formData_1",e)}}}):t._e(),t.formData_1.errorText?i("div",{staticClass:"form-error b-6-cl"},[t._v(t._s(t.formData_1.errorText))]):t._e(),t.formData_2.isShow?i("form-input",{attrs:{promptText:t.formData_2.promptText,isMarket:t.isMarket,fix:t.formData_2.fix,unit:t.formData_2.units,default:t.formData_2.value,title:t.formData_2.title,haveMarket:!0,isError:t.formData_2.errorText,percentageVlaue:t.percentageVlaue},on:{selectMarket:t.selectMarket,clearPercentage:t.clearPercentage,tradeChangeValue:function(e){return t.changeInput("formData_2",e)}}}):t._e(),t.formData_2.errorText?i("div",{staticClass:"form-error b-6-cl"},[t._v(t._s(t.formData_2.errorText))]):t._e(),t.formData_3.isShow?i("form-input",{attrs:{promptText:t.formData_3.promptText,fix:t.formData_3.fix,unit:t.formData_3.units,title:t.formData_3.title,default:t.formData_3.value,isError:t.formData_3.errorText,isPercentage:t.formData_3.percentageVlaue},on:{clearPercentage:t.clearPercentage,tradeChangeValue:function(e){return t.changeInput("formData_3",e)}}}):t._e(),t.formData_3.errorText?i("div",{staticClass:"form-error b-6-cl"},[t._v(t._s(t.formData_3.errorText))]):t._e(),t.isOpenAndIsMarket&&!t.percentageVlaue?i("p",{staticClass:"convert b-1-cl"},[t._v("\n       "+t._s(t.worthRate)+" "),i("span",[t._v(" "+t._s(t.multiplierCoin))])]):t._e(),2===t.currentCategory||t.isMarket||!t.worthValue||t.percentageVlaue?t._e():i("p",{staticClass:"convert b-1-cl"},[t._v("\n      "+t._s(t.lanText.textjz)+"\n      "+t._s(t.worthValue)+"\n        "),1===t.contractSide?[t._v(t._s(t.priceUnit))]:[t._v(t._s(t.baseCoin))]],2),i("div",{staticClass:"percentage a-3-bd"},t._l(t.percentageList,(function(e){return i("span",{key:e,class:t.percentageVlaue===e||t.percentageVlaueHover===e?"a-12-bd b-4-cl":"a-3-bd",on:{mouseenter:function(i){return t.evenHandMouseenter("percentageVlaueHover",e)},mouseout:function(e){return t.evenHandMouseenter("percentageVlaueHover",null)},click:function(i){return t.setPercentageVlaue(e)}}},[t._v("\n        "+t._s(e)+"%\n      ")])})),0),i("div",{staticClass:"openable"},[i("div",{staticClass:"left"},[i("label",{staticClass:"u-1-cl"},[t._v(t._s(t.openableData.buyText))]),i("span",[t._v(" "+t._s(t.thousandsComma(t.maxCanBuyNumber))+" "+t._s(t.volUnit))])]),i("div",{staticClass:"right"},[i("label",{staticClass:"u-4-cl"},[t._v(t._s(t.openableData.sellText))]),i("span",[t._v(" "+t._s(t.thousandsComma(t.maxCanSellNumber))+" "+t._s(t.volUnit)+" ")])])]),2!==t.currentCategory||1===t.positionModel?i("div",{staticClass:"option"},[2===t.currentCategory||t.isMarket?t._e():[i("div",{staticClass:"select-order-type"},[i("c-checkBox",{attrs:{value:t.isCheckedOrdeType},on:{click:t.checkedOrdeTypeclick}}),i("label",{staticClass:"ac-type"},[i("div",{staticClass:"h-show"},[i("span",{staticClass:"tit a-1-bd"},[t._v(t._s(t.ordeType.title))]),i("span",{staticClass:"triangle-down b-4-bd",on:{click:function(e){t.ordeTypePtions=!t.ordeTypePtions}}})]),i("div",{staticClass:"h-hide"},[i("span",{staticClass:"tit a-1-bd"},[t._v(t._s(t.ordeType.title))]),i("span",{staticClass:"triangle-down",on:{click:function(e){t.ordeTypePtions=!t.ordeTypePtions}}})]),i("p",{staticClass:"tip-text a-5-bg a-3-bd b-1-cl"},[t._v("\n              "+t._s(t.ordeType.text)+"\n            ")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ordeTypePtions,expression:"ordeTypePtions"}],staticClass:"orde-type-ptions a-21-bg"},t._l(t.ordeTypeList,(function(e){return i("p",{key:e.id,class:t.ordeType.id===e.id||t.hoverOrdeType.id===e.id?"a-3-bg b-1-cl":"",on:{mouseenter:function(i){return i.stopPropagation(),t.evenHandMouseenter("hoverOrdeType",e)},mouseout:function(e){return e.stopPropagation(),t.evenHandMouseenter("hoverOrdeType",{})},click:function(i){return i.stopPropagation(),t.radioClick(e)}}},[t._v("\n              "+t._s(e.title)+"\n            ")])})),0)],1)],1===t.positionModel?i("span",[i("c-checkBox",{attrs:{value:t.zhiJianCang},on:{click:t.checkoutClick}}),i("label",{staticClass:"rt-label a-1-bd"},[t._v(t._s(t.lanText.text6)+"\n          "),i("p",{staticClass:"tip-text rt-label-zjc a-5-bg a-3-bd b-1-cl"},[t._v("\n            "+t._s(t.lanText.text7)+"\n          ")])])],1):t._e()],2):t._e(),i("div",{staticClass:"submit-button"},[t.isLogin&&t.openContract?t._e():i("c-button",{attrs:{defaultColorClass:t.loginButton.class,hoverColorClass:t.loginButton.class,activeColorClass:t.loginButton.class,width:"100%"},on:{click:function(e){return t.loginButtonClick()}}},[t._v("\n        "+t._s(t.loginButton.text)+"\n      ")]),t.isLogin&&t.openContract?[i("c-button",{attrs:{defaultColorClass:t.buttosContent.buyButton.class,hoverColorClass:t.buttosContent.buyButton.class,activeColorClass:t.buttosContent.buyButton.class,disabled:t.isSubmitDisbled,paddingW:"10px",width:"140px"},on:{click:function(e){return t.submitForm("BUY")}}},[t._v("\n        "+t._s(t.buttosContent.buyButton.text)+"\n        ")]),i("c-button",{attrs:{defaultColorClass:t.buttosContent.sellButton.class,hoverColorClass:t.buttosContent.sellButton.class,activeColorClass:t.buttosContent.sellButton.class,disabled:t.isSubmitDisbled,paddingW:"10px",width:"140px"},on:{click:function(e){return t.submitForm("SELL")}}},[t._v("\n          "+t._s(t.buttosContent.sellButton.text)+"\n        ")])]:t._e()],2),i("div",{staticClass:"hold-position"},[i("div",{staticClass:"left"},[i("label",[t._v("\n          "+t._s(t.lanText.text5)+"\n        ")]),i("span",[t._v(t._s(t.thousandsComma(t.canBuyCostNumber))+" "+t._s(t.marginCoin))])]),i("div",{staticClass:"right"},[i("label",[t._v("\n          "+t._s(t.lanText.text5)+"\n        ")]),i("span",[t._v(t._s(t.thousandsComma(t.canSellCostNumber))+" "+t._s(t.marginCoin))])])]),i("div",{staticClass:"available a-3-bd"},[i("div",[i("span",{staticClass:"rt-label a-1-bd"},[t._v("\n          "+t._s(t.lanText.text2)+"\n          "),i("p",{staticClass:"tip-text a-5-bg a-3-bd b-1-cl",domProps:{innerHTML:t._s(t.lanText.text3)}})]),t._v("\n        "+t._s(t.thousandsComma(t.canUseAmount))+" "+t._s(t.marginCoin))])])],1),i("forcedReminder",{attrs:{dataInfo:t.confirmData,isShow:t.forcedReminderShow,close:t.closeDialog},on:{submitOrder:t.submitOrder}}),t.leverageDialogShow?i("lever-component",{attrs:{isShow:t.leverageDialogShow,close:t.closeDialog}}):t._e(),t.depositDialogShow?i("depositMode",{attrs:{isShow:t.depositDialogShow,close:t.closeDialog}}):t._e()],1)},Lt=[],Ot={name:"tradeForm",data:function(){return{showClassType:null,transactionType:1,currentCategory:1,isMarket:!1,zhiJianCang:!1,percentageVlaue:null,percentageVlaueHover:null,isSubmitDisbled:!1,leverageDialogShow:!1,forcedReminderShow:!1,isCheckedOrdeType:null,ordeType:{},hoverOrdeType:{},sideType:null,submitFlag:!0,expireTime:"14",formData_1:{title:"",units:this.priceUnit,fix:8,isShow:!0,errorText:null,value:null},formData_2:{title:"",units:this.priceUnit,fix:8,isShow:!1,errorText:null,value:null},formData_3:{title:"",units:"",fix:8,isShow:!0,errorText:null,value:null},submitData:null,confirmData:{},activeNewPrice:0,positionModel:d["w"].get("positionModel")||2,depositDialogShow:!1,ordeTypePtions:!1}},props:{},computed:{isIframe:function(){return this.$store.state.future.isIframe},marginModelText:function(){return this.userConfig?1===this.userConfig.marginModel?this.$t("futures.currentSymbol.marginModel1"):this.$t("futures.currentSymbol.marginModel2"):this.$t("futures.currentSymbol.marginModel1")},lanText:function(){return{mPrice:this.$t("futures.tradeForm.mPrice"),textjz:this.$t("futures.tradeForm.textjz"),text1:this.$t("futures.tradeForm.text1"),text2:this.$t("futures.tradeForm.text2"),text3:this.$t("futures.tradeForm.text3"),text4:this.$t("futures.tradeForm.text4"),text5:this.$t("futures.tradeForm.text5"),text6:this.$t("futures.tradeForm.text6"),text7:this.$t("futures.tradeForm.text7"),text8:this.$t("futures.tradeForm.text8"),text9:this.$t("futures.tradeForm.text9"),text10:this.$t("futures.tradeForm.text10"),text11:this.$t("futures.tradeForm.text11"),text12:this.$t("futures.tradeForm.text12"),text13:this.$t("futures.tradeForm.text13"),text14:this.$t("futures.tradeForm.text14"),text15:this.$t("futures.tradeForm.text15"),text16:this.$t("futures.tradeForm.text16"),text17:this.$t("futures.tradeForm.text17"),text18:this.$t("futures.tradeForm.text18"),text19:this.$t("futures.tradeForm.text19"),text20:this.$t("futures.tradeForm.text20"),text21:this.$t("futures.tradeForm.text21"),text22:this.$t("futures.tradeForm.text22"),text23:this.$t("futures.tradeForm.text23"),text24:this.$t("futures.tradeForm.text24"),text25:this.$t("futures.tradeForm.text25"),text26:this.$t("futures.tradeForm.text26"),text27:this.$t("futures.tradeForm.text27"),text28:this.$t("futures.tradeForm.text28"),text29:this.$t("futures.tradeForm.text29"),text30:this.$t("futures.tradeForm.text30"),text31:this.$t("futures.tradeForm.text31"),text32:this.$t("futures.tradeForm.text32"),text33:this.$t("futures.tradeForm.text33"),text34:this.$t("futures.tradeForm.text34"),text35:this.$t("futures.tradeForm.text35"),text36:this.$t("futures.tradeForm.text36"),text37:this.$t("futures.tradeForm.text37"),text38:this.$t("futures.tradeForm.text38"),text39:this.$t("futures.tradeForm.text39"),text40:this.$t("futures.tradeForm.text40"),text41:this.$t("futures.tradeForm.text41"),text42:this.$t("futures.tradeForm.text42"),text43:this.$t("futures.tradeForm.text43"),text44:this.$t("futures.tradeForm.text44"),text45:this.$t("futures.tradeForm.text45"),text46:this.$t("futures.tradeForm.text46"),text47:this.$t("futures.tradeForm.text47"),text48:this.$t("futures.tradeForm.text48"),text49:this.$t("futures.tradeForm.text49"),text50:this.$t("futures.tradeForm.text50"),text51:this.$t("futures.tradeForm.text51"),text52:this.$t("futures.tradeForm.text52"),text53:this.$t("futures.tradeForm.text53"),text56:this.$t("futures.tradeForm.text56"),text57:this.$t("futures.tradeForm.text57")}},isLogin:function(){return!!this.$store.state.baseData.isLogin&&this.$store.state.baseData.isLogin},userConfig:function(){return this.$store.state.future.futureUserConfig},marginModel:function(){return this.userConfig?this.userConfig.marginModel:1},contractId:function(){return this.$store.state.future.contractId},priceUnit:function(){return this.$store.state.future.priceUnit},pricefix:function(){return this.$store.state.future.pricefix},planTypeList:function(){return[{name:this.lanText.text16,id:"1"},{name:this.lanText.text17,id:"7"},{name:this.lanText.text18,id:"14"},{name:this.lanText.text19,id:"30"}]},openContract:function(){return this.$store.state.future.openContract},volUnit:function(){return this.$store.state.future.coUnit},multiplier:function(){return Number(this.$store.state.future.multiplier)||1},contractName:function(){return this.$store.state.future.contractName},contractSymbol:function(){return this.$store.state.future.contractSymbol},volfix:function(){return 1===this.coUnitType?this.$store.state.future.volfix:0},coUnitType:function(){return this.$store.state.future.coUnitType},contractInfo:function(){return this.$store.state.future.contractInfo},coinResultVo:function(){return this.contractInfo?this.contractInfo.coinResultVo:{}},baseCoin:function(){return this.contractInfo?this.contractInfo.base:null},quoteCoin:function(){return this.contractInfo?this.contractInfo.quote:null},multiplierCoin:function(){return this.contractInfo?this.contractInfo.multiplierCoin:null},multiplierFix:function(){return this.contractInfo?Object(d["p"])(this.contractInfo.multiplier):4},marginCoin:function(){return this.contractInfo?this.contractInfo.marginCoin:""},marginCoinFix:function(){return this.contractInfo&&this.contractInfo.coinResultVo?this.contractInfo.coinResultVo.marginCoinPrecision:4},accountBalanceMap:function(){return this.$store.state.future.futureAccountBalance},accountBalance:function(){return this.accountBalanceMap&&this.marginCoin?this.accountBalanceMap[this.marginCoin]:{}},canUseAmount:function(){return this.isLogin&&this.accountBalance&&"--"!==this.accountBalance.canUseAmount?Object(d["f"])(this.accountBalance.canUseAmount,this.marginCoinFix):0},nowLevel:function(){return this.userConfig&&this.userConfig.nowLevel||20},marginRate:function(){return this.contractInfo&&this.contractInfo.marginRate?this.contractInfo.marginRate:1},contractSide:function(){return this.contractInfo?this.contractInfo.contractSide:1},activeCanClose:function(){var t=this.$store.state.future.activeCanClose,e={};return t&&(e=t[this.contractName]),e},orderSide:function(){var t="OPEN";return(this.zhiJianCang||2===this.transactionType)&&(t="CLOSE"),t},percentageList:function(){return[10,20,50,100]},switchTradeTypeList:function(){return[{id:1,text:this.lanText.text20,classes:1===this.transactionType?"u-8-bg b-1-cl":"a-8-bg b-2-cl"},{id:2,text:this.lanText.text21,classes:2===this.transactionType?"u-8-bg b-1-cl":"a-8-bg b-2-cl"}]},categoryList:function(){return[{id:1,text:this.lanText.text22,classes:1===this.currentCategory?"a-5-bg b-1-cl":"a-8-bg b-2-cl"},{id:2,text:this.lanText.text23,classes:2===this.currentCategory?"a-5-bg b-1-cl":"a-8-bg b-2-cl"},{id:3,text:this.lanText.text24,classes:3===this.currentCategory?"a-5-bg b-1-cl":"a-8-bg b-2-cl"}]},openableData:function(){return this.zhiJianCang||2===this.transactionType?{buyText:this.lanText.text25,sellText:this.lanText.text26}:{buyText:this.lanText.text27,sellText:this.lanText.text28}},ordeTypeList:function(){return[{title:this.lanText.text29,text:this.lanText.text30,id:5},{title:"IOC",text:this.lanText.text31,id:3},{title:"FOK",text:this.lanText.text32,id:4}]},loginButton:function(){return this.isLogin&&!this.openContract?{text:this.lanText.text33,class:"u-8-bg buyBtn u-16-cl"}:{text:this.lanText.text34,class:"u-8-bg buyBtn u-16-cl"}},buttosContent:function(){return 2===this.transactionType||this.zhiJianCang?{buyButton:{text:this.lanText.text35,class:"u-1-bg buyBtn b-1-cl"},sellButton:{text:this.lanText.text36,class:"u-4-bg sellBtn b-1-cl"}}:2===this.positionModel?{buyButton:{text:this.lanText.text37,class:"u-1-bg buyBtn b-1-cl"},sellButton:{text:this.lanText.text38,class:"u-4-bg sellBtn b-1-cl"}}:{buyButton:{text:this.lanText.text39,class:"u-1-bg buyBtn b-1-cl"},sellButton:{text:this.lanText.text40,class:"u-4-bg sellBtn b-1-cl"}}},isOpenAndIsMarket:function(){return!(2!==this.currentCategory&&!this.isMarket||this.zhiJianCang||1!==this.transactionType)},inputPrice:function(){return 2===this.currentCategory||this.isMarket?0:3===this.currentCategory?this.formData_2.value:Number(this.formData_1.value)},inputVolume:function(){var t=this.formData_3.value;return 1===this.coUnitType&&!this.isOpenAndIsMarket&&t&&(t=Object(d["e"])(t,this.multiplier)),Number(t)||0},triggerPrice:function(){return 3===this.currentCategory?this.formData_1.value:null},submitOrderType:function(){var t=this.currentCategory;return 3===this.currentCategory&&(t=this.isMarket?2:1),this.isCheckedOrdeType&&this.ordeType&&this.ordeType.id&&(t=this.ordeType.id),t},worthRate:function(){var t=this.countPercentageVlaue()||this.inputVolume,e="";return t&&this.activeNewPrice&&(e=1===this.contractSide?Object(d["e"])(t,this.activeNewPrice):Object(d["x"])(t,this.activeNewPrice),e)?Object(d["f"])(Object(d["e"])(e,this.marginRate),this.multiplierFix):0},worthValue:function(){var t=this.countPercentageVlaue()||this.inputVolume,e=this.formData_1.value;return 3===this.currentCategory&&(e=this.formData_2.value),t&&e?(t=Object(d["x"])(t,this.multiplier),1===this.contractSide?Object(d["f"])(Object(d["x"])(t,e),this.pricefix):Object(d["f"])(Object(d["e"])(t,e),this.marginCoinFix)):0}},watch:{userConfig:function(t){t&&(this.positionModel=t.positionModel,this.zhiJianCang=!1,this.transactionType=1,this.isMarket=!1,this.zhiJianCang=!1,this.setFormType(),this.clearFormData())},contractId:function(){this.clearFormData()},"formData_1.value":function(t){t&&Number(t)&&(this.formData_1.errorText=null)},"formData_2.value":function(t){t&&Number(t)&&(this.formData_2.errorText=null)},"formData_3.value":function(t){t&&Number(t)&&(this.formData_3.errorText=null)},volUnit:function(t){t&&this.setFormType()},ordeTypeList:function(){var t=Object(V["a"])(this.ordeTypeList,1),e=t[0];this.ordeType=e}},methods:{init:function(){var t=this;this.$bus.$on("set-future",(function(e){e&&e.positionModel&&(t.positionModel=e.positionModel)})),this.$bus.$on("ACTIVE_NEW_PRICE",(function(e){e&&(t.activeNewPrice=e)})),this.$bus.$on("HANDEL_PRICE",(function(e){e&&(t.formData_1.value=e)})),this.setFormType(),this.$nextTick((function(){var e=Object(V["a"])(t.ordeTypeList,1),i=e[0];t.ordeType=i}))},showDialog:function(t){this.$bus.$emit(t)},setShowDialog:function(t){return this.userConfig&&!this.userConfig.openContract?(this.$bus.$emit("OPEN_FUTURE"),!1):"leverageDialogShow"===t&&this.userConfig&&!this.userConfig.levelCanSwitch?(this.$bus.$emit("tip",{text:this.$t("futures.tradeForm.text54"),type:"error"}),!1):"depositDialogShow"===t&&this.userConfig&&!this.userConfig.marginModelCanSwitch?(this.$bus.$emit("tip",{text:this.$t("futures.tradeForm.text55"),type:"error"}),!1):(this.isLogin?(this.$store.dispatch("getUserConfig"),this[t]=!0):this.$bus.$emit("tip",{text:this.lanText.text34,type:"error"}),!1)},switchTradeType:function(t){this.transactionType!==t&&(this.transactionType=t,this.setFormType(),this.clearFormData())},selectCategory:function(t){this.currentCategory!==t&&(this.currentCategory=t,this.isMarket=!1,this.setFormType(),this.clearFormData())},selectMarket:function(){this.isMarket&&(this.formData_3.value=""),this.isMarket=!this.isMarket,this.setFormType(),this.clearFormData("isMarket")},clearPercentage:function(){this.percentageVlaue=null,this.formData_3.value=null,this.formData_3.percentageVlaue=null,this.formData_1.percentageVlaue=null},setPercentageVlaue:function(t){this.percentageVlaue=t,this.formData_3.isShow?(this.formData_3.percentageVlaue=t,this.formData_3.value=null,this.formData_3.errorText=null):(this.formData_1.percentageVlaue=t,this.formData_1.value=null,this.formData_1.errorText=null)},countPercentageVlaue:function(t){if(!this.percentageVlaue)return 0;var e="BUY"===t?this.maxCanBuyNumber:this.maxCanSellNumber;if(!e)return 0;var i=0;if(this.isOpenAndIsMarket){var s=Object(d["e"])(this.percentageVlaue,100),a=Object(d["x"])(s,this.canUseAmount),n=Object(d["e"])(Object(d["x"])(a,this.nowLevel),this.marginRate),r="BUY"===t?Object(d["x"])(s,this.V1Buy):Object(d["x"])(s,this.V1Sell),o=Number(n)<Number(r)?n:r;i=Object(d["f"])(o,this.pricefix)}else i=Object(d["x"])(Object(d["e"])(this.percentageVlaue,100),e),1===this.coUnitType&&i&&(i=Object(d["f"])(Object(d["e"])(i,this.multiplier),0)),2===this.coUnitType&&(i=Object(d["f"])(i,0));return i},setFormType:function(){if(this.formData_1.promptText=null,this.formData_3.promptText=null,1===this.currentCategory&&(this.formData_1.isShow=!0,this.formData_1.title=this.lanText.text11,this.formData_1.units=this.priceUnit,this.formData_1.fix=this.pricefix,this.formData_3.isShow=!0,this.formData_3.units=this.volUnit,this.formData_3.fix=this.volfix),2===this.currentCategory&&(this.isCheckedOrdeType=!1,2===this.transactionType||this.zhiJianCang,this.formData_1.isShow=!1,this.formData_3.isShow=!0),3===this.currentCategory?(this.formData_1.isShow=!0,this.formData_2.isShow=!0,this.formData_3.isShow=!0,this.formData_1.title=this.lanText.text12,this.formData_1.promptText=this.lanText.text13,this.formData_2.title=this.lanText.text11,this.formData_1.units=this.priceUnit,this.formData_2.fix=this.pricefix,this.formData_1.fix=this.pricefix):this.formData_2.isShow=!1,this.isOpenAndIsMarket)if(this.formData_3.title=this.lanText.text14,this.formData_3.promptText=this.lanText.text15,1===this.contractSide)this.formData_3.units=this.priceUnit,this.formData_3.fix=this.pricefix;else{var t=this.$store.state.future.volfix;this.formData_3.units=this.baseCoin,this.formData_3.fix=t}else this.formData_3.title=this.lanText.text53,this.formData_3.units=this.volUnit,this.formData_3.fix=this.volfix;this.setHeight()},clearFormData:function(t){"isMarket"!==t&&(this.formData_1.value=null),this.percentageVlaue=null,this.formData_2.value=null,this.formData_1.errorText=null,this.formData_2.errorText=null,this.formData_3.errorText=null,this.formData_3.value=null,this.formData_1.percentageVlaue=null,this.formData_3.percentageVlaue=null,this.setHeight()},changeInput:function(t,e){this[t].value=e},checkoutClick:function(t){this.zhiJianCang=t,this.setFormType()},checkedOrdeTypeclick:function(t){this.isCheckedOrdeType=t},radioClick:function(t){this.ordeType=t,this.ordeTypePtions=!1},loginButtonClick:function(){this.isLogin?this.$bus.$emit("OPEN_FUTURE"):this.isIframe?window.parent.postMessage("login","*"):this.$router.push("/login")},formNumberVerify:function(){var t=!0;this.formData_1.errorText=null,this.formData_2.errorText=null,this.formData_3.errorText=null;var e=this.sideType;if(this.inputPrice){var i=Math.abs(Object(d["e"])(Object(d["d"])(this.activeNewPrice,this.inputPrice),this.activeNewPrice)),s=this.coinResultVo.priceRange,a=!0;"SELL"===e&&Number(this.inputPrice)<Number(this.activeNewPrice)&&(a=!1),"BUY"===e&&Number(this.inputPrice)>Number(this.activeNewPrice)&&(a=!1),i>s&&!a&&(3===this.currentCategory?this.formData_2.errorText=this.lanText.text41:this.formData_1.errorText=this.lanText.text41,t=!1)}var n=this.inputVolume;if(this.percentageVlaue&&(n=this.countPercentageVlaue(e)),n)if(this.isOpenAndIsMarket){var r=this.coinResultVo,o=r.maxMarketMoney,c=r.minOrderMoney;if(n>o&&(this.formData_3.errorText="".concat(this.lanText.text42).concat(o," ").concat(this.marginCoin),t=!1),n<c){var u=this.marginCoin;"E"!==this.contractInfo.contractType&&2===this.currentCategory&&(u=this.quoteCoin),this.formData_3.errorText="".concat(this.lanText.text43).concat(c," ").concat(u),t=!1}var l=Object(d["f"])(Object(d["e"])(Object(d["x"])(this.canUseAmount,this.nowLevel),this.marginRate),this.pricefix),h="BUY"===e?this.V1Buy:this.V1Sell,f=Number(l)<Number(h)?Number(l):Number(h);if(n>f)return this.formData_3.errorText="".concat(this.lanText.text57),t=!1,!1}else{var m=this.coinResultVo,p=m.maxLimitVolume,x=m.minOrderVolume,b="SELL"===e?this.maxCanSellNumber:this.maxCanBuyNumber,g=b;if(1===this.coUnitType&&!this.isOpenAndIsMarket&&b&&(g=Object(d["e"])(b,this.multiplier)),n>Number(g))return this.formData_3.errorText="".concat(this.lanText.text56," ").concat(b," ").concat(this.volUnit),t=!1,!1;if(n>p){var v=p;1===this.coUnitType&&(v=Object(d["x"])(p,this.multiplier)),this.formData_3.errorText="".concat(this.lanText.text44).concat(v," ").concat(this.volUnit,""),t=!1}if(n<x){var C=x;1===this.coUnitType&&(C=Object(d["x"])(x,this.multiplier)),this.formData_3.errorText="".concat(this.lanText.text45).concat(C," ").concat(this.volUnit,""),t=!1}if(this.zhiJianCang||2===this.transactionType){var _=Number("SELL"===e?this.maxCanSellNumber:this.maxCanBuyNumber);1===this.coUnitType&&(n=Object(d["x"])(n,this.multiplier)),n>_&&(this.formData_3.errorText=this.lanText.text46,t=!1)}}return this.setHeight(),t},formVerify:function(){var t=!0,e=this.sideType,i=this.countPercentageVlaue(e);return 1===this.currentCategory&&(this.inputPrice||(this.formData_1.errorText=this.lanText.text47,t=!1),this.inputVolume||i||(this.formData_3.errorText=this.lanText.text48,t=!1)),2!==this.currentCategory||i||(this.inputVolume||"OPEN"!==this.orderSide||(this.formData_3.errorText=this.lanText.text49,t=!1),this.inputVolume||"CLOSE"!==this.orderSide||(this.formData_3.errorText=this.lanText.text48,t=!1)),3===this.currentCategory&&(this.triggerPrice||(this.formData_1.errorText=this.lanText.text50,t=!1),this.inputPrice||this.isMarket||(this.formData_2.errorText=this.lanText.text47,t=!1),this.inputVolume||this.isMarket||i||(this.formData_3.errorText=this.lanText.text48,t=!1),this.inputVolume||!this.isMarket||"OPEN"!==this.orderSide||i||(this.formData_3.errorText=this.lanText.text49,t=!1)),this.setHeight(),t},amountVerify:function(){var t=this.canBuyCostNumber;return"SELL"===this.sideType&&(t=this.canSellCostNumber),!(Number(t)>Number(this.canUseAmount))||(this.$bus.$emit("tip",{text:this.lanText.text51,type:"error"}),!1)},submitForm:function(t){if(this.sideType=t,this.isLogin||(this.isIframe?window.parent.postMessage("login","*"):this.$router.push("/login")),!this.formVerify())return!1;if(!this.formNumberVerify(t))return!1;if(!this.amountVerify())return!1;var e=this.countPercentageVlaue(t)||this.inputVolume,i=e;if(!this.isOpenAndIsMarket&&i&&(i=Object(d["f"])(i,0)),this.submitData={contractId:this.contractId,positionType:this.marginModel,side:this.sideType,leverageLevel:this.nowLevel,price:this.inputPrice,volume:i,triggerPrice:this.triggerPrice,open:this.orderSide,type:this.submitOrderType,isConditionOrder:3===this.currentCategory},this.userConfig&&this.userConfig.pcSecondConfirm){var s=this.buttosContent.buyButton,a=this.canBuyCostNumber,n="u-1-bg";"SELL"===this.sideType&&(s=this.buttosContent.sellButton,a=this.canSellCostNumber,n="u-4-bg");var r="".concat(e," ").concat(this.volUnit);if("OPEN"!==this.orderSide||2!==this.currentCategory&&!this.isMarket)1===this.coUnitType&&(r="".concat(Object(d["f"])(Object(d["x"])(e,this.multiplier),this.volfix)," ").concat(this.volUnit));else{var o=this.contractInfo.base;1===this.contractSide&&(o=this.priceUnit),r="".concat(e," ").concat(o)}this.confirmData={symbol:this.contractSymbol,currentCategory:this.currentCategory,sideText:s.text,sideClass:n,isOpenAndIsMarket:this.isOpenAndIsMarket,triggerPrice:"".concat(this.triggerPrice," ").concat(this.priceUnit),price:this.inputPrice?"".concat(this.inputPrice," ").concat(this.priceUnit):"",vol:r,marginCoin:"".concat(a," ").concat(this.marginCoin)},this.forcedReminderShow=!0}else this.dialogConfirmLoading=!0,this.submit();return!1},submit:function(){var t=this;this.submitFlag&&(this.submitFlag=!1,this.axios({url:this.$store.state.url.futures.orderCreate,hostType:"co",method:"post",params:this.submitData}).then((function(e){var i=e.code,s=e.msg;"0"===i.toString()?(t.clearFormData(),t.$store.dispatch("getUserConfig"),t.$store.dispatch("getPositionList"),t.forcedReminderShow=!1,t.$bus.$emit("CRAET-ORDER-SUCCESS"),t.$bus.$emit("tip",{text:s,type:"success"})):t.$bus.$emit("tip",{text:s,type:"error"}),t.dialogConfirmLoading=!1,t.submitFlag=!0})))},submitOrder:function(t){var e=this;t&&this.axios({url:this.$store.state.url.futures.editUserPageConfig,hostType:"co",method:"post",params:{pcSecondConfirm:0,contractId:this.contractId}}).then((function(t){var i=t.code,s=t.msg;"0"===i.toString()?e.$store.dispatch("getUserConfig"):e.$bus.$emit("tip",{text:s,type:"error"})})),this.dialogConfirmLoading=!0,this.submit()},closeDialog:function(){this.forcedReminderShow=!1,this.leverageDialogShow=!1,this.depositDialogShow=!1},selectPlanType:function(t){this.expireTime=t},setHeight:function(){var t=this,e=setTimeout((function(){var i=document.getElementById("layoutBlockTrade")&&document.getElementById("layoutBlockTrade").clientHeight,s=document.getElementById("coTradeBox").clientHeight,a=i-s-15;t.$bus.$emit("syHeight",a),clearTimeout(e),e=null}),100)},thousandsComma:function(t){return t?Object(d["F"])(t):t},evenHandMouseenter:function(t,e){this[t]=e},evenHandMouseleave:function(t){this[t]=null}}},kt={name:"tradeFormCalculateVolume",computed:{leverOriginCeiling:function(){return this.userConfig?this.userConfig.leverOriginCeiling:null},setMaxNumber:function(){var t=0;if(this.leverOriginCeiling){var e=Object.keys(this.leverOriginCeiling);e.sort((function(t,e){return parseFloat(t)-parseFloat(e)}));for(var i=0,s=0;s<e.length;s+=1)Number(this.nowLevel)>i&&Number(this.nowLevel)<=e[s]&&(t=this.leverOriginCeiling[e[s]]),i=e[s];return t}return t},positionList:function(){return this.$store.state.future.positionList||[]},currentOrderLis:function(){return this.$store.state.future.currentOrderLis||[]},positionMaxBalance:function(){var t=this,e={buy:0,sell:0};return this.positionList.length&&this.positionList.forEach((function(i){t.contractId===i.contractId&&(e.buy+=i.positionBalance,e.sell+=i.positionBalance)})),e},orderMaxBalance:function(){var t=this,e={buy:0,sell:0};return this.currentOrderLis.length&&this.currentOrderLis.forEach((function(i){t.contractId===i.contractId&&"OPEN"===i.open&&(e.buy+=i.orderBalance,e.sell+=i.orderBalance)})),e},V1Buy:function(){return Object(d["d"])(Object(d["d"])(this.setMaxNumber,this.positionMaxBalance.buy),this.orderMaxBalance.buy)},V1Sell:function(){return Object(d["d"])(Object(d["d"])(this.setMaxNumber,this.positionMaxBalance.sell),this.orderMaxBalance.sell)},priceVal:function(){return 2===this.currentCategory||this.isMarket?this.activeNewPrice:this.inputPrice},maxBuyNumber:function(){return this.canUseAmount&&this.V1Buy&&this.priceVal&&"NaN"!==this.V1Buy.toString()?1===this.contractSide&&2===this.coUnitType?Object(d["e"])(Object(d["x"])(this.V1Buy,this.marginRate),Object(d["x"])(this.priceVal,this.multiplier)):0===this.contractSide&&2===this.coUnitType?Object(d["e"])(Object(d["x"])(this.V1Buy,this.priceVal),this.multiplier):1===this.contractSide&&1===this.coUnitType?Object(d["e"])(Object(d["x"])(this.V1Buy,this.marginRate),this.priceVal):0===this.contractSide&&1===this.coUnitType?Object(d["x"])(this.V1Buy,this.priceVal):0:0},maxSellNumber:function(){return this.canUseAmount&&this.V1Sell&&this.priceVal&&"NaN"!==this.V1Sell.toString()?1===this.contractSide&&2===this.coUnitType?Object(d["e"])(Object(d["x"])(this.V1Sell,this.marginRate),Object(d["x"])(this.priceVal,this.multiplier)):0===this.contractSide&&2===this.coUnitType?Object(d["e"])(Object(d["x"])(this.V1Sell,this.priceVal),this.multiplier):1===this.contractSide&&1===this.coUnitType?Object(d["e"])(Object(d["x"])(this.V1Sell,this.marginRate),this.priceVal):0===this.contractSide&&1===this.coUnitType?Object(d["x"])(this.V1Sell,this.priceVal):0:0},calculateMaxNumber:function(){if(!this.canUseAmount||!this.priceVal)return 0;if(1===this.contractSide){var t=Object(d["e"])(Object(d["x"])(this.canUseAmount,this.nowLevel),this.marginRate);if(2===this.coUnitType){var e=Object(d["x"])(this.priceVal,this.multiplier);return Object(d["e"])(t,e)}return Object(d["e"])(t,this.priceVal)}var i=Object(d["x"])(Object(d["x"])(this.canUseAmount,this.nowLevel),this.priceVal);return 1===this.coUnitType?i:Object(d["e"])(i,this.multiplier)},maxCloseBuy:function(){var t=0,e=0;return this.activeCanClose&&this.activeCanClose.BUY&&(e=this.activeCanClose.BUY),t=2===this.coUnitType?e:Object(d["x"])(e,this.multiplier),t<0?0:t},maxCloseSell:function(){var t=0,e=0;return this.activeCanClose&&this.activeCanClose.SELL&&(e=this.activeCanClose.SELL),t=2===this.coUnitType?e:Object(d["x"])(e,this.multiplier),t<0?0:t},maxCanBuyNumber:function(){if(2===this.transactionType||this.zhiJianCang)return Object(d["f"])(this.maxCloseSell,this.volfix);var t=this.calculateMaxNumber<this.maxBuyNumber?this.calculateMaxNumber:this.maxBuyNumber;return t<0?0:Object(d["f"])(t,this.volfix)},maxCanSellNumber:function(){if(2===this.transactionType||this.zhiJianCang)return Object(d["f"])(this.maxCloseBuy,this.volfix);var t=this.calculateMaxNumber<this.maxSellNumber?this.calculateMaxNumber:this.maxSellNumber;return t<0?0:Object(d["f"])(t,this.volfix)},canBuyCostNumber:function(){return this.isLogin?Object(d["f"])(this.calculateCostNumber("BUY"),this.marginCoinFix):0},canSellCostNumber:function(){return this.isLogin?Object(d["f"])(this.calculateCostNumber("SELL"),this.marginCoinFix):0}},methods:{calculateCostNumber:function(t){var e=this.inputVolume;this.percentageVlaue&&(e=this.countPercentageVlaue(t));var i=0;return 2===this.transactionType||this.zhiJianCang?0:1===this.currentCategory||3===this.currentCategory&&!this.isMarket?this.inputPrice?(i=Object(d["x"])(Object(d["e"])(Object(d["e"])(Object(d["x"])(e,this.multiplier),this.inputPrice),this.nowLevel),this.marginRate),1===this.contractSide&&(i=Object(d["x"])(Object(d["e"])(Object(d["x"])(Object(d["x"])(e,this.multiplier),this.inputPrice),this.nowLevel),this.marginRate)),i):0:2===this.currentCategory||3===this.currentCategory&&this.isMarket?(i=Object(d["x"])(Object(d["e"])(e,this.nowLevel),this.marginRate),i):i}}},At=(i("2dfe"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"select-price",class:{haveMarket:t.haveMarket}},[t.isMarket?t._e():i("div",{staticClass:"form-control a-3-bd",class:t.inputClass,style:{width:t.haveMarket?"210px":"100%"},on:{click:t.focusInput}},[t.title?i("span",{staticClass:"title a-1-bd",class:{promptText:t.promptText}},[t._v("\n      "+t._s(t.title)+"\n      "),t.promptText?i("p",{staticClass:"tip-text2 a-5-bg a-3-bd",domProps:{innerHTML:t._s(t.promptText)}}):t._e()]):i("span",{staticClass:"title b-1-cl"},[t._v(t._s(t.placeHolder))]),i("span",{staticClass:"unit b-1-cl"},[t._v(t._s(t.unit))]),t.isPercentage?i("div",{staticClass:"percentage-vol a-3-bd",on:{click:t.clearPercentage}},[t._v("\n      "+t._s(t.isPercentage)+"%\n    ")]):t._e(),i("input",{directives:[{name:"show",rawName:"v-show",value:!t.isPercentage,expression:"!isPercentage"},{name:"model",rawName:"v-model",value:t.value,expression:"value"}],ref:"formInput",staticClass:"b-1-cl",attrs:{type:"text",placeholder:t.placeHolder},domProps:{value:t.value},on:{mouseenter:function(e){return t.focusInputClass(!1)},mouseout:t.mouseoutInputClass,input:[function(e){e.target.composing||(t.value=e.target.value)},function(e){return t.handleInput(e.target.value)}],focus:function(e){return t.focusInputClass(!0)},blur:t.blurinputClass}})]),t.isMarket&&t.haveMarket?i("div",{staticClass:"market-price a-3-bd",on:{click:t.selectMarket}},[t._v("\n    "+t._s(this.$t("futures.tradeForm.text52"))+"\n  ")]):t._e(),t.haveMarket?i("a",{staticClass:"a-3-bd market-price-btn",class:t.isMarket?"a-12-bd b-4-cl":"a-3-bd",on:{click:t.selectMarket}},[t._v("\n     "+t._s(this.$t("futures.tradeForm.mPrice"))+"\n    ")]):t._e()])}),It=[],Mt={name:"form-input",props:{isMarket:{default:!1,type:Boolean},fix:{default:2,type:[Number,String]},default:{default:"",type:[Number,String]},unit:{default:"",type:String},title:{default:"",type:String},placeHolder:{default:"",type:String},haveMarket:{default:!1,type:Boolean},isVol:{default:!1,type:Boolean},isPercentage:{default:"",type:[Number,String]},isError:{default:null,type:[Number,String]},promptText:{default:"",type:String}},data:function(){return{value:"",inputClass:"",isFocus:!1}},computed:{coinList:function(){return this.$store.state.baseData&&this.$store.state.baseData.market?this.$store.state.baseData.market.coinList:null},coinUnit:function(){return this.$store.state.swap.coinUnit},valueUnit:function(){return this.$store.state.swap.valueUnit}},watch:{default:function(t){this.value=t},isError:function(t){this.inputClass=t?"a-19-bd":"a-3-bd"},isMarket:function(t){var e=this;t||setTimeout((function(){e.$refs.formInput.focus()}))}},mounted:function(){this.value=this.default,this.inputClass=this.isError?"a-19-bd":"a-3-bd"},methods:{focusInputClass:function(t){this.isError||(this.inputClass="a-12-bd",t&&(this.isFocus=t))},blurinputClass:function(){this.isError||(this.isFocus=!1,this.inputClass="a-3-bd")},mouseoutInputClass:function(){this.isError||this.isFocus||(this.inputClass="a-3-bd")},selectMarket:function(){this.$emit("selectMarket")},focusInput:function(){var t=this;setTimeout((function(){t.$refs.formInput.focus()}))},clearPercentage:function(){var t=this;this.$emit("clearPercentage"),setTimeout((function(){t.$refs.formInput.focus()}))},newFixInput:function(t,e){return Object(d["h"])(t,e)},handleInput:function(t){var e,i=t,s=t;s.length>=10&&(i=s.substring(0,12)),e=this.isVol?this.volChange(i):this.newFixInput(i,this.fix),this.value=e,this.$emit("tradeChangeValue",e)},volChange:function(t){return t?this.newFixInput(t,this.fix):""}}},Pt=Mt,Ft=(i("17e6"),Object(C["a"])(Pt,At,It,!1,null,"59205126",null)),Nt=Ft.exports,jt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("c-dialog",{attrs:{paddingBottom:"14px",showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,titleText:t.titleText,confirmText:t.confirmText,confirmBtnClass:"toConfirmBtn"},on:{close:t.close,confirm:t.submitConfirm}},[i("section",{staticClass:"forced-reminder-window"},[i("div",{staticClass:"stop-profit-and-loss"},[i("div",{staticClass:"title"},[t._v("\n          "+t._s(t.orderType)+" "+t._s(t.time)+"\n        ")]),i("div",{staticClass:"dialog-div a-4-bg"},[3===t.dataInfo.currentCategory?i("div",{staticClass:"dialog-div-module a-5-bd"},[i("span",{staticClass:"th"},[t._v("\n              "+t._s(t.lanText.text1)+"\n            ")]),i("span",{staticClass:"td b-1-cl"},[t._v(t._s(t.dataInfo.triggerPrice))])]):t._e(),i("div",{staticClass:"dialog-div-module a-5-bd"},[i("span",{staticClass:"th"},[t._v("\n              "+t._s(t.lanText.text2)+"\n            ")]),i("span",{staticClass:"td b-1-cl"},[t._v(t._s(t.dataInfo.price))])]),i("div",{staticClass:"dialog-div-module a-5-bd"},[i("span",{staticClass:"th"},[t._v(" "+t._s(t.volPrice)+" ")]),i("span",{staticClass:"td b-1-cl"},[t._v(" "+t._s(t.dataInfo.vol)+" ")])]),i("div",{staticClass:"dialog-div-module a-5-bd margin-item"},[i("span",{staticClass:"th"},[t._v(" "+t._s(t.marginTitle)+" ")]),i("span",{staticClass:"td b-1-cl"},[t._v(" "+t._s(t.dataInfo.marginCoin)+" ")])])]),i("p",{staticClass:"not-reconfirm",on:{click:t.isReConfirmFun}},[i("c-checkBox",{attrs:{value:t.isNotReConfirm}}),t._v("\n          "+t._s(t.lanText.text3)+"\n        ")],1)])])])],1)},Et=[],Ut={name:"set-forcedReminder",data:function(){return{dialogConfirmLoading:!1,dialogConfirmDisabled:!1,isNotReConfirm:!1,time:null,timer:null}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function},dataInfo:{default:function(){return{}},type:Object}},computed:{lanText:function(){return{text1:this.$t("futures.reminder.text1"),text2:this.$t("futures.reminder.text2"),text3:this.$t("futures.reminder.text3"),text4:this.$t("futures.reminder.text4"),text5:this.$t("futures.reminder.text5"),text6:this.$t("futures.reminder.text6"),text7:this.$t("futures.reminder.text7"),text8:this.$t("futures.reminder.text8"),text9:this.$t("futures.reminder.text9"),text10:this.$t("futures.reminder.text10")}},titleText:function(){return this.dataInfo?"".concat(this.dataInfo.sideText).concat(this.dataInfo.symbol):null},confirmText:function(){return this.dataInfo.sideText},volPrice:function(){return this.dataInfo.isOpenAndIsMarket?this.lanText.text4:this.lanText.text5},marginTitle:function(){return this.dataInfo&&3===this.dataInfo.currentCategory?this.lanText.text6:this.lanText.text7},orderType:function(){var t=this.lanText.text8;return 2===this.dataInfo.currentCategory&&(t=this.lanText.text9),3===this.dataInfo.currentCategory&&(t=this.lanText.text10),t}},watch:{dataInfo:function(t){setTimeout((function(){var e=document.getElementsByClassName("toConfirmBtn")[0];e&&e.style.setProperty("background-color",Object(d["q"])(d["c"][t.sideClass]),"important")}))}},methods:{init:function(){var t=this;clearInterval(this.timer),this.fnCreatClock(),this.timer=setInterval((function(){t.fnCreatClock()}),1e3)},submitConfirm:function(){this.$emit("submitOrder",this.isNotReConfirm)},isReConfirmFun:function(){this.isNotReConfirm=!this.isNotReConfirm},fnToDouble:function(t){var e="";return e=t<10?"0".concat(t):"".concat(t),e},fnCreatClock:function(){var t=new Date,e=t.getFullYear(),i=t.getMonth()+1,s=t.getDate(),a=t.getHours(),n=t.getMinutes(),r=t.getSeconds();this.time="".concat(e,"-").concat(this.fnToDouble(i),"-").concat(this.fnToDouble(s)," ").concat(this.fnToDouble(a),":").concat(this.fnToDouble(n),":").concat(this.fnToDouble(r))}}},Vt=(i("a937"),{mixins:[Ut],mounted:function(){this.init()}}),Bt=Vt,Rt=Object(C["a"])(Bt,jt,Et,!1,null,null,null),Wt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-dialog",{attrs:{paddingBottom:"14px",titleText:t.dialogTitle,showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,confirmText:t.confirmText},on:{close:t.close,confirm:t.submitLeverage}},[i("div",{staticClass:"lever-box",class:{"no-drop":!t.levelSwitch}},[i("div",{staticClass:"add-and-sub a-3-bd",class:t.inputActiveClass},[i("label",{staticClass:"label"},[t._v("\n        "+t._s(t.lanText.text1)+"\n      ")]),i("div",{staticClass:"content"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.leverage,expression:"leverage"}],staticClass:"b-1-cl",attrs:{type:"text",disabled:t.inputDisabled},domProps:{value:t.leverage},on:{focus:function(e){t.inputActiveClass="a-12-bd"},blur:function(e){t.inputActiveClass="a-3-bd"},input:function(e){e.target.composing||(t.leverage=e.target.value)}}})]),i("div",{staticClass:"options"},[i("a",{staticClass:"add a-3-bd",on:{click:t.add}},[i("i",[i("svg",{staticClass:"icon icon-14 hover-show",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11"}})]),i("svg",{staticClass:"icon icon-14  hover-hide",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11_1"}})])])]),i("a",{staticClass:"sub a-3-bd",on:{click:t.subtract}},[i("i",[i("svg",{staticClass:"icon icon-14  hover-show",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11"}})]),i("svg",{staticClass:"icon icon-14  hover-hide",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11_1"}})])])])])]),i("div",{ref:"dragStepWrap",staticClass:"transaction-drag",on:{click:function(e){return e.stopPropagation(),t.onmousedownCick.apply(null,arguments)}}},[i("span",{ref:"dragStep",staticClass:"drag-step c-8-bd a-5-bg",style:{left:t.stepPosition+"%"},on:{mousedown:t.onmousedown}}),i("span",{staticClass:"drag-def a-3-bg"},[i("em",{staticClass:"drag-bar c-8-bg",style:{width:t.stepPosition+"%"}})]),i("i",{staticClass:"c-8-bg a-6-bd drag-step0",style:{left:"1%"},on:{click:function(e){return e.stopPropagation(),t.dragStep(0)}}},[i("b",{staticClass:"mark"},[t._v("1X")])]),t._l(5,(function(e){return i("i",{key:e,staticClass:"a-6-bd",class:["drag-step"+e,20*e>t.stepPosition?"a-3-bg":"c-8-bg"],style:{left:parseInt(20*e)+"%"},on:{click:function(i){return i.stopPropagation(),t.dragStep(e)}}},[i("b",{staticClass:"mark"},[t._v(t._s(t.nulFun(e,t.itemLvaue))+" X")])])}))],2),t.isShowUserMaxLevel?i("div",{staticClass:"max-can-open f-6-cl"},[t._v("\n      *"+t._s(t.lanText.text2)+"\n      "+t._s(t.userMaxLevel)+"X\n    ")]):t._e(),i("div",{staticClass:"max-can-open"},[t._v("\n      "+t._s(t.lanText.text3)+"\n      "),i("span",[t._v(" "+t._s(t.thousandsComma(t.maxNumber))+" "+t._s(t.coUnit)+" ")])])])])},zt=[],Yt={name:"lever",data:function(){return{stepPosition:1,currenttage:1,movement:0,dialogConfirmLoading:!1,dialogConfirmDisabled:!1,inputDisabled:!1,inputActiveClass:"",leverage:0,minLeverage:1,maxLeverage:100,levelSwitch:!0,maxNumber:0,isShowUserMaxLevel:!1}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function}},computed:{lanText:function(){return{text1:this.$t("futures.lever.text1"),text2:this.$t("futures.lever.text2"),text3:this.$t("futures.lever.text3"),text4:this.$t("futures.lever.text4"),text5:this.$t("futures.lever.text5"),text6:this.$t("futures.lever.text6"),text7:this.$t("futures.lever.text7"),text8:this.$t("futures.lever.text8")}},itemLvaue:function(){return Object(d["e"])(this.maxLeverage,5)},feeValue:function(){return Object(d["e"])(this.maxLeverage,100)},confirmText:function(){var t=this.lanText.text4;return this.isLogin||(t=this.lanText.text5),this.levelSwitch||(t=this.lanText.text6,this.dialogConfirmDisabled=!0),t},isLogin:function(){return this.$store.state.baseData.isLogin},userConfig:function(){return this.$store.state.future.futureUserConfig},leverCeiling:function(){return this.userConfig?this.userConfig.leverCeiling:null},userMaxLevel:function(){return this.userConfig?this.userConfig.userMaxLevel:0},contractId:function(){return this.$store.state.future.contractId},coUnit:function(){return this.$store.state.future.coUnit},multiplier:function(){return Number(this.$store.state.future.multiplier)},volfix:function(){return this.$store.state.future.volfix},coUnitType:function(){return this.$store.state.future.coUnitType},contractInfo:function(){return this.$store.state.future.contractInfo},activeContractName:function(){var t="",e="";if(this.contractInfo){var i=this.contractInfo.symbol?this.contractInfo.symbol.replace("-",""):"";"E"!==this.contractInfo.contractType&&(e="-".concat(this.contractInfo.marginCoin)),t="".concat(i).concat(e)}return t},dialogTitle:function(){return"".concat(this.activeContractName," ").concat(this.lanText.text7)}},watch:{currenttage:function(t){t||0===t?(t>100&&(this.currenttage=100),this.leverage=t<2?1:Math.round(Object(d["x"])(this.currenttage,this.feeValue))):this.leverage=""},leverage:function(t,e){var i=this;t&&(Number(t)>this.userMaxLevel?(this.isShowUserMaxLevel=!0,setTimeout((function(){i.leverage=i.userMaxLevel}),100)):(this.leverage=Object(d["h"])(t,0),e&&Number(e)<=this.userMaxLevel&&Number(t)<Number(e)&&(this.isShowUserMaxLevel=!1),this.userMaxLevel&&Number(t)>this.userMaxLevel?this.dialogConfirmDisabled=!0:this.dialogConfirmDisabled=!1,Number(t)>this.maxLeverage&&(this.leverage=this.maxLeverage),this.setPosition(),this.setMaxNumber()))},userConfig:function(t){t&&(this.levelSwitch=!!this.userConfig.levelCanSwitch,this.minLeverage=this.userConfig.minLevel,this.maxLeverage=this.userConfig.maxLevel,this.dialogConfirmDisabled=!this.levelSwitch)}},methods:{init:function(){this.userConfig?(this.leverage=this.userConfig.nowLevel,this.minLeverage=this.userConfig.minLevel,this.maxLeverage=this.userConfig.maxLevel,this.levelSwitch=!!this.userConfig.levelCanSwitch,this.dialogConfirmDisabled=!this.levelSwitch):this.leverage=20,document.onmouseup=function(){document.onmousemove=null}},setMaxNumber:function(){var t=0;if(this.leverCeiling){var e=Object.keys(this.leverCeiling);e.sort((function(t,e){return parseFloat(t)-parseFloat(e)}));for(var i=0,s=0;s<e.length;s+=1)Number(this.leverage)>i&&Number(this.leverage)<=e[s]&&(t=this.leverCeiling[e[s]]),i=e[s];1===this.coUnitType&&(this.maxNumber=Object(d["f"])(t,this.volfix)),2===this.coUnitType&&(this.maxNumber=Object(d["f"])(Object(d["e"])(t,this.multiplier),0))}},setPosition:function(){this.leverage?this.leverage<2?this.stepPosition=0:this.stepPosition=Object(d["e"])(this.leverage,this.feeValue):this.stepPosition=1},onmousedownCick:function(t){if(this.levelSwitch){var e=this.$refs.dragStepWrap,i=e.getBoundingClientRect().x,s=t||window.event,a=s.clientX-i,n=parseInt(Object(d["x"])(Object(d["e"])(a,e.offsetWidth),100),0);this.currenttage=n<1?1:n}},onmousedown:function(t){var e=this;if(this.levelSwitch){var i=t||window.event,s=this.$refs.dragStep,a=this.$refs.dragStepWrap,n=i.clientX-s.offsetLeft;document.onmousemove=function(t){i=t||window.event;var s=i.clientX-n;s<0?s=0:s>a.offsetWidth&&(s=a.offsetWidth);var r=parseInt(Object(d["x"])(Object(d["e"])(s,a.offsetWidth),100),0);e.currenttage=r<1?1:r,document.onmouseup=function(){document.onmousemove=null}},document.onmouseup=function(){document.onmousemove=null}}},dragStep:function(t){this.levelSwitch&&(this.currenttage=Object(d["x"])(t,20),this.$emit("levelChange",t))},nulFun:function(t,e){return Math.round(Object(d["x"])(t,e))},add:function(){if(this.isClickAddOrSub=!0,this.levelSwitch)if(Number(this.leverage)<Number(this.maxLeverage)&&Number(this.leverage)<Number(this.userMaxLevel)){var t=Number(this.leverage)+1;this.leverage=t,this.isShowUserMaxLevel=!1}else this.isShowUserMaxLevel=!0},subtract:function(){if(this.levelSwitch)if(this.isClickAddOrSub=!0,Number(this.leverage)>1){var t=Number(this.leverage)-1;this.leverage=t,this.isShowUserMaxLevel=!1}else this.isShowUserMaxLevel=!0},submitLeverage:function(){var t=this;return this.isLogin?(this.minLeverage>this.leverage&&this.$bus.$emit("tip",{text:"".concat(this.lanText.text8).concat(this.minLeverage),type:"error"}),this.userConfig&&(this.dialogConfirmLoading=!0,this.axios({url:this.$store.state.url.futures.levelEdit,hostType:"co",method:"post",params:{nowLevel:this.leverage,contractId:this.contractId}}).then((function(e){var i=e.code,s=e.msg;"0"===i.toString()?(t.$store.dispatch("getUserConfig"),t.close(),t.$bus.$emit("tip",{text:s,type:"success"})):t.$bus.$emit("tip",{text:s,type:"error"}),t.dialogConfirmLoading=!1}))),!1):(this.$router.push("/login"),!1)},thousandsComma:function(t){return t?Object(d["F"])(t):t}}},Jt=(i("3b1c"),{mixins:[Yt],mounted:function(){this.init()}}),Gt=Jt,Kt=Object(C["a"])(Gt,Ht,zt,!1,null,null,null),qt=Kt.exports,Xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-dialog",{staticClass:"depositModeDialog",attrs:{paddingBottom:"14px",showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,confirmText:t.confirmText,titleText:t.titleText},on:{close:t.close,confirm:t.submit}},[i("div",{staticClass:"depositMode-box"},[i("div",{staticClass:"category-select-box"},t._l(t.categoryList,(function(e,s){return i("span",{key:s,staticClass:"tab b-1-cl",class:e.classes,on:{click:function(i){return t.selectCategory(e.id)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])})),0),i("div",{staticClass:"text"},[1===t.marginModel?[i("p",{domProps:{innerHTML:t._s(t.lanText.text1)}})]:[i("p",{domProps:{innerHTML:t._s(t.lanText.text2)}})]],2)])])},Zt=[],Qt={name:"depositMode",data:function(){return{marginModel:1,dialogConfirmLoading:!1,dialogConfirmDisabled:!1}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function}},computed:{lanText:function(){return{text1:this.$t("futures.depositMode.text1"),text2:this.$t("futures.depositMode.text2"),text3:this.$t("futures.depositMode.text3"),text4:this.$t("futures.depositMode.text4"),text5:this.$t("futures.depositMode.text5"),text6:this.$t("futures.depositMode.text6"),text7:this.$t("futures.depositMode.text7"),text8:this.$t("futures.depositMode.text8"),text9:this.$t("futures.depositMode.text9"),text10:this.$t("futures.depositMode.text10"),text12:this.$t("futures.depositMode.text12")}},confirmText:function(){var t=1===this.marginModel?this.lanText.text3:this.lanText.text4;return this.isLogin?(this.userConfig&&this.marginModel===this.userConfig.marginModel&&(t=1===this.marginModel?this.lanText.text6:this.lanText.text7,this.dialogConfirmDisabled=!0),this.userConfig&&this.marginModel!==this.userConfig.marginModel&&(this.dialogConfirmDisabled=!1),this.userConfig&&!this.userConfig.marginModelCanSwitch&&(t=this.lanText.text8,this.dialogConfirmDisabled=!0),this.userConfig||(this.dialogConfirmDisabled=!0),t):this.lanText.text5},categoryList:function(){return[{id:1,text:this.lanText.text9,classes:1===this.marginModel?"u-8-bg":"a-3-bg"},{id:2,text:this.lanText.text10,classes:2===this.marginModel?"u-8-bg":"a-3-bg"}]},isLogin:function(){return this.$store.state.baseData.isLogin},userConfig:function(){return this.$store.state.future.futureUserConfig},contractId:function(){return this.$store.state.future.contractId},contractInfo:function(){return this.$store.state.future.contractInfo},activeContractName:function(){var t="",e="";if(this.contractInfo){var i=this.contractInfo.symbol?this.contractInfo.symbol.replace("-",""):"";"E"!==this.contractInfo.contractType&&(e="-".concat(this.contractInfo.marginCoin)),t="".concat(i).concat(e)}return t},titleText:function(){return"".concat(this.activeContractName).concat(this.lanText.text12)}},methods:{init:function(){this.userConfig&&(this.userConfig.marginModelCanSwitch?this.marginModel=1===this.userConfig.marginModel?2:1:this.marginModel=this.userConfig.marginModel)},selectCategory:function(t){this.marginModel=t},submit:function(){var t=this;return this.isLogin?(this.userConfig&&(this.dialogConfirmLoading=!0,this.axios({url:this.$store.state.url.futures.marginModelEdit,hostType:"co",method:"post",params:{marginModel:this.marginModel,contractId:this.contractId}}).then((function(e){var i=e.code,s=e.msg;"0"===i.toString()?(t.$store.dispatch("getUserConfig"),t.close(),t.$bus.$emit("tip",{text:s,type:"success"})):t.$bus.$emit("tip",{text:s,type:"error"}),t.dialogConfirmLoading=!1}))),!1):(this.$router.push("/login"),!1)}}},te=(i("537a"),{mixins:[Qt],mounted:function(){this.init()}}),ee=te,ie=Object(C["a"])(ee,Xt,Zt,!1,null,null,null),se=ie.exports,ae={mixins:[Ot,kt],components:{formInput:Nt,forcedReminder:Wt,leverComponent:qt,depositMode:se},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.assetsInter)}},ne=ae,re=(i("995e"),Object(C["a"])(ne,St,Lt,!1,null,"d645e8fa",null)),oe=re.exports,ce=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"sl-swap-assets a-6-bg a-8-bd",style:{height:t.boxHeight+"px"}},[i("div",{staticClass:"block-header title a-3-bd a-21-bg"},[t.isLogin&&t.openContract?i("span",{staticClass:"tab",class:{"a-12-bd b-1-cl":1===t.blockType},on:{click:function(e){return t.switchBlock(1)}}},[t._v("\n      "+t._s(t.lanText.text1)+"\n    ")]):t._e(),i("span",{staticClass:" tab",class:{"a-12-bd b-1-cl":2===t.blockType},on:{click:function(e){return t.switchBlock(2)}}},[t._v("\n      "+t._s(t.lanText.text2)+"\n    ")]),1===t.blockType&&t.openContract?i("a",{staticClass:"b-4-cl",on:{click:t.openTransfer}},[t._v("\n      "+t._s(t.lanText.text3)+"\n    ")]):i("a",{staticClass:"b-4-cl",on:{click:t.goFuturesData}},[t._v("\n      "+t._s(t.lanText.text25)+"\n    ")])]),i("div",{style:{height:t.boxHeight-30+"px"}},[i("vue-scroll",[1===t.blockType?[t.balanceInfor.totalAmount&&0!==Number(t.balanceInfor.totalAmount)?i("div",{staticClass:"assetsChart"},[i("assetsChart",{attrs:{balanceInfor:t.balanceInfor}}),i("div",{staticClass:"total-rate"},[i("p",{staticClass:"text-il"},[i("span",{staticClass:"b-1-cl"},[t._v("\n              "+t._s(t.balanceInfor.totalMarginRate)+" %\n            ")])]),i("div",{staticClass:"hint-father text-il"},[i("a",{staticClass:"b-2-cl a-1-bd"},[t._v("\n                "+t._s(t.lanText.text5)+"\n              ")]),i("p",{staticClass:"hint a-5-bg b-1-cl a-3-bd",class:t.hintClass,domProps:{innerHTML:t._s(t.lanText.text6)}})])])],1):t._e(),i("ul",{staticClass:"assets-list"},[i("li",{staticClass:"total-amount a-3-bd"},[i("i",{staticClass:"bg a-4-bg"}),i("div",{staticClass:"hint-father"},[i("a",{staticClass:"b-2-cl"},[t._v("\n                "+t._s(t.lanText.text7)+"\n              ")]),i("p",{staticClass:"hint a-5-bg b-1-cl a-3-bd",class:t.hintClass},[t._v("\n                "+t._s(t.marginCoin)+"\n                "),i("span",{domProps:{innerHTML:t._s(t.lanText.text8)}})])]),i("span",{staticClass:"b-1-cl"},[t._v(t._s(t.thousandsComma(t.balanceInfor.totalAmount))+"\n              "+t._s(t.marginCoin))])]),i("li",[i("i",{staticClass:"bg a-4-bg"}),i("div",{staticClass:"hint-father"},[i("a",{staticClass:"b-2-cl a-1-bd"},[i("i",{staticClass:"clole-style clole-style_1"}),t._v("\n                "+t._s(t.lanText.text9)+"\n              ")]),i("p",{staticClass:"hint a-5-bg b-1-cl a-3-bd",class:t.hintClass,domProps:{innerHTML:t._s(t.lanText.text10)}})]),i("span",{staticClass:"b-1-cl"},[t._v(t._s(t.thousandsComma(t.balanceInfor.totalMargin))+"\n              "+t._s(t.marginCoin))])]),i("li",[i("i",{staticClass:"bg a-4-bg"}),i("div",{staticClass:"hint-father"},[i("a",{staticClass:"b-2-cl a-1-bd"},[i("i",{staticClass:"clole-style clole-style_2"}),t._v("\n              "+t._s(t.lanText.text11)+"\n            ")]),i("p",{staticClass:"hint a-5-bg b-1-cl a-3-bd",class:t.hintClass,domProps:{innerHTML:t._s(t.lanText.text12)}})]),i("span",{staticClass:"b-1-cl"},[t._v(t._s(t.thousandsComma(t.balanceInfor.isolateMargin))+"\n              "+t._s(t.marginCoin))])]),i("li",[i("i",{staticClass:"bg a-4-bg"}),i("div",{staticClass:"hint-father"},[i("a",{staticClass:"b-2-cl"},[i("i",{staticClass:"clole-style clole-style_3"}),t._v("\n                "+t._s(t.lanText.text13)+"\n              ")]),i("p",{staticClass:"hint a-5-bg b-1-cl a-3-bd",class:t.hintClass},[t._v("\n                "+t._s(t.lanText.text14)+"\n              ")])]),i("span",{staticClass:"b-1-cl"},[t._v(t._s(t.thousandsComma(t.balanceInfor.lockAmount))+" "+t._s(t.marginCoin))])])])]:i("div",{staticClass:"futures-info-list"},[i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v("\n              "+t._s(t.lanText.text15)+"\n            ")]),i("span",{staticClass:"td"},[t._v(t._s(t.contractNames(t.contractInfo.symbol)))])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v(" "+t._s(t.lanText.text16))]),i("span",{staticClass:"td"},[t._v(" "+t._s(t.contractShowType)+" ")])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v(" "+t._s(t.lanText.text17))]),i("span",{staticClass:"td"},[t._v(t._s(t._f("setSymbolNumer")(t.contractInfo.symbol))+"\n              "),t._v("\n              "+t._s(t.lanText.text18)+"\n            ")])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v(" "+t._s(t.lanText.text19))]),i("span",{staticClass:"td"},[t._v(t._s(t.marginCoin))])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v(" "+t._s(t.lanText.text20))]),i("span",{staticClass:"td"},[t._v(t._s(t.thousandsComma(t.contractInfo.multiplier))+"\n              "+t._s(t.contractInfo.multiplierCoin))])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v("  "+t._s(t.lanText.text21))]),i("span",{staticClass:"td"},[t._v(t._s(t._f("setfixNumer")(t.pricefix))+" "+t._s(t.priceUnit))])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v("  "+t._s(t.lanText.text22))]),i("span",{staticClass:"td"},[t._v(t._s(t.minMarginRate)+"%")])]),i("div",{staticClass:"info-item a-3-bd"},[i("span",{staticClass:"th"},[t._v("  "+t._s(t.lanText.text23))]),i("span",{staticClass:"td"},[t._v(t._s(t.contractInfo.settlementFrequency)+"min")])])])],2)],1),i("common-transfer",{attrs:{symbol:t.marginCoin,isShow:t.transferIsShow,close:t.closeDialog}})],1)},ue=[],le={name:"futuresaAssets",data:function(){return{transferIsShow:!1,blockType:2,boxHeight:332,ladderList:[],minMarginRate:0}},computed:{lanText:function(){return{text1:this.$t("futures.assets.text1"),text2:this.$t("futures.assets.text2"),text3:this.$t("futures.assets.text3"),text4:this.$t("futures.assets.text4"),text5:this.$t("futures.assets.text5"),text6:this.$t("futures.assets.text6"),text7:this.$t("futures.assets.text7"),text8:this.$t("futures.assets.text8"),text9:this.$t("futures.assets.text9"),text10:this.$t("futures.assets.text10"),text11:this.$t("futures.assets.text11"),text12:this.$t("futures.assets.text12"),text13:this.$t("futures.assets.text13"),text14:this.$t("futures.assets.text14"),text15:this.$t("futures.assets.text15"),text16:this.$t("futures.assets.text16"),text17:this.$t("futures.assets.text17"),text18:this.$t("futures.assets.text18"),text19:this.$t("futures.assets.text19"),text20:this.$t("futures.assets.text20"),text21:this.$t("futures.assets.text21"),text22:this.$t("futures.assets.text22"),text23:this.$t("futures.assets.text23"),text24:this.$t("futures.assets.text24"),text25:this.$t("futures.assets.text25")}},deliveryKind:function(){return this.lanText.text24},contractShowType:function(){return this.contractInfo?this.deliveryKind[Number(this.contractInfo.deliveryKind)]:this.deliveryKind[0]},isLogin:function(){return!!this.$store.state.baseData.isLogin&&this.$store.state.baseData.isLogin},contractInfo:function(){return this.$store.state.future.contractInfo?this.$store.state.future.contractInfo:{}},openContract:function(){return this.$store.state.future.openContract},priceUnit:function(){return this.$store.state.future.priceUnit},marginCoin:function(){return this.contractInfo?this.contractInfo.marginCoin:""},contractId:function(){return this.$store.state.future.contractId},marginCoinFix:function(){return this.contractInfo&&this.contractInfo.coinResultVo?this.contractInfo.coinResultVo.marginCoinPrecision:4},accountBalanceMap:function(){return this.$store.state.future.futureAccountBalance},accountBalance:function(){return this.accountBalanceMap&&this.marginCoin?this.accountBalanceMap[this.marginCoin]:{}},balanceInfor:function(){return this.accountBalance?{totalMarginRate:this.fixdRose(this.accountBalance.totalMarginRate),canUseAmount:Object(d["f"])(this.accountBalance.canUseAmount,this.marginCoinFix),totalAmount:Object(d["f"])(this.accountBalance.totalAmount,this.marginCoinFix),totalMargin:Object(d["f"])(this.accountBalance.totalMargin,this.marginCoinFix),isolateMargin:Object(d["f"])(this.accountBalance.isolateMargin,this.marginCoinFix),lockAmount:Object(d["f"])(this.accountBalance.lockAmount,this.marginCoinFix),realizedAmount:Object(d["f"])(this.accountBalance.realizedAmount,this.marginCoinFix),unRealizedAmount:Object(d["f"])(this.accountBalance.unRealizedAmount,this.marginCoinFix)}:{canUseAmount:"0",totalAmount:"0",totalMargin:"0",isolateMargin:"0",lockAmount:"0",realizedAmount:"0",unRealizedAmount:"0"}},pricefix:function(){return this.$store.state.future.pricefix},hintClass:function(){return this.balanceInfor.totalAmount&&0!==Number(this.balanceInfor.totalAmount)?"position-top":""},linkurl:function(){return this.$store.state.baseData.publicInfo?this.$store.state.baseData.publicInfo.url:{}},futuresDataUrl:function(){var t=this.$store.state.baseData.lan;return this.$store.state.baseData&&this.$store.state.baseData.publicInfo&&this.linkurl.coUrl?"".concat(this.linkurl.coUrl,"/").concat(t,"/futuresData"):""}},watch:{isLogin:function(t){t&&this.openContract?this.blockType=1:(this.blockType=2,this.getladderList())},openContract:function(t){t&&this.isLogin?this.blockType=1:(this.blockType=2,this.getladderList())}},filters:{setfixNumer:function(t){return 0===t?"1":1===t?"0.1":"".concat(Object(d["f"])(0,t-1),"1")},setSymbolNumer:function(t){return t?t.replace(/-/g,""):""}},methods:{contractNames:function(t){var e=t;t&&(e=t.replace(/-/g,""));var i="";return"E"!==this.contractInfo.contractType&&(i="-".concat(this.contractInfo.marginCoin)),"".concat(e).concat(i)},init:function(){var t=this;this.$bus.$on("syHeight",(function(e){t.boxHeight=e})),this.isLogin?this.blockType=1:(this.blockType=2,this.getladderList())},openTransfer:function(){this.transferIsShow=!0},fixdRose:function(t){if(t&&"--"!==t){var e="",i=parseFloat(t,0);i>0&&(e="+"),i<0&&(e="-");var s=Math.abs(1e4*t/100);return"".concat(e).concat(Number(s.toString().match(/^\d+(?:\.\d{0,2})?/)))}return t},closeDialog:function(){this.transferIsShow=!1},switchBlock:function(t){this.blockType!==t&&(this.blockType=t),2===t&&this.getladderList()},getladderList:function(){var t=this;this.axios({url:this.$store.state.url.futures.getLadderInfo,method:"post",hostType:"co",params:{contractId:this.contractId}}).then((function(e){if(t.tableLoading=!1,"0"===e.code&&e.data&&e.data.ladderList&&(t.ladderList=e.data.ladderList.ladderList||[],t.ladderList&&t.ladderList.length)){var i=t.ladderList[0].minMarginRate;t.minMarginRate=Object(d["f"])(100*i,2)}}))},thousandsComma:function(t){return t?Object(d["F"])(t):t},goFuturesData:function(){var t=d["w"].get("futuresMarketCurrent");window.location.href="".concat(this.futuresDataUrl,"?marginCoin=").concat(this.marginCoin,"&type=").concat(t,"&contractId=").concat(this.contractId)}}},he=(i("168b"),i("fbb2")),fe=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},de=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{height:"100%"}},[i("div",{staticClass:"echart-box",attrs:{id:"assetsEcharts"}})])}],me={name:"chartsDepth",components:{},props:{balanceInfor:{type:Object,default:{}}},watch:{balanceInfor:function(t){t&&this.resetData()}},data:function(){return{}},computed:{serveData:function(){var t=[];return this.balanceInfor.isolateMargin&&0!==Number(this.balanceInfor.isolateMargin)&&t.push({value:this.balanceInfor.isolateMargin,name:this.$t("futures.assetsChart.text1"),itemStyle:{normal:{color:"#62A0A8"}}}),this.balanceInfor.totalMargin&&0!==Number(this.balanceInfor.totalMargin)&&t.push({value:this.balanceInfor.totalMargin,name:this.$t("futures.assetsChart.text2"),itemStyle:{normal:{color:"#91C7AE"}}}),this.balanceInfor.lockAmount&&0!==Number(this.balanceInfor.lockAmount)&&t.push({value:this.balanceInfor.lockAmount,name:this.$t("futures.assetsChart.text3"),itemStyle:{normal:{color:"#5183BB"}}}),t}},methods:{init:function(){this.eachart()},resetData:function(){if(this.balanceInfor){var t=[{name:"",type:"pie",radius:["50%","75%"],avoidLabelOverlap:!1,data:this.serveData}];this.myEcharts.setOption({series:t}),this.eachart()}},eachart:function(){this.initEachart(),this.myEcharts.resize()},initEachart:function(){this.myEcharts=window.echarts.init(document.getElementById("assetsEcharts")),this.myEcharts.setOption({tooltip:{trigger:"item",formatter:"{b} <br/> {c} ({d}%)"},series:[{name:"",type:"pie",radius:["50%","75%"],avoidLabelOverlap:!1,data:this.serveData}]})}}},pe=(i("e695"),{mixins:[me],mounted:function(){this.init()}}),xe=pe,be=Object(C["a"])(xe,fe,de,!1,null,null,null),ge=be.exports,ve={mixins:[le],components:{commonTransfer:he["a"],assetsChart:ge},mounted:function(){this.init()}},Ce=ve,_e=Object(C["a"])(Ce,ce,ue,!1,null,null,null),Te=_e.exports,ye=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"order-list-box contract-order-list",class:{"trigge-order-list":2===t.orderType}},[i("tabs",{attrs:{list:t.tabTypeItem},on:{click:t.switchType},model:{value:t.orderType,callback:function(e){t.orderType=e},expression:"orderType"}}),0<t.orderType&&t.orderType<3&&t.dataList.length?i("c-button",{attrs:{height:"26px",disabled:!t.dataList||!t.dataList.length,paddingW:"6px",marginTop:"6px"},on:{click:function(e){return t.elementClick("cancelOrder","{}")}}},[t._v("\n         "+t._s(t.$t("futures.orderList.allCancel"))+"\n    ")]):t._e(),2===t.orderType?i("div",{staticClass:"sub-tab-box a-3-bd e-2-cl a-21-bg"},t._l(t.subTabTypeItem,(function(e,s){return i("span",{key:s+"tab",staticClass:"tab-item",class:{"a-3-bg b-1-cl":t.triggeType===s},on:{click:function(e){return t.subSwitchType(s)}}},[t._v("\n        "+t._s(e)+"\n    ")])})),0):t._e(),i("div",{staticClass:"order-conent"},[i("vue-scroll",[t.isLogin?[i("c-table",{attrs:{columns:t.columns,imgMap:t.imgMap,colorMap:t.colorMap,dataList:t.dataList,loading:t.tableLoading,cellHeight:t.cellHeight,bodyClasses:t.bodyClasses},on:{elementClick:t.elementClick}})]:i("div",{staticClass:"not-login"},[t._v("\n        "+t._s(t.$t("futures.orderList.tstext1"))+"\n        "),i("span",{staticClass:"b-4-cl",on:{click:function(e){return t.goPage("login")}}},[t._v("\n          "+t._s(t.$t("futures.orderList.tstext2"))+"\n        ")]),t._v("\n        "+t._s(t.$t("futures.orderList.tstext3"))+"\n      ")])],2)],1)],1)},$e=[],we={name:"orderList",data:function(){return{orderType:1,imgMap:d["u"],colorMap:d["c"],pagination:{count:0,pageSize:10,page:1},cancelFla:!0,tableLoading:!1,cancelOrderId:null,timer:15e3,currentOrder:{},currentOrderLis:[],dataList:[],cellHeight:56,revokeList:[],triggeType:0,getDataTimer:null,isShowCurPosition:d["w"].get("isShowCurPosition"),positionListNumber:0}},watch:{orderType:function(t){this.dataList=[],clearInterval(this.getDataTimer),this.getDataTimer=null,t>0&&this.getOrderList()},currentOrderLis:function(t){t&&t.length&&this.orderType>0&&this.orderType<3?(clearInterval(this.getDataTimer),this.getDataTimer=null,this.intervalGetData()):(clearInterval(this.getDataTimer),this.getDataTimer=null)},coUnitType:function(){this.getOrderList(),1===this.orderType&&this.formatCurrentData()},contractId:function(){this.getOrderList()},orderCount:function(){this.$store.dispatch("getUserConfig")}},computed:{isIframe:function(){return this.$store.state.future.isIframe},lanText:function(){return{tabType1:this.$t("futures.orderList.tabType1"),tabType2:this.$t("futures.orderList.tabType2"),tabType3:this.$t("futures.orderList.tabType3"),tabType4:this.$t("futures.orderList.tabType4"),tabType5:this.$t("futures.orderList.tabType5"),subTabType1:this.$t("futures.orderList.subTabType1"),subTabType2:this.$t("futures.orderList.subTabType2"),subTabType3:this.$t("futures.orderList.subTabType3"),a_columns_1:this.$t("futures.orderList.a_columns_1"),a_columns_2:this.$t("futures.orderList.a_columns_2"),a_columns_3:this.$t("futures.orderList.a_columns_3"),a_columns_4:this.$t("futures.orderList.a_columns_4"),a_columns_5:this.$t("futures.orderList.a_columns_5"),a_columns_6:this.$t("futures.orderList.a_columns_6"),a_columns_7:this.$t("futures.orderList.a_columns_7"),a_columns_8:this.$t("futures.orderList.a_columns_8"),a_columns_9:this.$t("futures.orderList.a_columns_9"),a_columns_10:this.$t("futures.orderList.a_columns_10"),b_columns_1:this.$t("futures.orderList.b_columns_1"),b_columns_2:this.$t("futures.orderList.b_columns_2"),b_columns_3:this.$t("futures.orderList.b_columns_3"),b_columns_4:this.$t("futures.orderList.b_columns_4"),b_columns_5:this.$t("futures.orderList.b_columns_5"),b_columns_6:this.$t("futures.orderList.b_columns_6"),b_columns_7:this.$t("futures.orderList.b_columns_7"),b_columns_8:this.$t("futures.orderList.b_columns_8"),b_columns_9:this.$t("futures.orderList.b_columns_9"),c_columns_1:this.$t("futures.orderList.c_columns_1"),c_columns_2:this.$t("futures.orderList.c_columns_2"),c_columns_3:this.$t("futures.orderList.c_columns_3"),c_columns_4:this.$t("futures.orderList.c_columns_4"),c_columns_5:this.$t("futures.orderList.c_columns_5"),c_columns_6:this.$t("futures.orderList.c_columns_6"),c_columns_7:this.$t("futures.orderList.c_columns_7"),c_columns_8:this.$t("futures.orderList.c_columns_8"),c_columns_9:this.$t("futures.orderList.c_columns_9"),c_columns_10:this.$t("futures.orderList.c_columns_10"),c_columns_11:this.$t("futures.orderList.c_columns_11"),d_columns_1:this.$t("futures.orderList.d_columns_1"),d_columns_2:this.$t("futures.orderList.d_columns_2"),d_columns_3:this.$t("futures.orderList.d_columns_3"),d_columns_4:this.$t("futures.orderList.d_columns_4"),typeStatus1:this.$t("futures.orderList.typeStatus1"),typeStatus2:this.$t("futures.orderList.typeStatus2"),typeStatus3:this.$t("futures.orderList.typeStatus3"),typeStatus4:this.$t("futures.orderList.typeStatus4"),typeStatus5:this.$t("futures.orderList.typeStatus5"),getStatus1:this.$t("futures.orderList.getStatus1"),getStatus2:this.$t("futures.orderList.getStatus2"),getStatus3:this.$t("futures.orderList.getStatus3"),getStatus4:this.$t("futures.orderList.getStatus4"),getStatus5:this.$t("futures.orderList.getStatus5"),getStatus6:this.$t("futures.orderList.getStatus6"),getStatus7:this.$t("futures.orderList.getStatus7"),sideT1:this.$t("futures.orderList.sideT1"),sideT2:this.$t("futures.orderList.sideT2"),sideT3:this.$t("futures.orderList.sideT3"),sideT4:this.$t("futures.orderList.sideT4"),mPrice:this.$t("futures.orderList.mPrice"),isclose1:this.$t("futures.orderList.isclose1"),isclose2:this.$t("futures.orderList.isclose2"),cancel:this.$t("futures.orderList.cancel"),allCancel:this.$t("futures.orderList.allCancel"),tstext1:this.$t("futures.orderList.tstext1"),tstext2:this.$t("futures.orderList.tstext2"),tstext3:this.$t("futures.orderList.tstext3"),text14:this.$t("futures.positionLis.text14"),text15:this.$t("futures.positionLis.text15")}},tabTypeItem:function(){return[{label:this.isLogin?"".concat(this.lanText.tabType2," (").concat(this.orderCount,")"):this.lanText.tabType2,value:1},{label:this.lanText.tabType4,value:3}]},subTabTypeItem:function(){return[{label:this.lanText.subTabType1,value:0},{label:this.lanText.subTabType2,value:1},{label:this.lanText.subTabType3,value:2}]},contractListMap:function(){return this.$store.state.future.contractListMap},contractId:function(){return this.$store.state.future.contractId},contractInfo:function(){return this.$store.state.future.contractInfo},contractSide:function(){return this.contractInfo?this.contractInfo.contractSide:1},marginCoin:function(){return this.contractInfo?this.contractInfo.marginCoin:""},coinfix:function(){return this.$store.state.future.coinfix},pricefix:function(){return this.$store.state.future.pricefix},marginCoinFix:function(){return this.contractInfo&&this.contractInfo.coinResultVo?this.contractInfo.coinResultVo.marginCoinPrecision:4},coUnitType:function(){return this.$store.state.future.coUnitType},multiplier:function(){return Number(this.$store.state.future.multiplier)||1},volfix:function(){return 1===this.coUnitType?this.$store.state.future.volfix:0},volUnit:function(){return this.$store.state.future.coUnit},priceUnit:function(){return this.$store.state.future.priceUnit},orderCount:function(){return this.$store.state.future.orderCount},triggerOrderCount:function(){return this.$store.state.future.triggerOrderCount},columns:function(){return 1===this.orderType?[{title:this.lanText.a_columns_1,width:"120px",classes:"symbol",styleClass:"symbol-name"},{title:this.lanText.a_columns_2,width:"60px"},{title:"".concat(this.lanText.a_columns_3,"(").concat(this.volUnit,")"),width:"150px"},{title:this.lanText.a_columns_4,width:"120px"},{title:this.lanText.a_columns_5,width:"180px"},{title:this.lanText.a_columns_6,width:"180px"},{title:this.lanText.a_columns_7,width:"80px"},{title:this.lanText.a_columns_8,width:"100px"},{title:this.lanText.a_columns_9,width:"100px"},{title:this.lanText.a_columns_10,width:"100px",classes:"opera",styleClass:"opera-btn"}]:2===this.orderType?[{title:this.lanText.b_columns_1,width:"100px"},{title:this.lanText.b_columns_2,width:"80px"},{title:this.lanText.b_columns_3,width:"180px"},{title:this.lanText.b_columns_4,width:"180px"},{title:this.lanText.b_columns_5,width:"180px"},{title:this.lanText.b_columns_6,width:"100px"},{title:this.lanText.b_columns_7,width:"80px"},{title:this.lanText.b_columns_8,width:"100px"},{title:this.lanText.b_columns_9,width:"100px"},{title:this.lanText.a_columns_10,width:"80px"}]:3===this.orderType?[{title:this.lanText.c_columns_1,width:"120px"},{title:this.lanText.c_columns_2,width:"100px"},{title:this.lanText.c_columns_3,width:"100px"},{title:this.lanText.c_columns_4,width:"160px"},{title:this.lanText.c_columns_5,width:"160px"},{title:"".concat(this.lanText.c_columns_6,"(").concat(this.volUnit,")"),width:"160px"},{title:this.lanText.c_columns_7,width:"160px"},{title:this.lanText.c_columns_8,width:"160px"},{title:"".concat(this.lanText.c_columns_11," (").concat(this.marginCoin,")"),width:"160px"},{title:this.lanText.c_columns_9,width:"100px"},{title:this.lanText.c_columns_10,width:"100px"}]:4===this.orderType?[{title:this.lanText.c_columns_1,width:"10%"},{title:this.$t("futures.orderList.newText3"),width:"10%",classes:"left-text"},{title:this.$t("futures.orderList.newText4"),width:"10%"},{title:"".concat(this.$t("futures.orderList.newText5")," (").concat(this.volUnit,")"),width:"10%"},{title:this.$t("futures.orderList.newText6"),promptText:this.$t("futures.orderList.newText7"),width:"10%"},{title:"".concat(this.lanText.c_columns_11," (").concat(this.marginCoin,")"),promptText:this.$t("futures.orderList.newText8"),width:"10%"},{title:this.$t("futures.orderList.newText9"),promptText:this.$t("futures.orderList.newText10"),width:"10%"},{title:this.$t("futures.orderList.newText15"),promptText:this.$t("futures.orderList.newText11"),width:"10%"},{title:this.$t("futures.orderList.newText12"),width:"10%"},{title:this.$t("futures.orderList.newText13"),width:"120px"}]:[{title:this.lanText.c_columns_1,width:"12%"},{title:this.$t("futures.orderList.newText3"),width:"12%",classes:"left-text"},{title:this.lanText.c_columns_3,width:"12%"},{title:"".concat(this.lanText.c_columns_6,"(").concat(this.volUnit,")"),width:"12%"},{title:this.$t("futures.orderList.newText14"),width:"12%"},{title:"".concat(this.lanText.c_columns_11," (").concat(this.marginCoin,")"),width:"12%"},{title:this.lanText.c_columns_10,width:"120px"}]},isLogin:function(){return this.$store.state.baseData.isLogin},openContract:function(){return this.$store.state.future.openContract},bodyClasses:function(){return"bodyContent".concat(this.orderType," a-6-bg")},memoText:function(){return[this.$t("futures.orderList.memoText1"),this.$t("futures.orderList.memoText2"),this.$t("futures.orderList.memoText3"),this.$t("futures.orderList.memoText4"),this.$t("futures.orderList.memoText5"),this.$t("futures.orderList.memoText6"),this.$t("futures.orderList.memoText7"),this.$t("futures.orderList.memoText8")]}},methods:{init:function(){var t=this;void 0===d["w"].get("isShowCurPosition")&&(this.isShowCurPosition=!0),this.getOrderList("init"),this.$bus.$on("CRAET-ORDER-SUCCESS",(function(){t.getOrderList(),t.$store.dispatch("getUserOrderCount")})),this.$bus.$on("positionListNumber",(function(e){t.positionListNumber=e}))},switchType:function(t){this.orderType!==t&&(this.orderType=t,this.isLogin&&this.openContract&&(this.tableLoading=!0))},subSwitchType:function(t){this.triggeType!==t&&(this.triggeType=t,this.formatTrigData())},typeStatus:function(t){var e="";switch(t){case 1:e=this.lanText.typeStatus1;break;case 2:e=this.lanText.typeStatus2;break;case 3:e="IOC";break;case 4:e="FOK";break;case 5:e=this.lanText.typeStatus3;break;case 6:e=this.lanText.typeStatus4;break;case 7:e=this.lanText.typeStatus5;break;default:e=""}return e},getStatus:function(t){var e="";switch(t){case 0:e=this.lanText.getStatus1;break;case 1:e=this.lanText.getStatus1;break;case 2:e=this.lanText.getStatus2;break;case 3:e=this.lanText.getStatus3;break;case 4:e=this.lanText.getStatus4;break;case 5:e=this.lanText.getStatus5;break;case 6:e=this.lanText.getStatus6;break;case 7:e=this.lanText.getStatus7;break;default:e=""}return e},setVolume:function(t){return 1===this.coUnitType?Object(d["f"])(Object(d["x"])(t,this.multiplier),this.volfix):this.thousandsComma(t)},makeRate:function(t,e){if(t&&e){var i=Object(d["x"])(Object(d["e"])(t,e),100);return Object(d["f"])(i,2)}return 0},setSide:function(t){var e="u-1-cl",i="OPEN"===t.open?this.lanText.sideT1:this.lanText.sideT2,s=this.lanText.sideT3;return("OPEN"===t.open&&"BUY"===t.side||"CLOSE"===t.open&&"SELL"===t.side)&&(s=this.lanText.sideT4),"SELL"===t.side&&(e="u-4-cl"),[{text:"".concat(i).concat(s),classes:e}]},setContractName:function(t){var e=this.contractListMap[t.contractName];if(e){var i="",s="";if(t){var a=e.symbol?e.symbol.replace("-",""):"";"E"!==e.contractType&&(s="-".concat(e.marginCoin)),i="".concat(a).concat(s)}return i}return t.symbol.replace("-","")},getOrderList:function(t){var e=this;if(this.isLogin&&this.openContract){var i={contractId:this.contractId};this.$store.dispatch("getUserOrderCount");var s=this.$store.state.url.futures.currentOrderList;2===this.orderType&&(s=this.$store.state.url.futures.triggerOrderList),3===this.orderType&&(s=this.$store.state.url.futures.historyOrderList),4===this.orderType&&(s=this.$store.state.url.futures.historyPositionList),5===this.orderType&&(s=this.$store.state.url.futures.getTradeInfo),this.axios({url:s,method:"post",hostType:"co",params:i}).then((function(i){e.tableLoading=!1,"0"===i.code&&i.data&&(1!==e.orderType&&"init"!==t||(e.currentOrderLis=i.data.orderList,e.$store.commit("CURRENT_OTDER_LIST",e.currentOrderLis),e.formatCurrentData()),2===e.orderType&&(e.currentOrderLis=i.data.trigOrderList,e.formatTrigData()),3===e.orderType&&(e.currentOrderLis=i.data.orderList,e.formatHistoryData()),4===e.orderType&&(e.currentOrderLis=i.data.positionList,e.formatTransData()),5===e.orderType&&(e.currentOrderLis=i.data.tradeList,e.formatTradeInfo()))}))}},formatCurrentData:function(){var t=this,e=[];this.currentOrderLis&&this.currentOrderLis.length&&this.currentOrderLis.forEach((function(i){var s=null;s=2===i.type&&0===Number(i.price)?t.lanText.mPrice:t.thousandsComma(Object(d["f"])(i.price,i.pricePrecision)),e.push({id:JSON.stringify(i),classes:"b-2-cl",data:[t.setContractName(i),t.setSide(i),"".concat(t.setVolume(i.dealVolume)," / ").concat(t.setVolume(i.volume)),"".concat(t.makeRate(i.dealVolume,i.volume),"%"),s,i.pricePrecision?t.thousandsComma(Object(d["f"])(i.avgPrice,i.pricePrecision)):"--",t.typeStatus(i.type),"CLOSE"===i.open?t.lanText.isclose1:t.lanText.isclose2,Object(d["k"])(i.ctime),[{type:"button",text:t.lanText.cancel,eventType:"cancelOrder"}]]})})),this.dataList=e},formatTrigData:function(){var t=this,e=[];this.currentOrderLis&&this.currentOrderLis.length&&this.currentOrderLis.forEach((function(i){if(!t.triggeType||t.triggeType===i.triggerType){var s=null,a=null;if(2===i.type&&0===Number(i.price))if(s=t.lanText.mPrice,"OPEN"===i.open){var n=t.contractInfo.base,r=t.$store.state.future.volfix,o=r;1===t.contractSide&&(n=t.priceUnit,o=t.pricefix),a="".concat(Object(d["f"])(i.volume,o)," ").concat(n)}else a="".concat(t.setVolume(i.volume)," ").concat(t.volUnit);else s=t.thousandsComma(Object(d["f"])(i.price,i.pricePrecision)),a="".concat(t.setVolume(i.volume)," ").concat(t.volUnit);e.push({id:JSON.stringify(i),classes:"b-2-cl",data:[t.setContractName(i),t.setSide(i),t.thousandsComma(Object(d["f"])(i.triggerPrice,i.pricePrecision)),s,a,t.typeStatus(i.timeInForce),"CLOSE"===i.open?t.lanText.isclose1:t.lanText.isclose2,Object(d["k"])(i.mtime),Object(d["k"])(i.expireTime),[{type:"button",text:t.lanText.cancel,eventType:"cancelOrder"}]]})}})),this.dataList=e},formatHistoryData:function(){var t=this,e=[];this.currentOrderLis&&this.currentOrderLis.length&&this.currentOrderLis.forEach((function(i,s){var a=null,n=null;if(2===i.type&&0===Number(i.price))if(a=t.lanText.mPrice,"OPEN"===i.open){var r=t.contractInfo.base,o=t.$store.state.future.volfix,c=o;1===t.contractSide&&(r=t.priceUnit,c=t.pricefix),n="".concat(Object(d["f"])(i.volume,c)," ").concat(r)}else n="".concat(t.setVolume(i.volume)," ").concat(t.volUnit);else a=t.thousandsComma(Object(d["f"])(i.price,i.pricePrecision)),n="".concat(t.setVolume(i.volume)," ").concat(t.volUnit);var u=s>3?"position-bottom":"";e.push({id:JSON.stringify(i),classes:"b-2-cl",data:[t.setContractName(i),i.liqPositionMsg?[{text:'<div class="cancel_cause cancel_cause_right">\n                  '.concat(t.typeStatus(i.type),'\n                  <span class="cancel_cause-btn">\n                    <svg aria-hidden="true" class="icon icon-16">\n                      <use xlink:href="#icon-a_15"></use>\n                    </svg>\n                    <div class="cancel_cause_text a-5-bg b-1-cl a-3-bd ').concat(u,'">\n                    ').concat(t.replaceAll(i.liqPositionMsg),"\n                    </div>\n                  </span>\n                </div>"),type:"html"}]:t.typeStatus(i.type),t.setSide(i),6===i.type?"--":a,n,t.setVolume(i.dealVolume),6===i.type?"--":t.thousandsComma(Object(d["f"])(i.avgPrice,i.pricePrecision)),[{text:"".concat(Object(d["f"])(i.realizedAmount,t.marginCoinFix)," ").concat(t.marginCoin),classes:t.setClsdsd(i.realizedAmount)}],Object(d["f"])(i.tradeFee,t.marginCoinFix),4===i.status&&i.memo?[{text:'<div class="cancel_cause">\n                  '.concat(t.getStatus(i.status),'\n                  <span class="cancel_cause-btn">\n                    <svg aria-hidden="true" class="icon icon-16">\n                      <use xlink:href="#icon-a_15"></use>\n                    </svg>\n                    <div class="cancel_cause_text a-5-bg b-1-cl a-3-bd ').concat(u,'">\n                      ').concat(t.memoText[i.memo-1],"\n                    </div>\n                  </span>\n                </div>"),type:"html"}]:t.getStatus(i.status),Object(d["k"])(i.ctime)]})})),this.dataList=e},formatTransData:function(){var t=this,e=[];this.currentOrderLis&&this.currentOrderLis.length&&this.currentOrderLis.forEach((function(i){var s="".concat(i.leverageLevel,"X"),a="BUY"===i.side?"u-1-bg":"u-4-bg",n="BUY"===i.side?"u-1-cl":"u-4-cl",r=t.setContractName(t.contractInfo),o=2===i.positionType?t.lanText.text15:t.lanText.text14;e.push({id:JSON.stringify(i),classes:"b-2-cl",data:[[{type:"html",text:'<div class="futurs-name">\n                    <i class="sideBg '.concat(a,'"></i>\n                    <p class="').concat(n,'">').concat(r,"</p>\n                    <p>").concat(o," ").concat(s,"</p>\n                    </div>"),classes:t.amountClass(i.amount)}],Object(d["f"])(i.openPrice,t.pricefix),Object(d["f"])(i.closePrice,t.pricefix),t.setVolume(i.volume),t.fixDSign(i.historyRealizedAmount,t.marginCoinFix),t.fixDSign(i.tradeFee,t.marginCoinFix),t.fixDSign(i.capitalFee,t.marginCoinFix),t.fixDSign(i.closeProfit,t.marginCoinFix),t.fixDSign(i.shareAmount,t.marginCoinFix),Object(d["k"])(i.mtime)]})})),this.dataList=e},formatTradeInfo:function(){var t=this,e=[];this.currentOrderLis&&this.currentOrderLis.length&&this.currentOrderLis.forEach((function(i){e.push({id:JSON.stringify(i),classes:"b-2-cl",data:[t.setContractName(i),Object(d["f"])(i.price,t.pricefix),t.setSide(i),t.setVolume(i.volume),i.role,"".concat(Object(d["f"])(i.fee,i.feeCoinPrecision)," ").concat(i.feeCoin),Object(d["k"])(i.ctime)]})})),this.dataList=e},replaceAll:function(t){return t.replace(/\\n/g,"<br/>")},setClsdsd:function(t){return 0===t?"":t<0?"u-4-cl":"u-1-cl"},fixDSign:function(t,e){return t&&e.toString()?Number(t)>0?"+".concat(Object(d["f"])(t,e)):Object(d["f"])(t,e):"0.00"},amountClass:function(t){if(t){if(Number(t)>0)return"u-1-cl";if(Number(t)<0)return"u-4-cl"}return""},elementClick:function(t,e){var i=this;if("cancelOrder"===t){var s=JSON.parse(e);this.revokeList.push(s.id),setTimeout((function(){i.axios({url:i.$store.state.url.futures.orderCancel,hostType:"co",method:"post",params:{contractId:i.contractId,orderId:s.id,isConditionOrder:2===i.orderType}}).then((function(t){var e=i.revokeList.indexOf(s.id);i.revokeList.splice(e,1),"0"===t.code.toString()?(i.$store.dispatch("getPositionList"),i.$store.dispatch("getUserConfig"),i.$bus.$emit("tip",{text:t.msg,type:"success"}),i.getOrderList()):i.$bus.$emit("tip",{text:t.msg,type:"error"})}))}),500)}},cancelOrder:function(){},goPage:function(t){"login"===t&&this.isIframe?window.parent.postMessage("login","*"):this.$router.push("/".concat(t))},intervalGetData:function(){var t=this;clearInterval(this.getDataTimer),this.getDataTimer=setInterval((function(){t.getOrderList(),t.isLogin&&t.currentOrderLis.length||(clearInterval(t.getDataTimer),t.getDataTimer=null)}),5e3)},thousandsComma:function(t){return t?Object(d["F"])(t):t},switchChange:function(){this.isShowCurPosition=!this.isShowCurPosition,d["w"].set("isShowCurPosition",this.isShowCurPosition),this.$bus.$emit("isShowCurPosition",this.isShowCurPosition)}}},De=(i("3625"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"common-position-table"},[i("div",{staticClass:"thead-box block-line a-3-bd a-5-bg"},t._l(t.columns,(function(e,s){return i("div",{key:s,staticClass:"cell",class:e.classes,style:{width:t.cellWidth[s]}},[i("div",[i("span",{class:{"columns-item a-1-bd":e.promptText}},[t._v(t._s(e.title)+"\n            "),e.promptText?i("p",{staticClass:"tip-text a-5-bg a-3-bd b-1-cl",class:"tip-text"+s,domProps:{innerHTML:t._s(e.promptText)}}):t._e()])])])})),0),t.tableDataList&&t.positionListNumber?i("div",{staticClass:"positionLis-table positionLis-table-box"},[i("table",[i("tbody",{staticClass:"tbody"},[t._l(t.tableDataList,(function(e,s){return[i("tr",{key:s,staticClass:"a-3-bd",class:e.lineClass},[i("td",{ref:"td0",refInFor:!0,staticClass:"position-td0"},[i("div",[i("i",{staticClass:"sideBg",class:e.sideClass.bg}),i("p",{staticClass:"symbol-name"},[t._v(" "+t._s(e.name))]),i("p",[t._v("\n                  "+t._s(e.positionTypeText)+" "+t._s(e.leverageLevel)+"x\n                ")])])]),i("td",{ref:"td1",refInFor:!0,staticClass:"position-td1"},[i("div",[i("p",{class:e.sideClass.color},["SELL"===e.orderSide?[t._v("-")]:t._e(),t._v(t._s(t.thousandsComma(e.positionVolume))+"\n                / "+t._s(t.thousandsComma(e.canCloseVolume))+"\n              ")],2)])]),i("td",{ref:"td2",refInFor:!0,staticClass:"position-td2"},[i("div",[t._v(t._s(t.thousandsComma(e.openAvgPrice))+" ")])]),i("td",{ref:"td3",refInFor:!0,staticClass:"position-td3"},[i("div",[i("p",[t._v(" "+t._s(t.thousandsComma(e.indexPrice))+" ")])])]),i("td",{ref:"td4",refInFor:!0,staticClass:"position-td4"},[i("div",[t._v(" "+t._s(t.thousandsComma(e.reducePrice))+" ")])]),i("td",{ref:"td5",refInFor:!0,staticClass:"position-td5"},[i("div",[t._v("\n              "+t._s(t.thousandsComma(e.holdAmount))+"\n              "),i("p",[t._v("\n                "+t._s(e.marginCoin)+"\n                "),2===e.positionType?i("span",{staticClass:"icon-s",on:{click:function(i){return t.openMarginDialog(e)}}},[i("svg",{staticClass:"icon icon-16",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_2_1"}})])]):t._e()])])]),i("td",{ref:"td6",refInFor:!0,staticClass:"position-td6"},[i("div",[t._v(" "+t._s(e.marginRate)+"  ")])]),i("td",{ref:"td7",refInFor:!0,staticClass:"position-td7"},[i("div",[i("p",[i("span",{class:e.openRealizedClass},[t._v("\n                "+t._s(e.openRealizedAmount)+" ")]),t._v(" "+t._s(e.marginCoin))]),i("p",{class:e.returnRateClass},[t._v(" "+t._s(e.returnRate))])])]),i("td",{ref:"td7_1",refInFor:!0,staticClass:"position-td7_1"},[i("div",{staticClass:"position-profit",on:{click:function(i){return t.isShowAmountDialog(e)}}},[i("span",{staticClass:"a-12-bd h-s b-4-cl"},[t._v("\n                "+t._s(e.profitRealizedAmount)+" "+t._s(e.marginCoin)+"\n              ")]),i("span",{staticClass:"a-1-bd h-i"},[t._v(t._s(e.profitRealizedAmount)+" "+t._s(e.marginCoin))])])]),i("td",{ref:"td8",refInFor:!0,staticClass:"close-position"},[i("div",[i("p",[i("input",{directives:[{name:"model",rawName:"v-model",value:e.price,expression:"item.price"}],staticClass:"a-3-bd b-1-cl",attrs:{type:"text",placeholder:t.lanText.text1},domProps:{value:e.price},on:{input:[function(i){i.target.composing||t.$set(e,"price",i.target.value)},function(i){return t.priceChange(i,e)}]}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.volume,expression:"item.volume"}],staticClass:"a-3-bd b-1-cl",attrs:{type:"text",placeholder:t.volumePlaceholder},domProps:{value:e.volume},on:{input:[function(i){i.target.composing||t.$set(e,"volume",i.target.value)},function(i){return t.volumeChange(i,e)}]}})]),i("p",[i("c-button",{staticClass:"a-6-bg",attrs:{width:"45%",paddingW:"6px",height:"26px",marginTop:"5px"},on:{click:function(i){return t.closeOrder(1,e)}}},[t._v("\n                  "+t._s(t.lanText.text2)+"\n                ")]),i("c-button",{staticClass:"a-6-bg",attrs:{width:"45%",height:"26px",marginTop:"5px",paddingW:"6px"},on:{click:function(i){return t.closeOrder(2,e)}}},[t._v("\n                  "+t._s(t.lanText.text3)+"\n                ")])],1)])]),i("td",{ref:"td9",refInFor:!0,staticClass:"position-td9"},[i("div",[i("span",{staticClass:"edit-stop-order",on:{click:function(i){return t.showStopOrder(e)}}},[i("svg",{staticClass:"icon icon-24",attrs:{t:"1604198366477",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2683",width:"200",height:"200"}},[i("path",{attrs:{d:"M928 288a32 32 0 0 1 31.776 28.256L960 320v512a160 160 0 0 1-153.056 159.84L800 992H384a32 32 0 0 1-3.744-63.776L384 928h416a96 96 0 0 0 95.84-90.368L896 832V320a32 32 0 0 1 32-32z m-288-256a32 32 0 0 1 3.744 63.776L640 96H224a96 96 0 0 0-95.84 90.368L128 192v512a32 32 0 0 1-63.776 3.744L64 704V192a160 160 0 0 1 153.056-159.84L224 32h416z",fill:"#828ea1","p-id":"2684"}}),i("path",{attrs:{d:"M615.776 248.224a32 32 0 0 1 2.464 42.464l-2.464 2.816-316.8 316.8a32 32 0 0 1-47.744-42.496l2.496-2.784 316.8-316.8a32 32 0 0 1 45.248 0z",fill:"#828ea1","p-id":"2685"}}),i("path",{attrs:{d:"M611.232 216.544l-158.4 22.656a32 32 0 0 0-18.08 54.304l135.744 135.744a32 32 0 0 0 54.304-18.08l22.656-158.4A32 32 0 0 0 611.2 216.544z m-33.184 69.44l-7.552 52.768-45.248-45.248 52.8-7.552z",fill:"#828ea1","p-id":"2686"}}),i("path",{attrs:{d:"M408.224 775.776a32 32 0 0 0 42.464 2.464l2.816-2.464 316.8-316.8a32 32 0 0 0-42.496-47.744l-2.784 2.496-316.8 316.8a32 32 0 0 0 0 45.248z",fill:"#828ea1","p-id":"2687"}}),i("path",{attrs:{d:"M376.544 771.232l22.656-158.4a32 32 0 0 1 54.304-18.08l135.744 135.744a32 32 0 0 1-18.08 54.304l-158.4 22.656a32 32 0 0 1-36.224-36.224z m69.44-33.184l52.768-7.552-45.248-45.248-7.552 52.8z",fill:"#828ea1","p-id":"2688"}})])])])])])]}))],2)])]):t._e(),t.tableDataList&&t.positionListNumber?t._e():i("div",{staticClass:"not-data"},[i("svg",{staticClass:"icon icon-50",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-g_2"}})]),i("p",[t._v("\n      "+t._s(t.$t("trade.notData"))+"\n    ")])]),i("c-dialog",{attrs:{paddingBottom:"14px",titleText:t.$t("futures.positionLis.text26"),showFlag:t.isAmountDialog,haveOption:t.ishaveOption},on:{close:t.dialogClose}},[i("div",{staticClass:"amountDialog-box"},[i("p",{staticClass:"copywriter"},[t._v("\n        "+t._s(t.$t("futures.positionLis.text27"))+"\n      ")]),i("div",{staticClass:"amount-item a-4-bg"},[i("p",{staticClass:"tit"},[t._v("\n          "+t._s(t.$t("futures.positionLis.text26"))+"\n        ")]),i("p",{staticClass:"val profit",class:t.profitClass(t.activeAmountData.profitRealizedAmount)},[t._v("\n          "+t._s(t.activeAmountData.profitRealizedAmount)+" "+t._s(t.activeAmountData.marginCoin)+"\n        ")])]),i("div",{staticClass:"amount-item a-4-bg"},[i("p",{staticClass:"tit"},[i("span",{staticClass:"f_l"},[t._v("\n            "+t._s(t.$t("futures.positionLis.text28"))+"\n          ")]),i("span",{staticClass:"f_r"},[t._v("\n            "+t._s(t.$t("futures.positionLis.text29"))+"\n          ")])]),i("p",{staticClass:"val b-1-cl"},[i("span",{staticClass:"f_l"},[t._v(t._s(t.activeAmountData.tradeFee)+"\n            "+t._s(t.activeAmountData.marginCoin))]),i("span",{staticClass:"f_r"},[t._v(t._s(t.activeAmountData.closeProfit)+"\n            "+t._s(t.activeAmountData.marginCoin))])])]),i("div",{staticClass:"amount-item a-4-bg"},[i("p",{staticClass:"tit"},[i("span",{staticClass:"f_l"},[t._v("\n            "+t._s(t.$t("futures.positionLis.text30"))+"\n          ")]),i("span",{staticClass:"f_r"},[t._v("\n            "+t._s(t.$t("futures.positionLis.text31"))+"\n          ")])]),i("p",{staticClass:"val b-1-cl"},[i("span",{staticClass:"f_l"},[t._v(t._s(t.activeAmountData.capitalFee)+"\n            "+t._s(t.activeAmountData.marginCoin))]),i("span",{staticClass:"f_r"},[t._v(t._s(t.activeAmountData.settleProfit)+"\n            "+t._s(t.activeAmountData.marginCoin))])])]),"--"!==t.activeAmountData.shareAmount?i("div",{staticClass:"amount-item a-4-bg"},[i("p",{staticClass:"tit"},[t._v("\n          "+t._s(t.$t("futures.positionLis.text32"))+"\n        ")]),i("p",{staticClass:"val b-1-cl"},[t._v(t._s(t.activeAmountData.shareAmount)+" "+t._s(t.activeAmountData.marginCoin))])]):t._e(),i("br"),i("br")])]),i("set-marginCoin",{attrs:{marginData:t.editMargindata,isShow:t.isShowDialog,close:t.dialogClose}}),i("forcedReminder",{attrs:{dataInfo:t.confirmData,isShow:t.forcedReminderShow,close:t.dialogClose},on:{submitOrder:t.submitOrder}}),i("stopOrder",{attrs:{dataInfo:t.stopOrderdata,isShow:t.stopOrderShow,close:t.dialogClose},on:{submitOrder:t.submitOrder}})],1)}),Se=[];function Le(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function Oe(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?Le(Object(i),!0).forEach((function(e){Object(Y["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Le(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var ke={name:"positionList",data:function(){return{isShowDialog:!1,formLisValue:{},tableDataList:null,submitData:{},editMargindata:{},confirmData:{},forcedReminderShow:!1,submitFlag:!0,stopOrderShow:!1,stopOrderdata:{},cellWidth:[],activeLineId:"",activeLineClass:"",isShowCurPosition:d["w"].get("isShowCurPosition"),isAmountDialog:!1,activeAmountData:{},ishaveOption:!1}},watch:{positionList:function(t){t&&t.length?this.tableDataList=this.formPosition():this.tableDataList=null,this.setCellWidth()},userConfig:function(t,e){t&&e&&(this.formLisValue={},this.$store.dispatch("getPositionList"),this.tableDataList=this.formPosition())},positionListNumber:function(t){this.$bus.$emit("positionListNumber",t)}},computed:{lanText:function(){return{columns1:this.$t("futures.positionLis.columns1"),columns2:this.$t("futures.positionLis.columns2"),columns3:this.$t("futures.positionLis.columns3"),columns4:this.$t("futures.positionLis.columns4"),columns5:this.$t("futures.positionLis.columns5"),columns6:this.$t("futures.positionLis.columns6"),columns7:this.$t("futures.positionLis.columns7"),columns8:this.$t("futures.positionLis.columns8"),columns9:this.$t("futures.positionLis.columns9"),columns10:this.$t("futures.positionLis.columns10"),text1:this.$t("futures.positionLis.text1"),text2:this.$t("futures.positionLis.text2"),text3:this.$t("futures.positionLis.text3"),text4:this.$t("futures.positionLis.text4"),text5:this.$t("futures.positionLis.text5"),text6:this.$t("futures.positionLis.text6"),text7:this.$t("futures.positionLis.text7"),text8:this.$t("futures.positionLis.text8"),text9:this.$t("futures.positionLis.text9"),text10:this.$t("futures.positionLis.text10"),text11:this.$t("futures.positionLis.text11"),text12:this.$t("futures.positionLis.text12"),text13:this.$t("futures.positionLis.text13"),text14:this.$t("futures.positionLis.text14"),text15:this.$t("futures.positionLis.text15"),text16:this.$t("futures.positionLis.text16"),text17:this.$t("futures.positionLis.text17"),text18:this.$t("futures.positionLis.text18"),text19:this.$t("futures.positionLis.text19"),text20:this.$t("futures.positionLis.text20"),text21:this.$t("futures.positionLis.text21"),text22:this.$t("futures.positionLis.text22"),text23:this.$t("futures.positionLis.text23"),text24:this.$t("futures.positionLis.text24"),text25:this.$t("futures.positionLis.text25"),text26:this.$t("futures.positionLis.text26")}},columns:function(){var t=1===this.coUnitType?this.lanText.text4:this.lanText.text5;return[{title:this.lanText.columns1},{title:"".concat(this.lanText.columns2,"(").concat(t,")"),promptText:this.lanText.text6},{title:this.lanText.columns3,promptText:this.lanText.text7},{title:this.lanText.columns4,promptText:this.lanText.text8},{title:this.lanText.columns5,promptText:this.lanText.text9},{title:this.lanText.columns6,promptText:this.lanText.text10},{title:this.lanText.columns7,promptText:this.lanText.text11},{title:this.lanText.columns8,promptText:this.lanText.text12},{title:this.lanText.text26},{title:this.lanText.columns9,classes:"close-position"},{title:this.lanText.columns10,promptText:this.lanText.text13}]},userConfig:function(){return this.$store.state.future.futureUserConfig},contractListMap:function(){return this.$store.state.future.contractListMap},contractId:function(){return this.$store.state.future.contractId},positionList:function(){return this.$store.state.future.positionList||[]},volfix:function(){return this.$store.state.future.volfix},coUnitType:function(){return this.$store.state.future.coUnitType},multiplier:function(){return Number(this.$store.state.future.multiplier)},volUnit:function(){return this.$store.state.future.coUnit},pricefix:function(){return this.$store.state.future.pricefix},positionTypeList:function(){return["",this.lanText.text14,this.lanText.text15]},volumePlaceholder:function(){return 1===this.coUnitType?this.lanText.text24:this.lanText.text25},positionListNumber:function(){if(this.tableDataList){var t=Object.keys(this.tableDataList);return t.length}return 0}},methods:{setCellWidth:function(){var t=this,e=Object.keys(this.$refs);this.cellWidth=[],e.forEach((function(e){-1!==e.indexOf("td")&&t.$refs[e][0]&&t.cellWidth.push("".concat(t.$refs[e][0].offsetWidth,"px"))}))},activeContractName:function(t){var e="",i="";if(t){var s=t.symbol?t.symbol.replace("-",""):"";"E"!==t.contractType&&(i="-".concat(t.marginCoin)),e="".concat(s).concat(i)}return e},fixDset:function(t,e){return t&&e.toString()?Object(d["f"])(t,e):"0.00"},fixDSign:function(t,e){return t&&e.toString()?Number(t)>0?"+".concat(Object(d["f"])(t,e)):Object(d["f"])(t,e):"0.00"},setVolume:function(t,e,i){var s=t;return 1===this.coUnitType&&i&&(s=Object(d["f"])(Object(d["x"])(t,i),e)),s},activeContractInfo:function(t){return this.contractListMap?this.contractListMap[t]:null},setRate:function(t){return t?"".concat(this.fixDset(Object(d["x"])(t,100),2),"%"):"0.00%"},lineClass:function(t){if(t!==this.activeLineId){this.activeLineId=t;var e="u-15-bg"===this.activeLineClass?"":"u-15-bg";return this.activeLineClass=e,this.activeLineClass}return this.activeLineClass},formPosition:function(){var t=this,e={},i={};return this.positionList&&this.positionList.length&&this.positionList.forEach((function(s){if(!t.isShowCurPosition||t.isShowCurPosition&&s.contractId===t.contractId){t.activeLineId="",t.activeLineClass="";var a=t.activeContractInfo(s.contractName);if(!a)return!1;var n=t.activeContractName(a),r="".concat(n).concat(s.orderSide),o=null,c=null;t.formLisValue&&t.formLisValue[r]&&(o=t.formLisValue[r].price,c=t.formLisValue[r].volume);var u,l={bg:"u-1-bg",color:"u-1-cl"};"SELL"===s.orderSide&&(l={bg:"u-4-bg",color:"u-4-cl"}),u=s.reducePrice&&s.reducePrice<=0?"--":t.fixDset(s.reducePrice,a.priceFix);var h=1===t.coUnitType?a.multiplierCoin:t.lanText.text5,f={positionId:s.id,key:r,contractName:s.contractName,sideText:"SELL"===s.orderSide?t.lanText.text16:t.lanText.text17,volfix:a.volfix,priceFix:a.priceFix,lineClass:t.lineClass(s.contractId),name:n,contractId:s.contractId,symbol:s.symbol,orderSide:s.orderSide,sideClass:l,leverageLevel:s.leverageLevel,positionType:s.positionType,positionTypeText:t.positionTypeList[s.positionType],coUnit:h,positionVolumeOriginal:s.positionVolume,multiplier:a.multiplier,positionVolume:t.setVolume(s.positionVolume,a.volfix,a.multiplier),canCloseVolume:t.setVolume(s.canCloseVolume,a.volfix,a.multiplier),openAvgPrice:t.fixDset(s.openAvgPrice,a.priceFix),indexPrice:t.fixDset(s.indexPrice,a.priceFix),reducePrice:u,holdAmount:t.fixDset(s.holdAmount,a.mCionFix),marginCoin:a.marginCoin,marginRate:t.setRate(s.marginRate),openRealizedAmount:t.fixDset(s.openRealizedAmount,a.mCionFix),openRealizedClass:s.openRealizedAmount<0?"u-4-cl":"u-1-cl",returnRate:t.setRate(s.returnRate),returnRateClass:s.returnRate<0?"u-4-cl":"u-1-cl",canUseAmount:t.fixDset(s.canUseAmount,a.mCionFix),canSubMarginAmount:t.fixDset(s.canSubMarginAmount,a.mCionFix),price:o,volume:c,realizedAmount:s.realizedAmount,unRealizedAmount:s.unRealizedAmount,keepRate:s.keepRate,maxFeeRate:s.maxFeeRate,quote:a.quote,profitRealizedAmount:t.fixDSign(s.profitRealizedAmount,a.mCionFix),settleProfit:t.fixDSign(s.settleProfit,a.mCionFix),tradeFee:t.fixDSign(s.tradeFee,a.mCionFix),capitalFee:s.capitalFee&&"0"!==s.capitalFee?t.fixDSign(s.capitalFee,a.mCionFix):"--",closeProfit:s.closeProfit&&"0"!==s.closeProfit?t.fixDSign(s.closeProfit,a.mCionFix):"--",shareAmount:s.shareAmount&&"0"!==s.shareAmount?t.fixDSign(s.shareAmount,a.mCionFix):"--"};t.contractId===s.contractId?i[r]=f:e[r]=f}return!1})),Object.assign(i,e)},priceChange:function(t,e){var i=this,s=t.target.value,a=Object(d["h"])(s,e.priceFix)||"";this.$nextTick((function(){i.tableDataList[e.key].price=a})),this.formLisValue[e.key]?this.formLisValue[e.key].price=a:this.formLisValue[e.key]={price:a}},volumeChange:function(t,e){var i=this,s=t.target.value,a=Object(d["h"])(s,0);1===this.coUnitType&&(a=Object(d["h"])(s,e.volfix)),this.$nextTick((function(){i.tableDataList[e.key].volume=a})),this.formLisValue[e.key]?this.formLisValue[e.key].volume=a:this.formLisValue[e.key]={volume:a}},closeOrder:function(t,e){var i=e.canCloseVolume,s=e.volume,a=e.price;if(!a&&1===t)return this.$bus.$emit("tip",{text:this.lanText.text18,type:"error"}),!1;if(!s)return this.$bus.$emit("tip",{text:this.lanText.text19,type:"error"}),!1;if(Number(s)>Number(i))return this.$bus.$emit("tip",{text:this.lanText.text20,type:"error"}),!1;var n=s;if(1===this.coUnitType&&(n=Object(d["f"])(Object(d["e"])(s,e.multiplier),0)),this.submitData={contractId:e.contractId,positionType:e.positionType,side:"SELL"===e.orderSide?"BUY":"SELL",leverageLevel:e.leverageLevel,price:a,volume:n,open:"CLOSE",type:t,triggerPrice:null,isConditionOrder:!1},this.userConfig&&this.userConfig.pcSecondConfirm){var r="u-4-bg",o=this.lanText.text21;"SELL"===e.orderSide&&(o=this.lanText.text22,r="u-1-bg"),this.confirmData={price:1===t?"".concat(a," ").concat(e.quote):this.lanText.text23,vol:"".concat(s," ").concat(e.coUnit),marginCoin:"0.00 ".concat(e.marginCoin),symbol:e.symbol.replace("-",""),currentCategory:t,sideText:o,sideClass:r,isOpenAndIsMarket:!1,triggerPrice:""},this.forcedReminderShow=!0}else this.dialogConfirmLoading=!0,this.submit();return!1},submit:function(){var t=this;this.submitFlag&&(this.submitFlag=!1,this.axios({url:this.$store.state.url.futures.orderCreate,hostType:"co",method:"post",params:this.submitData}).then((function(e){var i=e.code,s=e.msg;if("0"===i.toString()){t.formLisValue={},t.$store.dispatch("getUserConfig"),t.forcedReminderShow=!1;var a=setTimeout((function(){t.$store.dispatch("getPositionList")}),500);clearTimeout(a),t.$bus.$emit("tip",{text:s,type:"success"})}else t.$bus.$emit("tip",{text:s,type:"error"});t.dialogConfirmLoading=!1,t.submitFlag=!0})).catch((function(){t.submitFlag=!0})))},submitOrder:function(t){var e=this;t&&this.axios({url:this.$store.state.url.futures.editUserPageConfig,hostType:"co",method:"post",params:{pcSecondConfirm:0,contractId:this.contractId}}).then((function(t){var i=t.code,s=t.msg;"0"===i.toString()?e.$store.dispatch("getUserConfig"):e.$bus.$emit("tip",{text:s,type:"error"})})),this.dialogConfirmLoading=!0,this.submit()},openMarginDialog:function(t){var e=this.activeContractInfo(t.contractName),i=Oe(Oe({},t),e);this.editMargindata=i,this.isShowDialog=!0},showStopOrder:function(t){var e=this.activeContractInfo(t.contractName),i=Oe(Oe({},t),e);this.stopOrderdata=i,this.stopOrderShow=!0},dialogClose:function(){this.isShowDialog=!1,this.forcedReminderShow=!1,this.stopOrderShow=!1,this.isAmountDialog=!1},thousandsComma:function(t){return t?Object(d["F"])(t):t},isShowAmountDialog:function(t){this.activeAmountData=t,this.isAmountDialog=!0},profitClass:function(t){return t?t.indexOf("+")>-1?"u-1-cl":"u-4-cl":"b-1-cl"},init:function(){var t=this;this.$bus.$emit("positionListNumber",this.positionListNumber),void 0===d["w"].get("isShowCurPosition")&&(this.isShowCurPosition=!0),this.positionList&&this.positionList.length?this.tableDataList=this.formPosition():this.tableDataList=null,setTimeout((function(){t.setCellWidth()}),500),this.$bus.$on("WINFOW_ON_RESIIZE",(function(){t.setCellWidth()})),this.$bus.$on("isShowCurPosition",(function(e){t.isShowCurPosition=e,t.tableDataList=t.formPosition()}))}}},Ae=(i("ee3b"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-dialog",{staticClass:"setMargin-dialog",attrs:{paddingBottom:"14px",titleText:t.lanText.titleText,showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled,confirmText:t.marginPromptText},on:{close:t.close,confirm:t.dialogConfirm}},[t.isShow?i("div",{staticClass:"setMarginCoin"},[i("div",{staticClass:"form-info"},[i("div",{staticClass:"category-select-box"},t._l(t.categoryList,(function(e,s){return i("span",{key:s,staticClass:"tab b-1-cl",class:e.classes,on:{click:function(i){return t.selectCategory(e.id)}}},[t._v("\n          "+t._s(e.text)+"\n        ")])})),0),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"}),i("p",{staticClass:"text2 a-5-bd"},[t._v("\n          "+t._s(t.lanText.text1)+"\n        ")]),i("p",{staticClass:"text2 a-5-bd"},[t._v("\n          "+t._s(t.lanText.text2)+"\n        ")])]),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.lanText.text3)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.marginData.positionVolume))+" "+t._s(t.marginData.coUnit)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.marginData.positionVolume))+" "+t._s(t.marginData.coUnit)+"\n        ")])]),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.lanText.text4)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.marginData.holdAmount))+" "+t._s(t.marginData.marginCoin)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.modifiedMargin))+" "+t._s(t.marginData.marginCoin)+"\n        ")])]),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.lanText.text5)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.activeLeverage())+" x\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.activeLeverage(2))+" x\n        ")])]),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.lanText.text6)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.marginData.reducePrice))+" "+t._s(t.marginData.marginCoin)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},["--"===t.modifiedReducePrice?[t._v("\n            "+t._s(t.modifiedReducePrice)+"\n          ")]:t._e(),[t._v("\n            "+t._s(t.thousandsComma(t.modifiedReducePrice))+"\n          ")],t._v("\n\n          "+t._s(t.marginData.marginCoin)+"\n        ")],2)]),1===t.marginReviseType?i("div",{staticClass:"info-item a-4-bg",staticStyle:{"margin-top":"10px"}},[i("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.lanText.text7)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.marginData.canUseAmount))+" "+t._s(t.marginData.marginCoin)+"\n        ")])]):i("div",{staticClass:"info-item a-4-bg",staticStyle:{"margin-top":"10px"}},[i("p",{staticClass:"text1"},[t._v("\n          "+t._s(t.lanText.text8)+"\n        ")]),i("p",{staticClass:"text2 b-1-cl a-5-bd"},[t._v("\n          "+t._s(t.thousandsComma(t.marginData.canSubMarginAmount))+" "+t._s(t.marginData.marginCoin)+"\n        ")])])]),i("div",{staticClass:"inline-input"},[i("c-inputLine",{attrs:{name:"marginValue",value:t.marginValue,promptText:t.marginPromptText,errorHave:!0,errorText:t.marginErrorText,errorFlag:t.marginErrorFlag},on:{onchanges:t.inputChanges}},[i("div",[i("i",{staticClass:"inp-marginCoin"},[t._v(t._s(t.marginData.marginCoin))]),i("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allevent}},[t._v("\n            "+t._s(t.lanText.text9)+"\n          ")])],1)])],1)]):t._e()])}),Ie=[],Me={name:"setMarginCoin",data:function(){return{dialogConfirmLoading:!1,marginReviseType:1,marginValue:"",marginErrorText:null,marginErrorFlag:!1,sumbitFla:!0}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function},marginData:{default:function(){},type:Object}},computed:{lanText:function(){return{titleText:this.$t("futures.setMarginCoin.titleText"),text1:this.$t("futures.setMarginCoin.text1"),text2:this.$t("futures.setMarginCoin.text2"),text3:this.$t("futures.setMarginCoin.text3"),text4:this.$t("futures.setMarginCoin.text4"),text5:this.$t("futures.setMarginCoin.text5"),text6:this.$t("futures.setMarginCoin.text6"),text7:this.$t("futures.setMarginCoin.text7"),text8:this.$t("futures.setMarginCoin.text8"),text9:this.$t("futures.setMarginCoin.text9"),text10:this.$t("futures.setMarginCoin.text10"),text11:this.$t("futures.setMarginCoin.text11"),text12:this.$t("futures.setMarginCoin.text12"),text13:this.$t("futures.setMarginCoin.text13"),text14:this.$t("futures.setMarginCoin.text14"),text15:this.$t("futures.setMarginCoin.text15")}},coUnitType:function(){return this.$store.state.future.coUnitType},categoryList:function(){return[{id:1,text:this.lanText.text10,classes:1===this.marginReviseType?"u-8-bg":"a-3-bg"},{id:2,text:this.lanText.text11,classes:2===this.marginReviseType?"u-8-bg":"a-3-bg"}]},marginPromptText:function(){return 1===this.marginReviseType?this.lanText.text12:this.lanText.text13},dialogConfirmDisabled:function(){return!(this.marginValue&&this.marginValue>0&&!this.marginErrorText)},mCionFix:function(){return this.marginData.mCionFix?this.marginData.mCionFix:8},modifiedMargin:function(){if(this.marginValue){var t=this.marginData.holdAmount||0,e=0;return 2===this.marginReviseType?(e=Object(d["f"])(Object(d["d"])(t,this.marginValue),this.mCionFix),e<0&&(e=0),e):(e=Object(d["f"])(Object(d["a"])(t,this.marginValue),this.mCionFix),e<0&&(e=0),e)}return this.marginData.holdAmount},modifiedReducePrice:function(){if(!this.marginValue)return this.marginData.reducePrice;var t=this.marginData,e=t.marginRate,i=t.indexPrice,s=t.keepRate,a=t.maxFeeRate,n=t.contractSide,r=t.priceFix;if(!e.toString()||!i.toString()||!s.toString()||!a.toString()||!n.toString())return"";var o=Object(d["e"])(this.interests,e),c=Object(d["x"])(Object(d["x"])(this.positionNumber,this.sideNumber),i),u=Object(d["d"])(o,c),l=Object(d["a"])(s,a),h=Object(d["x"])(l,this.positionNumber),f=Object(d["x"])(this.positionNumber,this.sideNumber),m=Object(d["d"])(h,f),p=Object(d["e"])(u,m);if(0===n){m=Object(d["a"])(h,f);var x=Object(d["e"])(Object(d["x"])(this.positionNumber,this.sideNumber),i),b=Object(d["a"])(o,x);p=Object(d["e"])(m,b)}return p<=0?"--":Object(d["f"])(p,r)},sideNumber:function(){return"BUY"===this.marginData.orderSide?1:-1},positionNumber:function(){var t=this.marginData.multiplier,e=this.marginData.positionVolumeOriginal;return e=t?Object(d["x"])(e,t):0,e},interests:function(){var t=this.marginData,e=t.realizedAmount,i=t.unRealizedAmount;return Object(d["a"])(Object(d["a"])(this.modifiedMargin,e),i)}},watch:{marginValue:function(t){var e=this;this.$nextTick((function(){e.marginValue=Object(d["h"])(t,e.mCionFix)}));var i=this.marginData,s=i.canUseAmount,a=i.canSubMarginAmount;1===this.marginReviseType?Number(this.marginValue)>Number(s)?this.$nextTick((function(){e.marginErrorText=e.lanText.text14,e.marginErrorFlag=!0})):this.$nextTick((function(){e.marginErrorText="",e.marginErrorFlag=!1})):Number(this.marginValue)>Number(a)?this.$nextTick((function(){e.marginErrorText=e.lanText.text15,e.marginErrorFlag=!0})):this.$nextTick((function(){e.marginErrorText="",e.marginErrorFlag=!1}))}},methods:{activeLeverage:function(t){var e=this.marginData,i=e.indexPrice,s=e.marginRate,a=e.contractSide,n=this.marginData.holdAmount;2===t&&(n=this.modifiedMargin);var r=0;this.positionNumber&&i&&n&&s&&(r=1===a?Object(d["e"])(Object(d["e"])(Object(d["x"])(this.positionNumber,i),n),s):Object(d["e"])(Object(d["e"])(Object(d["e"])(this.positionNumber,i),n),s));var o=Object(d["f"])(r,1);return Number(o)<.1&&(o="<0.1"),o},selectCategory:function(t){this.marginReviseType=t,this.marginValue=""},inputChanges:function(t,e){this[e]=t},dialogConfirm:function(){var t=this;if(this.sumbitFla){this.sumbitFla=!1;var e={type:this.marginReviseType,contractId:this.marginData.contractId,positionId:this.marginData.positionId,amount:1===this.marginReviseType?this.marginValue:"-".concat(this.marginValue)};this.axios({url:this.$store.state.url.futures.changePositionMargin,hostType:"co",params:e}).then((function(e){t.sumbitFla=!0,"0"===e.code?(t.marginValue="",t.close(),t.$store.dispatch("getPositionList"),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})})).catch((function(){t.sumbitFla=!0,t.$bus.$emit("tip",{text:t.$t("contract.c_error"),type:"error"})}))}},allevent:function(){1===this.marginReviseType?this.marginValue=this.marginData.canUseAmount:this.marginValue=this.marginData.canSubMarginAmount},thousandsComma:function(t){return t?Object(d["F"])(t):t}}},Pe=(i("05d3"),{mixins:[Me],mounted:function(){}}),Fe=Pe,Ne=Object(C["a"])(Fe,Ae,Ie,!1,null,null,null),je=Ne.exports,Ee=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-dialog",{staticClass:"stop-order-mode",attrs:{paddingBottom:"14px",titleText:t.lanText.titleText,showFlag:t.isShow,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled},on:{close:t.close,confirm:t.submit}},[i("div",{staticClass:"stopOrderMode-box"},[i("table",{staticClass:"positionLis-table"},[i("thead",{staticClass:"thead a-3-bd a-4-bg"},[i("tr",t._l(t.columns,(function(e,s){return i("th",{key:s},[i("div",[t._v(t._s(e.title))])])})),0)]),t.dataInfo&&t.dataInfo.sideClass?i("tbody",{staticClass:"tbody"},[i("tr",{staticClass:"a-3-bd"},[i("td",[i("div",[t.dataInfo.sideClass?i("i",{staticClass:"sideBg",class:t.dataInfo.sideClass.bg}):t._e(),i("p",{staticClass:"symbol-name"},[t._v(" "+t._s(t.dataInfo.name))])])]),i("td",[i("div",[i("p",{class:t.dataInfo.sideClass.color},["SELL"===t.dataInfo.orderSide?[t._v("-")]:t._e(),t._v("\n                "+t._s(t.thousandsComma(t.dataInfo.positionVolume))+"\n                / "+t._s(t.thousandsComma(t.dataInfo.canCloseVolume))+"\n              ")],2)])]),i("td",[i("div",[t._v(t._s(t.thousandsComma(t.dataInfo.openAvgPrice))+" ")])]),i("td",[i("div",[i("p",[t._v(" "+t._s(t.thousandsComma(t.newPrice))+"  ")])])]),i("td",[i("div",[t._v(" "+t._s(t.thousandsComma(t.dataInfo.reducePrice))+" ")])])])]):t._e()]),i("div",{staticClass:"block-title"},[i("span",{staticClass:"tit u-1-cl"},[t._v("\n        "+t._s(t.lanText.text1)+"\n      ")]),i("c-button",{attrs:{height:"26px",disabled:!t.takeProfitCount,paddingW:"6px"},on:{click:function(e){return t.cancelOrder(1)}}},[t._v("\n          "+t._s(t.lanText.text2)+"\n          "+t._s(t.takeProfitCount)+"\n      ")]),t.takeProfitCount?i("div",{staticClass:"condition-list"},[i("span",{staticClass:"a-4-bg-h a-3-bd"},[t._v("\n          "+t._s(t.takeOutProfit.volume)+" "+t._s(t.volUnit)+" @"+t._s(t.takeOutProfit.triggerPrice)+"\n        ")]),i("div",{staticClass:"condition-box a-5-bg a-3-bd"},[i("div",{staticClass:"order-c-table"},[i("div",{staticClass:"thead a-3-bd a-5-bg"},t._l(t.columns2,(function(e,s){return i("div",{key:s,staticClass:"th"},[t._v("\n                "+t._s(e.title)+"\n              ")])})),0),i("div",{staticClass:"tbody-box"},[i("vue-scroll",t._l(t.takeProfitList,(function(e,s){return i("div",{key:s,staticClass:"tbody a-3-bd"},[i("div",{staticClass:"td"},[t._v(" "+t._s(t.thousandsComma(e.triggerPrice))+" ")]),i("div",{staticClass:"td"},[t._v(" "+t._s(e.price)+" ")]),i("div",{staticClass:"td"},[t._v(t._s(t.thousandsComma(e.volume))+" ")])])})),0)],1)])])]):t._e()],1),i("div",{staticClass:"block-box clearfix"},[i("div",{staticClass:"form-block"},["BUY"===t.dataInfo.orderSide?i("p",[t._v("\n          "+t._s(t.lanText.text3)+"\n        ")]):i("p",[t._v("\n          "+t._s(t.lanText.text4)+"\n        ")]),i("form-input",{attrs:{fix:t.formData_1.fix,unit:t.formData_1.units,title:t.formData_1.title,placeHolder:t.placeHolder_one,default:t.formData_1.value,isError:t.formData_1.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_1",e)}}}),i("form-input",{attrs:{isMarket:t.isMarket_profit,fix:t.formData_2.fix,unit:t.formData_2.units,default:t.formData_2.value,placeHolder:t.formData_2.title,haveMarket:!0,isError:t.formData_2.errorText},on:{selectMarket:function(e){return t.selectMarket("isMarket_profit")},tradeChangeValue:function(e){return t.changeInput("formData_2",e)}}}),i("form-input",{attrs:{fix:t.formData_3.fix,unit:t.formData_3.units,placeHolder:t.formData_3.title,default:t.formData_3.value,isError:t.formData_3.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_3",e)}}})],1),i("div",{staticClass:"form-info"},[i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.lanText.text5)+"\n          ")]),t.takeAmount?i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.returnColor(t.takeAmount)},[t._v(t._s(t.setAmountFix(t.takeAmount)))]),t._v("\n            "+t._s(t.dataInfo.quote))]):t._e()]),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.lanText.text6)+"\n          ")]),i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.returnColor(t.takeAmountRate)},[t._v(t._s(t.takeAmountRate))]),t._v(" %")])])])]),i("div",{staticClass:"block-title"},[i("span",{staticClass:"tit u-4-cl"},[t._v("\n        "+t._s(t.lanText.text7)+"\n      ")]),i("c-button",{attrs:{disabled:!t.stopLossCount,height:"26px",paddingW:"6px"},on:{click:function(e){return t.cancelOrder(2)}}},[t._v("\n        "+t._s(t.lanText.text8)+"\n        "+t._s(t.stopLossCount)+"\n      ")]),t.stopLossCount?i("div",{staticClass:"condition-list"},[i("span",{staticClass:"a-4-bg-h a-3-bd"},[t._v("\n          "+t._s(t.takeLoss.volume)+" "+t._s(t.volUnit)+" @"+t._s(t.takeLoss.triggerPrice)+"\n        ")]),i("div",{staticClass:"condition-box a-5-bg a-3-bd"},[i("div",{staticClass:"order-c-table"},[i("div",{staticClass:"thead a-3-bd a-5-bg"},t._l(t.columns3,(function(e,s){return i("div",{key:s,staticClass:"th"},[t._v("\n                "+t._s(e.title)+"\n              ")])})),0),i("div",{staticClass:"tbody-box"},[i("vue-scroll",t._l(t.stopLossList,(function(e,s){return i("div",{key:s,staticClass:"tbody a-3-bd"},[i("div",{staticClass:"td"},[t._v(" "+t._s(t.thousandsComma(e.triggerPrice))+" ")]),i("div",{staticClass:"td"},[t._v(" "+t._s(e.price)+" ")]),i("div",{staticClass:"td"},[t._v(t._s(t.thousandsComma(e.volume))+" ")])])})),0)],1)])])]):t._e()],1),i("div",{staticClass:"block-box clearfix"},[i("div",{staticClass:"form-block"},["BUY"===t.dataInfo.orderSide?i("p",[t._v("\n          "+t._s(t.lanText.text9)+"\n        ")]):i("p",[t._v("\n          "+t._s(t.lanText.text10)+"\n        ")]),i("form-input",{attrs:{fix:t.formData_4.fix,unit:t.formData_4.units,title:t.formData_4.title,placeHolder:t.placeHolder_two,default:t.formData_4.value,isError:t.formData_4.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_4",e)}}}),i("form-input",{attrs:{isMarket:t.isMarket_loss,fix:t.formData_5.fix,unit:t.formData_5.units,default:t.formData_5.value,placeHolder:t.formData_5.title,haveMarket:!0,isError:t.formData_5.errorText},on:{selectMarket:function(e){return t.selectMarket("isMarket_loss")},tradeChangeValue:function(e){return t.changeInput("formData_5",e)}}}),i("form-input",{attrs:{fix:t.formData_3.fix,unit:t.formData_6.units,placeHolder:t.formData_6.title,default:t.formData_6.value,isError:t.formData_6.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_6",e)}}})],1),i("div",{staticClass:"form-info"},[i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.lanText.text11)+"\n          ")]),t.lossAmount?i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.returnColor(t.lossAmount)},[t._v(t._s(t.setAmountFix(t.lossAmount)))]),t._v("\n            "+t._s(t.dataInfo.quote))]):t._e()]),i("div",{staticClass:"info-item a-4-bg"},[i("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.lanText.text12)+"\n          ")]),i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.returnColor(t.takelossAmount)},[t._v(t._s(t.takelossAmount))]),t._v(" %\n          ")])])])]),i("div",{staticClass:"block-expireTime"})])])},Ue=[],Ve={name:"stopOrderMode",data:function(){return{imgMap:d["u"],colorMap:d["c"],marginModel:1,tableLoading:!1,dialogConfirmLoading:!1,tableDataList:[],formData_1:{title:"",units:this.priceUnit,fix:8,errorText:null,value:null},formData_2:{title:"",units:this.priceUnit,fix:8,errorText:null,value:null},formData_3:{title:"",units:"",fix:8,errorText:null,value:null},formData_4:{title:"",units:this.priceUnit,fix:8,errorText:null,value:null},formData_5:{title:"",units:this.priceUnit,fix:8,errorText:null,value:null},formData_6:{title:"",units:"",fix:8,errorText:null,value:null},isMarket_profit:!0,isMarket_loss:!0,takeProfitCount:null,stopLossCount:null,takeProfitList:[],stopLossList:[],sumbitFla:!0,cancelFla:!0,expireTime:"14",WsData:{}}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function},dataInfo:{default:function(){},type:Object}},computed:{lanText:function(){return{titleText:this.$t("futures.stopOrder.titleText"),text1:this.$t("futures.stopOrder.text1"),text2:this.$t("futures.stopOrder.text2"),text3:this.$t("futures.stopOrder.text3"),text4:this.$t("futures.stopOrder.text4"),text5:this.$t("futures.stopOrder.text5"),text6:this.$t("futures.stopOrder.text6"),text7:this.$t("futures.stopOrder.text7"),text8:this.$t("futures.stopOrder.text8"),text9:this.$t("futures.stopOrder.text9"),text10:this.$t("futures.stopOrder.text10"),text11:this.$t("futures.stopOrder.text11"),text12:this.$t("futures.stopOrder.text12"),text13:this.$t("futures.stopOrder.text13"),text14:this.$t("futures.stopOrder.text14"),text15:this.$t("futures.stopOrder.text15"),text16:this.$t("futures.stopOrder.text16"),text17:this.$t("futures.stopOrder.text17"),text18:this.$t("futures.stopOrder.text18"),text19:this.$t("futures.stopOrder.text19"),text20:this.$t("futures.stopOrder.text20"),text21:this.$t("futures.stopOrder.text21"),text22:this.$t("futures.stopOrder.text22"),text23:this.$t("futures.stopOrder.text23"),text24:this.$t("futures.stopOrder.text24"),text25:this.$t("futures.stopOrder.text25"),text26:this.$t("futures.stopOrder.text26"),text27:this.$t("futures.stopOrder.text27"),text28:this.$t("futures.stopOrder.text28"),text29:this.$t("futures.stopOrder.text29"),text30:this.$t("futures.stopOrder.text30"),columns1:this.$t("futures.stopOrder.columns1"),columns2:this.$t("futures.stopOrder.columns2"),columns3:this.$t("futures.stopOrder.columns3"),columns4:this.$t("futures.stopOrder.columns4"),columns5:this.$t("futures.stopOrder.columns5"),columns6:this.$t("futures.stopOrder.columns6"),columns7:this.$t("futures.stopOrder.columns7"),columns8:this.$t("futures.stopOrder.columns8"),columns9:this.$t("futures.stopOrder.columns9"),columns10:this.$t("futures.stopOrder.columns10"),time1:this.$t("futures.stopOrder.time1"),time2:this.$t("futures.stopOrder.time2"),time3:this.$t("futures.stopOrder.time3"),time4:this.$t("futures.stopOrder.time4")}},userConfig:function(){return this.$store.state.future.futureUserConfig},coUnitType:function(){return this.$store.state.future.coUnitType},volUnit:function(){return this.$store.state.future.coUnit},columns:function(){var t=1===this.coUnitType?this.lanText.text19:this.lanText.text16;return[{title:this.lanText.columns1},{title:"".concat(this.lanText.columns2,"(").concat(t,")")},{title:this.lanText.columns3},{title:this.lanText.columns10},{title:this.lanText.columns5}]},columns2:function(){return[{title:this.lanText.columns6},{title:this.lanText.columns7},{title:this.lanText.columns8}]},columns3:function(){return[{title:this.lanText.columns9},{title:this.lanText.columns7},{title:this.lanText.columns8}]},dialogConfirmDisabled:function(){return!this.formVerify()},positionVolume:function(){return this.dataInfo.positionVolumeOriginal},takeAmount:function(){var t,e="0",i=this.formData_3.value,s=this.dataInfo,a=s.openAvgPrice,n=s.orderSide,r=this.isMarket_profit?this.formData_1.value:this.formData_2.value;return i&&r?(t="BUY"===n?Object(d["d"])(r,a):Object(d["d"])(a,r),e=Object(d["x"])(t,this.volumeNumber(i)),"".concat(e)):e},lossAmount:function(){var t,e="0",i=this.formData_6.value,s=this.dataInfo,a=s.openAvgPrice,n=s.orderSide,r=this.isMarket_loss?this.formData_4.value:this.formData_5.value;return i&&r?(t="BUY"===n?Object(d["d"])(r,a):Object(d["d"])(a,r),e=Object(d["x"])(t,this.volumeNumber(i)),"".concat(e)):e},takeAmountRate:function(){return this.returnate(this.takeAmount,this.formData_3.value)},takelossAmount:function(){return this.returnate(this.lossAmount,this.formData_6.value)},takeOutProfit:function(){var t=this;if(!this.takeProfitList.length)return null;var e=this.dataInfo.orderSide,i=this.takeProfitList[0];return this.takeProfitList.forEach((function(s,a){var n=t.takeProfitList[a+1]||{};i="SELL"===e?i.triggerPrice<n.triggerPrice?n:i:i.triggerPrice>n.triggerPrice?n:i})),i},takeLoss:function(){var t=this;if(!this.stopLossList.length)return null;var e=this.dataInfo.orderSide,i=this.stopLossList[0];return this.stopLossList.forEach((function(s,a){var n=t.stopLossList[a+1]||{};i="BUY"===e?i.triggerPrice<n.triggerPrice?n:i:i.triggerPrice>n.triggerPrice?n:i})),i},placeHolder_one:function(){return"BUY"===this.dataInfo.orderSide?"".concat(this.lanText.text20," > ").concat(this.thousandsComma(this.dataInfo.indexPrice)):"".concat(this.lanText.text20," < ").concat(this.thousandsComma(this.dataInfo.indexPrice))},placeHolder_two:function(){return"BUY"===this.dataInfo.orderSide?"".concat(this.lanText.text20," < ").concat(this.thousandsComma(this.dataInfo.indexPrice)):"".concat(this.lanText.text20," > ").concat(this.thousandsComma(this.dataInfo.indexPrice))},planTypeList:function(){return[{name:this.lanText.time1,id:"1"},{name:this.lanText.time2,id:"7"},{name:this.lanText.time3,id:"14"},{name:this.lanText.time4,id:"30"}]},newPrice:function(){if(this.WsData&&this.dataInfo){var t="".concat(this.dataInfo.contractType,"_").concat(this.dataInfo.symbol.replace("-","")),e=t.toLowerCase();return this.WsData&&this.WsData[e]?this.WsData[e].close:0}return 0}},watch:{dataInfo:function(t){t.brokerId&&(this.getStopList(),this.initForm())},isShow:function(){this.initForm()},"formData_1.value":function(t){t&&Number(t)&&(this.formData_1.errorText=null)},"formData_2.value":function(t){t&&Number(t)&&(this.formData_2.errorText=null)},"formData_3.value":function(t){t&&Number(t)&&(this.formData_3.errorText=null)},"formData_4.value":function(t){t&&Number(t)&&(this.formData_4.errorText=null)},"formData_5.value":function(t){t&&Number(t)&&(this.formData_5.errorText=null)},"formData_6.value":function(t){t&&Number(t)&&(this.formData_6.errorText=null)}},methods:{init:function(){var t=this;this.$bus.$on("FUTURE_MARKET_DATA",(function(e){t.WsData=JSON.parse(e)}))},setAmountFix:function(t){var e=this.dataInfo.priceFix,i=e+2;return i>8&&(i=8),this.thousandsComma(Object(d["f"])(t,i))},returnate:function(t,e){var i=this.dataInfo.holdAmount;if(t&&i&&e){var s=t/i/this.volumeSheet(e)*this.positionVolume,a=100*s;return Object(d["f"])(a,2)}return 0},returnColor:function(t){if(t){if(Number(t)<0)return"u-4-cl";if(Number(t)>0)return"u-1-cl"}return""},volumeNumber:function(t){if(2===this.coUnitType){var e=this.dataInfo.multiplier;return e?Object(d["x"])(t,e):0}return t},volumeSheet:function(t){if(1===this.coUnitType&&t){var e=this.dataInfo.multiplier;return e?Object(d["e"])(t,e):0}return t},initForm:function(){var t=this.dataInfo.multiplierCoin;2===this.coUnitType&&(t=this.lanText.text16),this.formData_1.title=this.lanText.text13,this.formData_2.title=this.lanText.text14,this.formData_3.title=this.lanText.text15,this.formData_4.title=this.lanText.text17,this.formData_5.title=this.lanText.text18,this.formData_6.title=this.lanText.text15,this.formData_1.value=null,this.formData_2.value=null,this.formData_3.value=null,this.formData_4.value=null,this.formData_5.value=null,this.formData_6.value=null,this.formData_1.errorText=null,this.formData_2.errorText=null,this.formData_3.errorText=null,this.formData_4.errorText=null,this.formData_5.errorText=null,this.formData_6.errorText=null,this.formData_1.units=this.dataInfo.quote,this.formData_1.fix=this.dataInfo.priceFix,this.formData_2.units=this.dataInfo.quote,this.formData_2.fix=this.dataInfo.priceFix,this.formData_4.units=this.dataInfo.quote,this.formData_4.fix=this.dataInfo.priceFix,this.formData_5.units=this.dataInfo.quote,this.formData_5.fix=this.dataInfo.priceFix,this.formData_3.units=t,this.formData_6.units=t,2===this.coUnitType?(this.formData_3.fix=0,this.formData_6.fix=0):(this.formData_3.fix=this.dataInfo.volfix,this.formData_6.fix=this.dataInfo.volfix)},selectMarket:function(t){"isMarket_profit"===t?this.formData_2.value="":this.formData_5.value="",this[t]=!this[t]},changeInput:function(t,e){this[t].value=e},getStopList:function(){var t=this;this.axios({url:this.$store.state.url.futures.takeProfitStopLoss,hostType:"co",params:{contractId:this.dataInfo.contractId,orderSide:this.dataInfo.orderSide}}).then((function(e){if("0"===e.code&&e.data){t.takeProfitCount=e.data.takeProfitCount,t.stopLossCount=e.data.stopLossCount;var i=e.data,s=i.takeProfitList,a=i.stopLossList;t.takeProfitList=t.setlist(s),t.stopLossList=t.setlist(a)}}))},setlist:function(t){var e=this,i=this.dataInfo.priceFix,s=[];return t&&t.length?(t.forEach((function(t){s.push({id:t.id,triggerPrice:Object(d["f"])(t.triggerPrice,i),price:0===t.price?e.lanText.text30:e.thousandsComma(Object(d["f"])(t.price,i)),volume:e.setNumber(t.volume)})})),s):s},setNumber:function(t,e){var i=this.dataInfo,s=i.multiplier,a=i.volfix;return 1===this.coUnitType&&t&&s?2===e?Object(d["f"])(Object(d["e"])(t,s),0):Object(d["f"])(Object(d["x"])(t,s),a):t},formVerify:function(){var t=!0;return(this.formData_1.value||this.formData_3.value)&&(this.formData_1.value&&this.formData_3.value&&(this.formData_2.value||this.isMarket_profit)||(t=!1)),(this.formData_4.value||this.formData_6.value)&&(this.formData_4.value&&this.formData_6.value&&(this.formData_5.value||this.isMarket_loss)||(t=!1)),this.formData_1.value||this.formData_4.value||(t=!1),t},formVerify_v2:function(){var t=!0,e=this.dataInfo,i=e.indexPrice,s=e.reducePrice,a=e.canCloseVolume,n=e.orderSide;if(this.formData_1.value&&i)if("BUY"===n){if(Number(this.formData_1.value)<=Number(i))return this.$bus.$emit("tip",{text:this.lanText.text21,type:"error"}),this.formData_1.errorText="true",!1}else if(Number(this.formData_1.value)>=Number(i))return this.$bus.$emit("tip",{text:this.lanText.text22,type:"error"}),this.formData_1.errorText="true",!1;if(this.formData_4.value&&i)if("BUY"===n){if(Number(this.formData_4.value)>=Number(i))return this.$bus.$emit("tip",{text:this.lanText.text23,type:"error"}),this.formData_4.errorText="true",!1;if(Number(this.formData_4.value)<=Number(s))return this.$bus.$emit("tip",{text:this.lanText.text24,type:"error"}),this.formData_4.errorText="true",!1}else{if(Number(this.formData_4.value)<=Number(i))return this.$bus.$emit("tip",{text:this.lanText.text25,type:"error"}),this.formData_4.errorText="true",!1;if(Number(this.formData_4.value)>=Number(s))return this.$bus.$emit("tip",{text:this.lanText.text26,type:"error"}),this.formData_4.errorText="true",!1}if(this.formData_2.value&&this.formData_1.value){var r=this.dataInfo.coinResultVo.priceRange,o=Math.abs(Object(d["e"])(Object(d["d"])(this.formData_1.value,this.formData_2.value),this.formData_1.value));if(o>r)return this.$bus.$emit("tip",{text:this.lanText.text27,type:"error"}),this.formData_2.errorText="true",!1}return this.formData_3.value&&a&&Number(a)<Number(this.formData_3.value)?(this.$bus.$emit("tip",{text:this.lanText.text28,type:"error"}),this.formData_3.errorText="true",!1):this.formData_6.value&&a&&Number(a)<Number(this.formData_6.value)?(this.$bus.$emit("tip",{text:this.lanText.text28,type:"error"}),this.formData_6.errorText="true",!1):t},submit:function(){var t=this;if(this.formVerify()&&this.formVerify_v2()&&this.sumbitFla){this.sumbitFla=!1;var e=[];this.formData_1.value&&e.push({triggerType:2,type:this.isMarket_profit?2:1,price:this.isMarket_profit?0:this.formData_2.value,volume:this.setNumber(this.formData_3.value,2),triggerPrice:this.formData_1.value}),this.formData_4.value&&e.push({triggerType:1,type:this.isMarket_loss?2:1,price:this.isMarket_loss?0:this.formData_5.value,volume:this.setNumber(this.formData_6.value,2),triggerPrice:this.formData_4.value,expiredTime:this.expireTime});var i={contractId:this.dataInfo.contractId,positionType:this.dataInfo.positionType,leverageLevel:this.dataInfo.leverageLevel,side:"BUY"===this.dataInfo.orderSide?"SELL":"BUY",orderList:e};this.axios({url:this.$store.state.url.futures.createTpslOrder,hostType:"co",params:i}).then((function(e){if("0"===e.code)t.close(),t.$bus.$emit("tip",{text:e.msg,type:"success"});else{var i=e.data.respList;i&&i.length&&i.forEach((function(e){"0"===e.code?(t.close(),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))}t.sumbitFla=!0})).catch((function(){t.sumbitFla=!0}))}},cancelOrder:function(t){var e=this;if(this.cancelFla){this.cancelFla=!1;var i=[];1===t?this.takeProfitList.forEach((function(t){i.push(t.id)})):this.stopLossList.forEach((function(t){i.push(t.id)})),this.axios({url:this.$store.state.url.futures.orderTpslCancel,hostType:"co",params:{contractId:this.dataInfo.contractId,orderIds:i.join(",")}}).then((function(t){"0"===t.code?(e.$bus.$emit("tip",{text:t.msg,type:"success"}),e.getStopList()):e.$bus.$emit("tip",{text:t.msg,type:"error"}),e.cancelFla=!0})).catch((function(){e.cancelFla=!0}))}},thousandsComma:function(t){return t?Object(d["F"])(t):t},selectPlanType:function(t){this.expireTime=t}}},Be=(i("ea14"),{mixins:[Ve],components:{formInput:Nt},mounted:function(){this.init()}}),Re=Be,We=Object(C["a"])(Re,Ee,Ue,!1,null,null,null),He=We.exports,ze={mixins:[ke],components:{setMarginCoin:je,forcedReminder:Wt,stopOrder:He},mounted:function(){this.init()},beforeDestroy:function(){}},Ye=ze,Je=Object(C["a"])(Ye,De,Se,!1,null,null,null),Ge=Je.exports,Ke={mixins:[we],components:{positionLis:Ge,tabs:tt["a"]},mounted:function(){this.init()},beforeDestroy:function(){clearInterval(this.getDataInter)}},qe=Ke,Xe=(i("2a8c"),Object(C["a"])(qe,ye,$e,!1,null,null,null)),Ze=Xe.exports,Qe=i("00b6"),ti=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"contract-dialog"},[i("c-dialog",{attrs:{paddingBottom:"14px",showFlag:t.isShow,titleText:t.lanText.titleText,confirmText:t.confirmText},on:{close:t.close,confirm:t.submitConfirm}},[i("section",{staticClass:"set-up-window"},[i("div",{staticClass:"redio-block2"},[i("div",{staticClass:"label b-2-cl"},[t._v("\n          "+t._s(t.lanText.text1)+"")]),i("div",{staticClass:"redio-box2"},[i("p",{staticClass:"ts-1 u-4-cl"},[t._v("\n            "+t._s(t.lanText.text2)+"\n          ")]),i("div",{staticClass:"item"},[i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("positionModel",1)}}},[i("c-redio",{attrs:{value:1===t.positionModel}}),t._v("\n              "+t._s(t.lanText.text3)+"\n            ")],1),i("p",{staticClass:"ts-2 b-1-cl"},[t._v("\n              "+t._s(t.lanText.text4)+"\n            ")])]),i("div",{staticClass:"item"},[i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("positionModel",2)}}},[i("c-redio",{attrs:{value:2===t.positionModel}}),t._v("\n              "+t._s(t.lanText.text5)+"\n            ")],1),i("p",{staticClass:"ts-2 b-1-cl"},[t._v("\n              "+t._s(t.lanText.text6)+"\n            ")])])])]),i("div",{staticClass:"redio-block"},[i("span",{staticClass:"label b-2-cl"},[t._v("\n          "+t._s(t.lanText.text10)+"")]),i("div",{staticClass:"redio-box"},[i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("coUnit",2)}}},[i("c-redio",{attrs:{value:2===t.coUnit}}),t._v("\n            "+t._s(t.lanText.text11)+"\n          ")],1),i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("coUnit",1)}}},[i("c-redio",{attrs:{value:1===t.coUnit}}),t._v(" "+t._s(t.multiplierCoin)+"\n          ")],1)])]),i("div",{staticClass:"redio-block"},[i("span",{staticClass:"label b-2-cl"},[t._v("\n          "+t._s(t.$t("futures.setFutures.text13"))+"")]),i("div",{staticClass:"redio-box"},[i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("expireTime",1)}}},[i("c-redio",{attrs:{value:1===t.expireTime}}),t._v("\n            "+t._s(t.$t("futures.tradeForm.text16"))+"\n          ")],1),i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("expireTime",7)}}},[i("c-redio",{attrs:{value:7===t.expireTime}}),t._v("\n            "+t._s(t.$t("futures.tradeForm.text17"))+"\n          ")],1),i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("expireTime",14)}}},[i("c-redio",{attrs:{value:14===t.expireTime}}),t._v("\n            "+t._s(t.$t("futures.tradeForm.text18"))+"\n\n          ")],1),i("span",{staticClass:"b-1-cl",on:{click:function(e){return t.redioChange("expireTime",30)}}},[i("c-redio",{attrs:{value:30===t.expireTime}}),t._v("\n            "+t._s(t.$t("futures.tradeForm.text19"))+"\n          ")],1)])]),i("div",{staticClass:"redio-block"},[i("span",{staticClass:"label b-2-cl"},[t._v("\n          "+t._s(t.lanText.text7)+"")]),i("div",{staticClass:"redio-box"},[i("c-switch",{attrs:{value:t.switchFlag},on:{click:t.switchChange}}),i("span",{staticClass:"b-1-cl"},[t._v("\n            "+t._s(t.$t("futures.setFutures.text14"))+"\n          ")])],1)])])])],1)},ei=[],ii={name:"forced-reminder",data:function(){return{positionModel:d["w"].get("positionModel")||2,pcSecondConfirm:d["w"].get("pcSecondConfirm")||1,coUnit:d["w"].get("coUnitType")||2,positionModelCanSwitch:!0,switchFlag:!0,expireTime:14}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function}},computed:{lanText:function(){return{titleText:this.$t("futures.setFutures.titleText"),text1:this.$t("futures.setFutures.text1"),text2:this.$t("futures.setFutures.text2"),text3:this.$t("futures.setFutures.text3"),text4:this.$t("futures.setFutures.text4"),text5:this.$t("futures.setFutures.text5"),text6:this.$t("futures.setFutures.text6"),text7:this.$t("futures.setFutures.text7"),text8:this.$t("futures.setFutures.text8"),text9:this.$t("futures.setFutures.text9"),text10:this.$t("futures.setFutures.text10"),text11:this.$t("futures.setFutures.text11"),text12:this.$t("futures.setFutures.text12")}},userConfig:function(){return this.$store.state.future.futureUserConfig},contractInfo:function(){return this.$store.state.future.contractInfo},multiplierCoin:function(){return this.userConfig?this.userConfig.multiplierCoin:this.contractInfo?this.contractInfo.base:"BTC"},isLogin:function(){return this.$store.state.baseData.isLogin},contractId:function(){return this.$store.state.future.contractId},confirmText:function(){return this.lanText.text12},openContract:function(){return this.$store.state.future.openContract}},watch:{userConfig:function(t){t?(this.positionModel=this.userConfig.positionModel,this.pcSecondConfirm=this.userConfig.pcSecondConfirm,this.coUnit=this.userConfig.coUnit,this.expireTime=this.userConfig.expireTime,this.positionModelCanSwitch=!!this.userConfig.positionModelCanSwitch,d["w"].set("pcSecondConfirm",this.pcSecondConfirm)):this.pcSecondConfirm=d["w"].get("pcSecondConfirm")||1,this.pcSecondConfirm?this.switchFlag=!0:this.switchFlag=!1}},methods:{init:function(){this.userConfig?(this.positionModel=this.userConfig.positionModel,this.pcSecondConfirm=this.userConfig.pcSecondConfirm,this.coUnit=this.userConfig.coUnit,this.expireTime=this.userConfig.expireTime,this.positionModelCanSwitch=!!this.userConfig.positionModelCanSwitch,d["w"].set("pcSecondConfirm",this.pcSecondConfirm)):this.pcSecondConfirm=d["w"].get("pcSecondConfirm")||1,this.pcSecondConfirm?this.switchFlag=!0:this.switchFlag=!1},redioChange:function(t,e){"positionModel"===t&&!this.positionModelCanSwitch&&this.isLogin&&this.openContract?this.$bus.$emit("tip",{text:"/",type:"error"}):this[t]=e},switchChange:function(){this.switchFlag=!this.switchFlag},submitConfirm:function(){var t=this;return this.isLogin&&this.openContract?(this.userConfig?(this.dialogConfirmLoading=!0,this.axios({url:this.$store.state.url.futures.editUserPageConfig,hostType:"co",method:"post",params:{positionModel:this.positionModel,pcSecondConfirm:this.switchFlag?1:0,coUnit:this.coUnit,contractId:this.contractId,expireTime:this.expireTime}}).then((function(e){var i=e.code,s=e.msg;"0"===i.toString()?(d["w"].set("pcSecondConfirm",t.pcSecondConfirm),d["w"].set("coUnitType",t.coUnit),d["w"].set("positionModel",t.positionModel),t.$store.dispatch("getUserConfig"),t.close(),t.$bus.$emit("tip",{text:s,type:"success"})):t.$bus.$emit("tip",{text:s,type:"error"}),t.dialogConfirmLoading=!1}))):console.error("userConfig"),!1):(d["w"].set("coUnitType",this.coUnit),d["w"].set("pcSecondConfirm",this.pcSecondConfirm),d["w"].set("positionModel",this.positionModel),this.$store.commit("SET_COUNIT_TYPE",this.coUnit),this.$store.dispatch("setActivePublicInfo"),this.$bus.$emit("set-future",{positionModel:this.positionModel,coUnit:this.coUnit,pcSecondConfirm:this.pcSecondConfirm}),this.close(),!1)}}},si=(i("634f"),{mixins:[ii],mounted:function(){this.init()}}),ai=si,ni=Object(C["a"])(ai,ti,ei,!1,null,null,null),ri=ni.exports,oi=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("c-dialog",{staticClass:"calculator-mode",attrs:{paddingBottom:"20px",titleText:t.lanText.text1,showFlag:t.isShow,haveOption:t.haveOption,confirmLoading:t.dialogConfirmLoading,confirmDisabled:t.dialogConfirmDisabled},on:{close:t.close,confirm:t.submit}},[i("div",{staticClass:"calculatorMode-box"},[i("div",{staticClass:"category-select-box"},t._l(t.categoryTypeList,(function(e,s){return i("span",{key:s,staticClass:"tab b-1-cl",class:e.classes,on:{click:function(i){return t.switchType("categoryType",e.id)}}},[t._v("\n        "+t._s(e.text)+"\n      ")])})),0),i("div",{staticClass:"block-box clearfix"},[i("div",{staticClass:"form-block"},[i("div",{staticClass:"category-select-box"},t._l(t.sideTypeList,(function(e,s){return i("span",{key:s,staticClass:"tab b-1-cl",class:e.classes,on:{click:function(i){return t.switchType("sideType",e.id)}}},[t._v("\n            "+t._s(e.text)+"\n          ")])})),0),i("div",{staticClass:"add-and-sub a-3-bd",class:t.inputActiveClass},[i("label",{staticClass:"label"},[t._v("\n            "+t._s(t.lanText.text2)+"\n          ")]),i("div",{staticClass:"content"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.leverage,expression:"leverage"}],staticClass:"b-1-cl",attrs:{type:"text"},domProps:{value:t.leverage},on:{focus:function(e){t.inputActiveClass="a-12-bd"},blur:function(e){t.inputActiveClass="a-3-bd"},input:function(e){e.target.composing||(t.leverage=e.target.value)}}})]),i("div",{staticClass:"options"},[i("a",{staticClass:"add a-3-bd",on:{click:t.add}},[i("i",[i("svg",{staticClass:"icon icon-14 hover-show",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11"}})]),i("svg",{staticClass:"icon icon-14  hover-hide",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11_1"}})])])]),i("a",{staticClass:"sub a-3-bd",on:{click:t.subtract}},[i("i",[i("svg",{staticClass:"icon icon-14  hover-show",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11"}})]),i("svg",{staticClass:"icon icon-14  hover-hide",attrs:{"aria-hidden":"true"}},[i("use",{attrs:{"xlink:href":"#icon-a_11_1"}})])])])])]),i("div",{ref:"dragStepWrap",staticClass:"transaction-drag",on:{click:function(e){return e.stopPropagation(),t.onmousedownCick.apply(null,arguments)}}},[i("span",{ref:"dragStep",staticClass:"drag-step c-8-bd a-5-bg",style:{left:t.stepPosition+"%"},on:{mousedown:t.onmousedown}}),i("span",{staticClass:"drag-def a-3-bg"},[i("em",{staticClass:"drag-bar c-8-bg",style:{width:t.stepPosition+"%"}})]),i("i",{staticClass:"c-8-bg a-6-bd drag-step0",style:{left:"1%"},on:{click:function(e){return e.stopPropagation(),t.dragStep(0)}}},[i("b",{staticClass:"mark"},[t._v("1X")])]),t._l(5,(function(e){return i("i",{key:e,staticClass:"a-3-bg a-6-bd",class:["drag-step"+e,20*e>t.stepPosition?"a-3-bg":"c-8-bg"],style:{left:parseInt(20*e)+"%"},on:{click:function(i){return i.stopPropagation(),t.dragStep(e)}}},[i("b",{staticClass:"mark"},[t._v(t._s(t.nulFun(e,t.itemLvaue))+" X")])])}))],2),i("div",{staticClass:"max-can-open"},[t._v("\n          "+t._s(t.lanText.text3)+"\n          "),i("span",[t._v(" "+t._s(t.maxNumber)+" "+t._s(t.volUnit)+" ")])]),t.formData_1.isShow?i("form-input",{attrs:{fix:t.formData_1.fix,unit:t.formData_1.units,placeHolder:t.formData_1.title,default:t.formData_1.value,isError:t.formData_1.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_1",e)}}}):t._e(),t.formData_2.isShow?i("form-input",{attrs:{fix:t.formData_2.fix,unit:t.formData_2.units,default:t.formData_2.value,placeHolder:t.formData_2.title,isError:t.formData_2.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_2",e)}}}):t._e(),t.formData_3.isShow?i("form-input",{attrs:{fix:t.formData_3.fix,unit:t.formData_3.units,placeHolder:t.formData_3.title,default:t.formData_3.value,isError:t.formData_3.errorText},on:{tradeChangeValue:function(e){return t.changeInput("formData_3",e)}}}):t._e(),i("c-button",{attrs:{height:"40px",disabled:t.dialogConfirmDisabled,paddingW:"6px",width:"100%",marginTop:"6px"},on:{click:t.submit}},[t._v("\n           "+t._s(t.lanText.text4)+"\n      ")])],1),i("div",{staticClass:"form-info a-4-bg"},[i("div",{staticClass:"tit a-5-bd"},[t._v("\n          "+t._s(t.lanText.text5)+"\n        ")]),1===t.categoryType?[i("div",{staticClass:"info-item a-5-bd"},[i("p",{staticClass:"text1"},[t._v("\n              "+t._s(t.lanText.text6)+"\n            ")]),i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.openMarginClass},[t._v("\n                "+t._s(t.thousandsComma(t.openMargin)))]),t._v(" "+t._s(t.marginCoin))])]),i("div",{staticClass:"info-item a-5-bd"},[i("p",{staticClass:"text1"},[t._v("\n              "+t._s(t.lanText.text7)+"\n            ")]),i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.revenueClass},[t._v(t._s(t.thousandsComma(t.revenue))+"\n              ")]),t._v(" "+t._s(t.marginCoin))])]),i("div",{staticClass:"info-item a-5-bd"},[i("p",{staticClass:"text1"},[t._v("\n              "+t._s(t.lanText.text8)+"\n            ")]),i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.reportRateClass},[t._v("\n                "+t._s(t.thousandsComma(t.reportRate)))]),t._v(" %")])])]:t._e(),2===t.categoryType?i("div",{staticClass:"info-item a-5-bd"},[i("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.lanText.text9)+"\n          ")]),"none"===t.closePrice?i("p",{staticClass:"text2 a-5-bd"},[t._v("\n            "+t._s(t.lanText.text10)+"\n          ")]):i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.closePriceClass},[t._v(t._s(t.thousandsComma(t.closePrice)))]),t._v("\n            "+t._s(t.priceUnit))])]):t._e(),3===t.categoryType?i("div",{staticClass:"info-item a-5-bd"},[i("p",{staticClass:"text1"},[t._v("\n            "+t._s(t.lanText.text11)+"\n          ")]),i("p",{staticClass:"text2 a-5-bd"},[i("span",{class:t.forceClosePriceClass},[t._v(t._s(t.forceClosePrice)+" ")]),t.forceClosePriceNUm?[t._v(" "+t._s(t.priceUnit)+" ")]:t._e()],2)]):t._e()],2)])])])},ci=[],ui={name:"calculatorMode",data:function(){return{imgMap:d["u"],colorMap:d["c"],marginModel:1,haveOption:!1,tableLoading:!1,dialogConfirmLoading:!1,tableDataList:[],categoryType:1,sideType:1,formData_1:{title:"",units:this.priceUnit,fix:8,errorText:null,value:null,isShow:!0},formData_2:{title:"",units:this.priceUnit,fix:8,errorText:null,value:null,isShow:!0},formData_3:{title:"",units:"",fix:8,errorText:null,value:null,isShow:!0},stepPosition:1,currenttage:1,movement:0,leverage:0,minLeverage:1,maxLeverage:100,maxNumber:0,openMargin:0,openMargin_opi:0,openMarginClass:"",revenue:0,revenue_opi:0,revenueClass:"",closePrice:0,closePriceClass:"",forceClosePrice:0,forceClosePriceClass:"",forceClosePriceNUm:!0,ladderList:[],leverCeiling:{},inputActiveClass:""}},props:{isShow:{default:!1,type:Boolean},close:{default:function(){},type:Function},dataInfo:{default:function(){},type:Object}},computed:{lanText:function(){return{text1:this.$t("futures.calculator.text1"),text2:this.$t("futures.calculator.text2"),text3:this.$t("futures.calculator.text3"),text4:this.$t("futures.calculator.text4"),text5:this.$t("futures.calculator.text5"),text6:this.$t("futures.calculator.text6"),text7:this.$t("futures.calculator.text7"),text8:this.$t("futures.calculator.text8"),text9:this.$t("futures.calculator.text9"),text10:this.$t("futures.calculator.text10"),text11:this.$t("futures.calculator.text11"),text12:this.$t("futures.calculator.text12"),text13:this.$t("futures.calculator.text13"),text14:this.$t("futures.calculator.text14"),text15:this.$t("futures.calculator.text15"),text16:this.$t("futures.calculator.text16"),text17:this.$t("futures.calculator.text17"),text18:this.$t("futures.calculator.text18"),text19:this.$t("futures.calculator.text19"),text20:this.$t("futures.calculator.text20"),text21:this.$t("futures.calculator.text21"),text22:this.$t("futures.calculator.text22"),text23:this.$t("futures.calculator.text23"),text24:this.$t("futures.calculator.text24")}},userConfig:function(){return this.$store.state.future.futureUserConfig},contractInfo:function(){return this.$store.state.future.contractInfo},contractId:function(){return this.$store.state.future.contractId},contractSide:function(){return this.contractInfo?this.contractInfo.contractSide:1},marginRate:function(){return this.contractInfo?this.contractInfo.marginRate:1},coUnitType:function(){return this.$store.state.future.coUnitType},volUnit:function(){return this.$store.state.future.coUnit},volfix:function(){return 1===this.coUnitType?this.$store.state.future.volfix:0},volfix_two:function(){return this.$store.state.future.volfix},priceUnit:function(){return this.$store.state.future.priceUnit},multiplier:function(){return Number(this.$store.state.future.multiplier)||1},pricefix:function(){return this.$store.state.future.pricefix},marginCoin:function(){return this.contractInfo?this.contractInfo.marginCoin:""},marginCoinFix:function(){return this.contractInfo&&this.contractInfo.coinResultVo?this.contractInfo.coinResultVo.marginCoinPrecision:4},categoryTypeList:function(){return[{id:1,text:this.lanText.text16,classes:1===this.categoryType?"u-8-bg":"a-3-bg"},{id:2,text:this.lanText.text13,classes:2===this.categoryType?"u-8-bg":"a-3-bg"},{id:3,text:this.lanText.text11,classes:3===this.categoryType?"u-8-bg":"a-3-bg"}]},sideTypeList:function(){return 3===this.categoryType?[{id:1,text:this.lanText.text17,classes:1===this.sideType?"u-1-bg":"a-3-bg"},{id:2,text:this.lanText.text18,classes:2===this.sideType?"u-4-bg":"a-3-bg"}]:[{id:1,text:this.lanText.text19,classes:1===this.sideType?"u-1-bg":"a-3-bg"},{id:2,text:this.lanText.text20,classes:2===this.sideType?"u-4-bg":"a-3-bg"}]},itemLvaue:function(){return Object(d["e"])(this.maxLeverage,5)},feeValue:function(){return Object(d["e"])(this.maxLeverage,100)},dialogConfirmDisabled:function(){return!this.formVerify()},reportRate:function(){return this.openMargin_opi&&this.revenue_opi?Object(d["f"])(this.revenue_opi/this.openMargin_opi*100,2):0},reportRateClass:function(){if(this.reportRate){if(Number(this.reportRate)>0)return"u-1-cl";if(Number(this.reportRate)<0)return"u-4-cl"}return""},tagPrice:function(){var t=this.$store.state.future.publicMarkertInfo;return t?t.tagPrice:0}},watch:{dataInfo:function(t){t.brokerId&&(this.getStopList(),this.initForm())},isShow:function(t){t&&this.init(),this.initForm()},"formData_1.value":function(t){t&&Number(t)&&(this.formData_1.errorText=null)},"formData_2.value":function(t){t&&Number(t)&&(this.formData_2.errorText=null)},"formData_3.value":function(t){t&&Number(t)&&(this.formData_3.errorText=null)},currenttage:function(t){t||0===t?(t>100&&(this.currenttage=100),this.leverage=t<2?1:Math.round(Object(d["x"])(this.currenttage,this.feeValue))):this.leverage=""},leverage:function(t){t&&(this.leverage=Object(d["h"])(t,0),Number(t)>this.maxLeverage&&(this.leverage=this.maxLeverage),this.setPosition(),this.setMaxNumber())}},methods:{init:function(){this.initForm(),this.getladderList(),this.userConfig?(this.leverage=this.userConfig.nowLevel,this.minLeverage=this.userConfig.minLevel,this.maxLeverage=this.userConfig.maxLevel):this.leverage=20,document.onmouseup=function(){document.onmousemove=null}},initForm:function(){this.openMargin=0,this.revenue=0,this.closePrice=0,this.forceClosePrice=0,this.openMarginClass="",this.revenueClass="",this.closePriceClass="",this.forceClosePriceClass="",this.formData_1.value=null,this.formData_2.value=null,this.formData_3.value=null,this.formData_1.errorText=null,this.formData_2.errorText=null,this.formData_3.errorText=null,this.formData_1.title=this.lanText.text12,this.formData_2.title=this.lanText.text13,this.formData_3.title=this.lanText.text14,this.formData_1.units=this.priceUnit,this.formData_2.units=this.priceUnit,this.formData_3.units=this.volUnit,this.formData_1.fix=this.pricefix,this.formData_2.fix=this.pricefix,this.formData_3.fix=this.volfix,this.formData_3.isShow=!0,2===this.categoryType&&(this.formData_2.title=this.lanText.text8,this.formData_2.units="%",this.formData_2.fix=2,this.formData_3.isShow=!1),3===this.categoryType&&(this.formData_2.title=this.lanText.text21,this.formData_3.title=this.lanText.text22,this.formData_2.units=this.volUnit,this.formData_3.units=this.marginCoin,this.formData_2.fix=this.volfix,this.formData_3.fix=this.marginCoinFix)},changeInput:function(t,e){this[t].value=e},formVerify:function(){return!(!this.formData_1.value||!this.formData_2.value)&&!(2!==this.categoryType&&!this.formData_3.value)},submit:function(){if(this.formVerify()){var t=this.formData_1.value,e=this.formData_2.value,i=this.setNumber(this.formData_3.value);if(1===this.categoryType){var s,a=1===this.contractSide?Object(d["x"])(i,t):Object(d["e"])(i,t),n=Object(d["e"])(Object(d["e"])(a,this.leverage),this.marginRate);this.openMargin_opi=n,this.openMargin=Object(d["f"])(n,this.marginCoinFix),Number(this.openMargin)>0&&(this.openMarginClass="u-1-cl"),Number(this.openMargin)<0&&(this.openMarginClass="u-4-cl"),s=1===this.contractSide?e-t:Object(d["e"])(1,e)-Object(d["e"])(1,t);var r=Object(d["e"])(Object(d["x"])(s,i),this.marginRate),o=1===this.contractSide?r:-1*r;2===this.sideType&&(o=1===this.contractSide?-1*r:r),this.revenue_opi=o,this.revenue=Object(d["f"])(o,this.marginCoinFix),Number(this.revenue)>0&&(this.revenueClass="u-1-cl"),Number(this.revenue)<0&&(this.revenueClass="u-4-cl")}if(2===this.categoryType){var c,u=Object(d["e"])(e,100),l=Object(d["a"])(this.leverage,u);(1===this.contractSide&&2===this.sideType||0===this.contractSide&&1===this.sideType)&&(l=Object(d["d"])(this.leverage,u)),c=1===this.contractSide?Object(d["e"])(Object(d["x"])(t,l),this.leverage):Object(d["e"])(Object(d["x"])(t,this.leverage),l),c<=0?this.closePrice="none":(this.closePrice=Object(d["f"])(c,this.pricefix),Number(this.closePrice)>0&&(this.closePriceClass="u-1-cl"),Number(this.closePrice)<0&&(this.closePriceClass="u-4-cl"))}if(3===this.categoryType){e=this.setNumber(this.formData_2.value),i=this.formData_3.value;var h=75e-5,f=e*this.tagPrice,m=this.getladderValue(f),p=Object(d["e"])(i,this.marginRate),x=1===this.contractSide?Object(d["x"])(e,t):Object(d["e"])(e,t),b=Object(d["d"])(p,x),g=Object(d["d"])(Object(d["a"])(m,h),1);(1===this.contractSide&&2===this.sideType||0===this.contractSide&&1===this.sideType)&&(b=Object(d["a"])(p,x),g=Object(d["a"])(Object(d["a"])(m,h),1));var v=Object(d["x"])(g,e),C=1===this.contractSide?Object(d["e"])(b,v):Object(d["e"])(v,b);1===this.sideType&&C>t||2===this.sideType&&C<t?(this.forceClosePrice=this.lanText.text23,this.forceClosePriceNUm=!1,this.forceClosePriceClass="u-4-cl"):(this.forceClosePrice=this.thousandsComma(Object(d["f"])(C,this.pricefix)),this.forceClosePriceNUm=!0,Number(C)>0&&(this.forceClosePriceClass="u-1-cl"),Number(C)<0&&(this.forceClosePrice=this.lanText.text24,this.forceClosePriceNUm=!1,this.forceClosePriceClass="u-4-cl"))}}},setNumber:function(t){return 2===this.coUnitType&&t&&this.multiplier?Object(d["f"])(Object(d["x"])(t,this.multiplier),this.volfix_two):t},switchType:function(t,e){this[t]!==e&&(this[t]=e,this.initForm(),this.openMargin_opi=0,this.revenue_opi=0)},setMaxNumber:function(){var t=0;if(this.leverCeiling){var e=Object.keys(this.leverCeiling);e.sort((function(t,e){return parseFloat(t)-parseFloat(e)}));for(var i=0,s=0;s<e.length;s+=1)Number(this.leverage)>i&&Number(this.leverage)<=e[s]&&(t=this.leverCeiling[e[s]]),i=e[s];1===this.coUnitType&&(this.maxNumber=Object(d["f"])(t,this.volfix)),2===this.coUnitType&&(this.maxNumber=Object(d["f"])(Object(d["e"])(t,this.multiplier),0))}},setPosition:function(){this.leverage?this.leverage<2?this.stepPosition=0:this.stepPosition=Object(d["e"])(this.leverage,this.feeValue):this.stepPosition=1},onmousedownCick:function(t){var e=this.$refs.dragStepWrap,i=e.getBoundingClientRect().x,s=t||window.event,a=s.clientX-i,n=parseInt(Object(d["x"])(Object(d["e"])(a,e.offsetWidth),100),0);this.stepPosition=n<1?1:n,this.currenttage=n<1?1:n},onmousedown:function(t){var e=this,i=t||window.event,s=this.$refs.dragStep,a=this.$refs.dragStepWrap,n=i.clientX-s.offsetLeft;document.onmousemove=function(t){i=t||window.event;var s=i.clientX-n;s<0?s=0:s>a.offsetWidth&&(s=a.offsetWidth);var r=parseInt(Object(d["x"])(Object(d["e"])(s,a.offsetWidth),100),0);e.stepPosition=r<1?1:r,e.currenttage=r<1?1:r,document.onmouseup=function(){document.onmousemove=null}},document.onmouseup=function(){document.onmousemove=null}},dragStep:function(t){this.stepPosition=Object(d["x"])(t,20),this.currenttage=Object(d["x"])(t,20),this.$emit("levelChange",t)},nulFun:function(t,e){return Math.round(Object(d["x"])(t,e))},getladderValue:function(t){var e=0;return this.ladderList&&this.ladderList.length&&(e=this.ladderList[this.ladderList.length-1].minMarginRate,0===t?e=this.ladderList[0].minMarginRate:this.ladderList.forEach((function(i){t>i.minPositionValue&&t<=i.maxPositionValue&&(e=i.minMarginRate)}))),e},getladderList:function(){var t=this;this.axios({url:this.$store.state.url.futures.getLadderInfo,method:"post",hostType:"co",params:{contractId:this.contractId}}).then((function(e){if(t.tableLoading=!1,"0"===e.code&&e.data){if(e.data.ladderList&&(t.ladderList=e.data.ladderList.ladderList||[]),e.data.leverList){var i=e.data.leverList;t.minLeverage=i.minLever,t.maxLeverage=i.maxLever}e.data.leverCeiling&&(t.leverCeiling=e.data.leverCeiling),t.userConfig||(t.leverage=20)}}))},add:function(){if(Number(this.leverage)<Number(this.maxLeverage)){var t=Number(this.leverage)+1;this.leverage=t}},subtract:function(){if(Number(this.leverage)>1){var t=Number(this.leverage)-1;this.leverage=t}},thousandsComma:function(t){return t?Object(d["F"])(t):t}}},li=(i("ad85"),{mixins:[ui],components:{formInput:Nt},mounted:function(){}}),hi=li,fi=Object(C["a"])(hi,oi,ci,!1,null,null,null),di=fi.exports,mi={mixins:[u],components:{currentSymbol:D,search:I,market:T,tradingView:nt,Depth:Dt,tradeForm:oe,assets:Te,orderList:Ze,openFutures:Qe["a"],setFutures:ri,calculator:di},data:function(){return{activeExchange:"futures",coinTabs:[{label:this.$t("pageTitle.spot"),value:"spot"},{label:this.$t("pageTitle.futures"),value:"futures"}]}},mounted:function(){this.init()},methods:{handlerChangeTab:function(t){this.activeExchange=t.value,this.$emit("tabChange",t.value)}}},pi=mi,xi=(i("9b25"),Object(C["a"])(pi,s,a,!1,null,"01103ef0",null));e["default"]=xi.exports},1204:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"divInput"},[s("div",{staticClass:"input",on:{click:t.openValue}},[t.showLabel?s("span",[t._v(t._s(t.text))]):s("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",readonly:""},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),s("img",{attrs:{src:i("ec87"),alt:""}})]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:"list"},[s("ul",t._l(t.options,(function(e,i){return s("li",{key:i,class:{active:e===t.value||e.value===t.value},on:{click:function(i){return t.getvalue(e)}}},[t._v(t._s(e.label?e.label:e))])})),0)])])},a=[],n=(i("d25f"),i("c5f6"),{model:{prop:"value",event:"change"},props:{value:{type:[String,Number],default:""},options:{type:Array,default:function(){return[]}},showLabel:{type:Boolean,default:!1}},data:function(){return{show:!1,text:""}},mounted:function(){var t=this;this.showLabel&&(this.text=this.options.filter((function(e){return e.value===t.value}))[0].label)},methods:{openValue:function(){this.show=!this.show},getvalue:function(t){this.text=t.label,this.$emit("change",t.value?t.value:t),this.show=!1}}}),r=n,o=(i("2958"),i("2877")),c=Object(o["a"])(r,s,a,!1,null,null,null);e["a"]=c.exports},"168b":function(t,e,i){},"17e6":function(t,e,i){"use strict";i("771b")},"23c4":function(t,e,i){"use strict";i("2e2b")},"26c0":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"tab-list"},t._l(t.list,(function(e,s){return i("li",{key:s,staticClass:"tab-item",class:{active:e.value===t.value},style:{width:t.tabItemWidth},on:{click:function(i){return t.handlerClick(e)}}},[t._v(t._s(e.label))])})),0)},a=[],n=(i("c5f6"),{model:{prop:"value",event:"click"},props:{value:{type:[String,Number],default:""},tabItemWidth:{type:String,default:""},list:{type:Array,default:function(){return[]}}},methods:{handlerClick:function(t){this.$emit("click",t.value)}}}),r=n,o=(i("941b"),i("2877")),c=Object(o["a"])(r,s,a,!1,null,"77842399",null);e["a"]=c.exports},2934:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAMAAAANIilAAAABTmlDQ1BpY2MAAChTY2BgUkksKMhhYWBgyM0rKQpyd1KIiIxSYH/IwA6EvAxiDAqJycUFjgEBPkAlDDAaFXy7xsAIoi/rgsw6JTW1SbVewNdipvDVi69EmzDVowCulNTiZCD9B4hTkwuKShgYGFOAbOXykgIQuwPIFikCOgrIngNip0PYG0DsJAj7CFhNSJAzkH0DyFZIzkgEmsH4A8jWSUIST0diQ+0FAW6XzOKCnMRKhQBjDPdRDEpSK0pAtHN+QWVRZnpGiYIjMJRSFTzzkvV0FIwMDM0ZGEBhDlH9ORAcloxiZxBizfcZGGz3////fzdCzGs/A8NGoE6unQgxDQsGBkFuBoYTOwsSixLBQsxAzJSWxsDwaTkDA28kA4PwBaCe6OI0YyOwPCOPEwMD673//z+rMTCwT2Zg+Dvh///fi/7//7sYqPkOA8OBPAAVIWXuDav3WAAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAw1BMVEUAAAC2ttuos8yotsumtMyns8qotMyqs8yotMymtMyntMuuvMmntMuotMuotcyqtc+otc2otsxrcIUYGCIkJCRJTVsWFh8XFx8gICAWFiAWFiAaGiMXFx8XFyAXFycXFyAWFh8aGiEzMzMXFyAXFyAXFyJVVVUWFiAXFx8ZGSP///8XFyAWFiAWFh8XFyAWFh8YGCAXFyAXFx8ZGSAXFyEXFyAXFyAWFh8WFh8YGCAWFh8WFh8YGCAZGSIYGB8WFh/////MGRzmAAAAP3RSTlMABzJec4OSHmmVmRNjLJBFmGlkSweE/dMYttodg98hsuQnBaroLQOh7DMBmPA5j/NAhvZIfPlPcvtp/uNgU0mGEnbRAAAAAWJLR0QqU77UngAAAAd0SU1FB+UCDxInJFGaQg0AAAGOelRYdFJhdyBwcm9maWxlIHR5cGUgaWNjAAA4T6VTW27EMAj89yl6BF4G+zh+xFLvf4FiO4l2V91WVUeKEgMZYMDhs7XwMRElBZggEkUDA20gywLa9TAxiiQmRBBTzLEQgB3objufDoDqBBAUlY0NBCNEkAYnXs8/YXjWWRFehs7Ur8pawZJjIoo2EKRzyhm5x45HQbe/koVXwy8oKhqNlfdxnBVrDN4YGNlWBvVUiNjMFYLLntK241RtqbWPuV32oPboqHA59OmHJg9E4gPYFWE/E0yxWZNeleC4HE3f/OCJ3xA99Xyjimie09Tm8mcfP/BrzBP+KvZb/JvIZkfJ5CYS1uFTykaa1dRd5Eu5d0qjf2c9lOmgRsDEwMhzs++Nf6pocJzLeS0oou/lfTUekLiP+eZex0at4btAKXUF1jMrlJq/i6PEa2qIUFdFLdXsLaC3dV8XxzUlUsf8GFQ2cY95EXDfESXW4KNXZn5MhdBkn2M/VuVMi8glXOSjZ9gdFVrvXnhrxH2tegM9whe8zeykgATEeAAAATlJREFUSEvtldlOw0AMRZ09cZImhVJ2WvZ93ylw//+veEBFUTJjI0YgHnKe71EmHo9N1NPz93h+EEZxHIWB72nZFkma8RdZmmj5BnnBLYpcc+aUg7bLPCg165Oq7rrMdaV5RESVSWVm/oZdGr/LzFyrJ88N/ztnoFWtU+cmhewmksss3/dQllPJ9Rp9ZSKTOtWXXWZfkANNDgQ51ORQkCNNjgQ51uT4t2SnYzsVzOmqnJrEqT2dHobbk3QaBm5jyGkACqN3YXGkudahvzTG8orm2tbNKoC1dc21LLoNANjc0lwiSoadFTuaAMB0W1OJTMt9ZxcA9vZlz8bBIQAcHWs5MyenAHB2ruUsXADA5ZUWs3ANADe3WszCHQDcP2gxC48A8PRT+/kFwExL2XgdO8j0Npu+a5me/8YHYzw3f1cPZHwAAAA4ZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAKgAgAEAAAAAQAAADygAwAEAAAAAQAAADwAAAAAqBfLZgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAyMS0wMi0xNVQxODozOTozNiswMDowMN1bX58AAAAldEVYdGRhdGU6bW9kaWZ5ADIwMjEtMDItMTVUMTg6Mzk6MzYrMDA6MDCsBucjAAAAEnRFWHRleGlmOkV4aWZPZmZzZXQAMjZTG6JlAAAAF3RFWHRleGlmOlBpeGVsWERpbWVuc2lvbgA2MBvV8n4AAAAXdEVYdGV4aWY6UGl4ZWxZRGltZW5zaW9uADYwxkMr+wAAAABJRU5ErkJggg=="},2958:function(t,e,i){"use strict";i("bf98")},"29fa":function(t,e,i){},"2a8c":function(t,e,i){"use strict";i("da15")},"2dfe":function(t,e,i){},"2e2b":function(t,e,i){},"30d6":function(t,e,i){},3625:function(t,e,i){},3647:function(t,e,i){},3682:function(t,e,i){},"3b1c":function(t,e,i){},"3fe7":function(t,e,i){},"49bf":function(t,e,i){},"537a":function(t,e,i){},"5c6b":function(t,e,i){"use strict";i("fac4")},"634f":function(t,e,i){},"771b":function(t,e,i){},"785b":function(t,e,i){(function(e){
/*!
{
  "copywrite": "Copyright (c) 2018-present",
  "date": "2019-01-21T12:39:36.944Z",
  "describe": "",
  "description": "Vue directive to react on clicks outside an element.",
  "file": "v-click-outside-x.min.js",
  "hash": "ef8b7b3c24168423686e",
  "license": "MIT",
  "version": "3.7.1"
}
*/
!function(e,i){t.exports=i()}(function(){"use strict";"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e||Function("return this")()}(),(function(){return function(t){var e={};function i(s){if(e[s])return e[s].exports;var a=e[s]={i:s,l:!1,exports:{}};return t[s].call(a.exports,a,a.exports,i),a.l=!0,a.exports}return i.m=t,i.c=e,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter((function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable})))),s.forEach((function(e){n(t,e,i[e])}))}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.install=function(t){t.directive("click-outside",d)},e.directive=void 0;var r=Object.create(null),o=Object.create(null),c=[r,o],u=function(t,e,i){var s=i.target,a=function(e){var a=e.el;if(a!==s&&!a.contains(s)){var n=e.binding;n.modifiers.stop&&i.stopPropagation(),n.modifiers.prevent&&i.preventDefault(),n.value.call(t,i)}};Object.keys(e).forEach((function(t){return e[t].forEach(a)}))},l=function(t){u(this,r,t)},h=function(t){u(this,o,t)},f=function(t){return t?l:h},d=Object.defineProperties({},{$_captureInstances:{value:r},$_nonCaptureInstances:{value:o},$_onCaptureEvent:{value:l},$_onNonCaptureEvent:{value:h},bind:{value:function(t,e){if("function"!=typeof e.value)throw new TypeError("Binding value must be a function.");var i=e.arg||"click",n=a({},e,{arg:i,modifiers:a({},{capture:!1,prevent:!1,stop:!1},e.modifiers)}),c=n.modifiers.capture,u=c?r:o;Array.isArray(u[i])||(u[i]=[]),1===u[i].push({el:t,binding:n})&&"object"===("undefined"==typeof document?"undefined":s(document))&&document&&document.addEventListener(i,f(c),c)}},unbind:{value:function(t){var e=function(e){return e.el!==t};c.forEach((function(t){var i=Object.keys(t);if(i.length){var a=t===r;i.forEach((function(i){var n=t[i].filter(e);n.length?t[i]=n:("object"===("undefined"==typeof document?"undefined":s(document))&&document&&document.removeEventListener(i,f(a),a),delete t[i])}))}}))}},version:{enumerable:!0,value:"3.7.1"}});e.directive=d}])}))}).call(this,i("c8ba"))},"7c23":function(t,e,i){"use strict";i("e69a")},"7c5c":function(t,e,i){},"7d9f":function(t,e,i){"use strict";i("ef47")},"8b11":function(t,e,i){"use strict";i("e029")},"8c63":function(t,e,i){},"941b":function(t,e,i){"use strict";i("cc2e")},"995e":function(t,e,i){"use strict";i("3647")},"9b25":function(t,e,i){"use strict";i("d929")},a55d:function(t,e,i){},a937:function(t,e,i){},ad85:function(t,e,i){},b80d:function(t,e,i){"use strict";i("29fa")},bf98:function(t,e,i){},c591:function(t,e,i){},cc2e:function(t,e,i){},d929:function(t,e,i){},da15:function(t,e,i){},db04:function(t,e,i){},e029:function(t,e,i){},e493:function(t,e,i){},e695:function(t,e,i){},e69a:function(t,e,i){},ea14:function(t,e,i){},eaae:function(t,e,i){"use strict";i("3682")},ec87:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAAGXcA1uAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAA4ZVhJZk1NACoAAAAIAAGHaQAEAAAAAQAAABoAAAAAAAKgAgAEAAAAAQAAABigAwAEAAAAAQAAABgAAAAAwf1XlwAAAdJJREFUSA3tVcFOAjEQbbdGI+JhcVfAk4kXL7v4Cf6AGhITRW/6F36LHk30ZKL/oRESSTTowYPZQOQERHSpM6Utu7ALS+LFhCa0nZn3Zqad2UJI1MjYhYMovdSZlsNxq9bBxsptbUuQXqysu6MFpKB3TdWWxJuM5TwNg03bqRmQ0yb4/VJGjEGJcUZRAUIPlm/4zVNqHH7WH69RLwYaJ5xZQadcacZ2PjgnOeB1m43KQhQfQ3Peu0KbSBY3MmGUNTEElIfQBCThCBCFPHJaof3fE4MmqC6m8y+dllcbdxRsjFR6rUrhVkTPMkZ3G175LopkWu4PIZxBEV4NuLZTBPk+vw21sGRqMKF+s17ZYJ2295Bayr+Dhz2oeCm9nLtvt7xnxIfAjfIc6nThoKonUP4LVGJ6vk9uRBroWYJDBBSCJJTBXwiMGoaTGsH0osAKN1v/+AaoabtvhPN16bcLNd6Pa8FJsfsvAL/s9wegoVWht90SKEA5aCrYTxVoxLHIhPqMkeJwp55PEyjOMaX0WD3COoAICpPs7rGBkjhW/kYCKENcILhJ+HrgKdCD+sGMtVpuYgMoYEwgMI93rPiJVzPrHEHH1fGPZ2W1UExMnAEn3cAv/3HauRe9XxIAAAAASUVORK5CYII="},ee3b:function(t,e,i){},ef47:function(t,e,i){},fac4:function(t,e,i){},fbb2:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("c-dialog",{attrs:{showFlag:t.isShow,titleText:t.$t("futures.transfer.transfer"),confirmLoading:t.dialogConfirmLoading,confirmText:t.confirmText,confirmDisabled:t.dialogConfirmDisabled},on:{close:t.close,confirm:t.dialogConfirm}},[i("c-select",{attrs:{promptText:t.$t("futures.transfer.coin"),value:t.axiosSymbol,options:t.symbolList,errorHave:!0,width:"100%",filterable:!0},on:{onChanges:t.symbolChange}}),i("section",{staticClass:"transfer-box"},[i("ul",{staticClass:"transfer-content a-4-bg"},[i("li",{staticClass:"transfer-page"},[i("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("futures.transfer.from")))]),i("div",{staticClass:"transfer-page-name b-1-cl"},[t._v(t._s(t.side.from))])]),i("li",{staticClass:"transfer-icon"},[i("svg",{staticClass:"icon icon-36",attrs:{"aria-hidden":"true"},on:{click:t.setTransferSide}},[i("use",{attrs:{"xlink:href":"#icon-f_4"}})])]),i("li",{staticClass:"transfer-page"},[i("div",{staticClass:"transfer-page-side"},[t._v(t._s(t.$t("futures.transfer.to")))]),i("div",{staticClass:"transfer-page-name b-1-cl"},[t._v(t._s(t.side.to))])])]),i("c-inputLine",{attrs:{name:"transferValue",value:t.transferValue,promptText:t.$t("futures.transfer.volume"),errorHave:!0,errorFlag:t.transferError,errorText:t.$t("futures.transfer.volumeError"),warningText:t.transferWarningText},on:{onchanges:t.inputLineChange}},[i("c-button",{attrs:{type:"text",height:"30px"},on:{click:t.allTransfer}},[t._v("\n            "+t._s(t.$t("futures.transfer.all"))+"\n          ")])],1)],1)],1)],1)},a=[],n=(i("6b54"),i("87b3"),i("c5f6"),i("ac6a"),i("f3e2"),i("95d5")),r={name:"forced-reminder",data:function(){return{dialogConfirmLoading:!1,axiosSymbol:"",transferSide:"1",transferValue:"",detailsData:{},exchangeAmount:null,contractAmount:null}},props:{isShow:{default:!1,type:Boolean},finish:{default:!1,type:Boolean},close:{default:function(){},type:Function},symbol:{default:"",type:String}},computed:{marginCoinInfor:function(){return this.$store.state.future.marginCoinInfor?this.$store.state.future.marginCoinInfor:{}},marginCoinList:function(){return this.$store.state.future.marginCoinList?this.$store.state.future.marginCoinList:[]},symbolList:function(){if(0!==this.marginCoinList.length){var t=[];return this.marginCoinList.forEach((function(e){t.push({value:e,code:e})})),t}return[]},accountBalanceMap:function(){return this.$store.state.future.futureAccountBalance?this.$store.state.future.futureAccountBalance:{}},exchangeData:function(){return this.$store.state.assets.exchangeData?this.$store.state.assets.exchangeData:null},showPrecision:function(){return this.marginCoinInfor&&this.axiosSymbol?this.marginCoinInfor[this.axiosSymbol].marginCoinPrecision:4},fundsInStatus:function(){return!(!this.marginCoinInfor||!this.axiosSymbol)&&this.marginCoinInfor[this.axiosSymbol].fundsInStatus},fundsOutStatus:function(){return!(!this.marginCoinInfor||!this.axiosSymbol)&&this.marginCoinInfor[this.axiosSymbol].fundsOutStatus},dialogConfirmDisabled:function(){if(this.dialogConfirmLoading)return!1;var t=!0;return parseFloat(this.transferValue)>0&&!this.transferError&&(t=!1),this.marginCoinInfor&&this.axiosSymbol&&("1"===this.transferSide?this.axiosSymbol&&!this.fundsInStatus&&(t=!0):"2"===this.transferSide&&this.axiosSymbol&&!this.fundsOutStatus&&(t=!0)),t},transferError:function(){var t=!1;return"1"===this.transferSide?parseFloat(this.transferValue)>parseFloat(this.exchangeAmount)&&(t=!0):"2"===this.transferSide&&parseFloat(this.transferValue)>parseFloat(this.contractAmount)&&(t=!0),t},transferWarningText:function(){var t=this.$t("futures.transfer.canTransfer"),e=null;return this.marginCoinInfor&&this.axiosSymbol?(t=this.$t("futures.transfer.canTransfer"),e="1"===this.transferSide?Object(n["f"])(this.exchangeAmount,this.showPrecision):Object(n["f"])(this.contractAmount,this.showPrecision),"".concat(t," ").concat(e," ").concat(this.axiosSymbol)):"".concat(t," ").concat(e," ").concat(this.axiosSymbol)},confirmText:function(){var t=this.$t("futures.transfer.confirm");return this.marginCoinInfor&&this.axiosSymbol&&("1"===this.transferSide&&this.axiosSymbol&&!this.fundsInStatus&&(t=this.$t("futures.transfer.cantIn")),"2"===this.transferSide&&this.axiosSymbol&&!this.fundsOutStatus&&(t=this.$t("futures.transfer.cantOut"))),t},side:function(){var t=this.$t("futures.transfer.exchangeAccount"),e=this.$t("futures.transfer.coAccount"),i="",s="";return"1"===this.transferSide?(i=t,s=e):(i=e,s=t),{from:i,to:s}}},watch:{isShow:function(t){t&&(this.axiosSymbol=this.symbol,this.getData())},exchangeData:function(t){if(t&&this.axiosSymbol)if(void 0!==t.allCoinMap[this.axiosSymbol]){var e=t.allCoinMap[this.axiosSymbol].normal_balance;this.exchangeAmount=Object(n["f"])(e,this.showPrecision)}else this.exchangeAmount=Object(n["f"])(0,this.showPrecision)},accountBalanceMap:function(t){t&&this.axiosSymbol&&(this.contractAmount=t[this.axiosSymbol].canUseAmount)},symbol:function(t){t&&this.isShow&&this.getData()},transferValue:function(t){t&&this.showPrecision&&(this.transferValue=Object(n["h"])(t,this.showPrecision))}},methods:{init:function(){},getData:function(){this.$store.dispatch("getPositionList"),this.$store.dispatch("assetsExchangeData"),this.transferValue=""},symbolChange:function(t){this.axiosSymbol=t.code,this.getData()},inputLineChange:function(t,e){this[e]=t},dialogConfirm:function(){this.dialogConfirmLoading=!0,this.toCoTransfer()},toCoTransfer:function(){var t=this;this.axios({url:"contract/co_transfer",hostType:"ex",params:{transferType:"1"===this.transferSide?"wallet_to_contract":"contract_to_wallet",amount:Number(this.transferValue),coinSymbol:this.axiosSymbol},method:"post"}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.close(!0),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},toExchange:function(){var t=this;this.axios({url:"assets/saas_trans/co_to_ex",hostType:"co",params:{amount:Number(this.transferValue),coinSymbol:this.axiosSymbol},method:"post"}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.close(!0),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},toContract:function(){var t=this;this.axios({url:"web/futures_transfer",hostType:"ex",params:{amount:Number(this.transferValue),coinSymbol:this.axiosSymbol},method:"post"}).then((function(e){t.dialogConfirmLoading=!1,"0"===e.code.toString()?(t.close(!0),t.$bus.$emit("tip",{text:e.msg,type:"success"})):t.$bus.$emit("tip",{text:e.msg,type:"error"})}))},setTransferSide:function(){"1"===this.transferSide?this.transferSide="2":"2"===this.transferSide&&(this.transferSide="1"),this.transferValue=""},allTransfer:function(){if("1"===this.transferSide){if(null===this.exchangeAmount)return;this.transferValue=this.exchangeAmount.toString()}else if("2"===this.transferSide){if(!this.contractAmount)return;this.transferValue=this.contractAmount.toString()}}}},o=(i("c591"),{mixins:[r],mounted:function(){this.init()}}),c=o,u=(i("8b11"),i("2877")),l=Object(u["a"])(c,s,a,!1,null,"4683ffc2",null);e["a"]=l.exports}}]);